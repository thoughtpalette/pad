(function(){var e=this,t=e._,n={},r=Array.prototype,i=Object.prototype,s=Function.prototype,o=r.push,u=r.slice,a=r.concat,f=r.unshift,l=i.toString,c=i.hasOwnProperty,h=r.forEach,p=r.map,d=r.reduce,v=r.reduceRight,m=r.filter,g=r.every,y=r.some,b=r.indexOf,w=r.lastIndexOf,E=Array.isArray,S=Object.keys,x=s.bind,T=function(e){if(e instanceof T)return e;if(!(this instanceof T))return new T(e);this._wrapped=e};typeof exports!="undefined"?(typeof module!="undefined"&&module.exports&&(exports=module.exports=T),exports._=T):e._=T,T.VERSION="1.4.2";var N=T.each=T.forEach=function(e,t,r){if(e==null)return;if(h&&e.forEach===h)e.forEach(t,r);else if(e.length===+e.length){for(var i=0,s=e.length;i<s;i++)if(t.call(r,e[i],i,e)===n)return}else for(var o in e)if(T.has(e,o)&&t.call(r,e[o],o,e)===n)return};T.map=T.collect=function(e,t,n){var r=[];return e==null?r:p&&e.map===p?e.map(t,n):(N(e,function(e,i,s){r[r.length]=t.call(n,e,i,s)}),r)},T.reduce=T.foldl=T.inject=function(e,t,n,r){var i=arguments.length>2;e==null&&(e=[]);if(d&&e.reduce===d)return r&&(t=T.bind(t,r)),i?e.reduce(t,n):e.reduce(t);N(e,function(e,s,o){i?n=t.call(r,n,e,s,o):(n=e,i=!0)});if(!i)throw new TypeError("Reduce of empty array with no initial value");return n},T.reduceRight=T.foldr=function(e,t,n,r){var i=arguments.length>2;e==null&&(e=[]);if(v&&e.reduceRight===v)return r&&(t=T.bind(t,r)),arguments.length>2?e.reduceRight(t,n):e.reduceRight(t);var s=e.length;if(s!==+s){var o=T.keys(e);s=o.length}N(e,function(u,a,f){a=o?o[--s]:--s,i?n=t.call(r,n,e[a],a,f):(n=e[a],i=!0)});if(!i)throw new TypeError("Reduce of empty array with no initial value");return n},T.find=T.detect=function(e,t,n){var r;return C(e,function(e,i,s){if(t.call(n,e,i,s))return r=e,!0}),r},T.filter=T.select=function(e,t,n){var r=[];return e==null?r:m&&e.filter===m?e.filter(t,n):(N(e,function(e,i,s){t.call(n,e,i,s)&&(r[r.length]=e)}),r)},T.reject=function(e,t,n){var r=[];return e==null?r:(N(e,function(e,i,s){t.call(n,e,i,s)||(r[r.length]=e)}),r)},T.every=T.all=function(e,t,r){t||(t=T.identity);var i=!0;return e==null?i:g&&e.every===g?e.every(t,r):(N(e,function(e,s,o){if(!(i=i&&t.call(r,e,s,o)))return n}),!!i)};var C=T.some=T.any=function(e,t,r){t||(t=T.identity);var i=!1;return e==null?i:y&&e.some===y?e.some(t,r):(N(e,function(e,s,o){if(i||(i=t.call(r,e,s,o)))return n}),!!i)};T.contains=T.include=function(e,t){var n=!1;return e==null?n:b&&e.indexOf===b?e.indexOf(t)!=-1:(n=C(e,function(e){return e===t}),n)},T.invoke=function(e,t){var n=u.call(arguments,2);return T.map(e,function(e){return(T.isFunction(t)?t:e[t]).apply(e,n)})},T.pluck=function(e,t){return T.map(e,function(e){return e[t]})},T.where=function(e,t){return T.isEmpty(t)?[]:T.filter(e,function(e){for(var n in t)if(t[n]!==e[n])return!1;return!0})},T.max=function(e,t,n){if(!t&&T.isArray(e)&&e[0]===+e[0]&&e.length<65535)return Math.max.apply(Math,e);if(!t&&T.isEmpty(e))return-Infinity;var r={computed:-Infinity};return N(e,function(e,i,s){var o=t?t.call(n,e,i,s):e;o>=r.computed&&(r={value:e,computed:o})}),r.value},T.min=function(e,t,n){if(!t&&T.isArray(e)&&e[0]===+e[0]&&e.length<65535)return Math.min.apply(Math,e);if(!t&&T.isEmpty(e))return Infinity;var r={computed:Infinity};return N(e,function(e,i,s){var o=t?t.call(n,e,i,s):e;o<r.computed&&(r={value:e,computed:o})}),r.value},T.shuffle=function(e){var t,n=0,r=[];return N(e,function(e){t=T.random(n++),r[n-1]=r[t],r[t]=e}),r};var k=function(e){return T.isFunction(e)?e:function(t){return t[e]}};T.sortBy=function(e,t,n){var r=k(t);return T.pluck(T.map(e,function(e,t,i){return{value:e,index:t,criteria:r.call(n,e,t,i)}}).sort(function(e,t){var n=e.criteria,r=t.criteria;if(n!==r){if(n>r||n===void 0)return 1;if(n<r||r===void 0)return-1}return e.index<t.index?-1:1}),"value")};var L=function(e,t,n,r){var i={},s=k(t);return N(e,function(t,o){var u=s.call(n,t,o,e);r(i,u,t)}),i};T.groupBy=function(e,t,n){return L(e,t,n,function(e,t,n){(T.has(e,t)?e[t]:e[t]=[]).push(n)})},T.countBy=function(e,t,n){return L(e,t,n,function(e,t,n){T.has(e,t)||(e[t]=0),e[t]++})},T.sortedIndex=function(e,t,n,r){n=n==null?T.identity:k(n);var i=n.call(r,t),s=0,o=e.length;while(s<o){var u=s+o>>>1;n.call(r,e[u])<i?s=u+1:o=u}return s},T.toArray=function(e){return e?e.length===+e.length?u.call(e):T.values(e):[]},T.size=function(e){return e.length===+e.length?e.length:T.keys(e).length},T.first=T.head=T.take=function(e,t,n){return t!=null&&!n?u.call(e,0,t):e[0]},T.initial=function(e,t,n){return u.call(e,0,e.length-(t==null||n?1:t))},T.last=function(e,t,n){return t!=null&&!n?u.call(e,Math.max(e.length-t,0)):e[e.length-1]},T.rest=T.tail=T.drop=function(e,t,n){return u.call(e,t==null||n?1:t)},T.compact=function(e){return T.filter(e,function(e){return!!e})};var A=function(e,t,n){return N(e,function(e){T.isArray(e)?t?o.apply(n,e):A(e,t,n):n.push(e)}),n};T.flatten=function(e,t){return A(e,t,[])},T.without=function(e){return T.difference(e,u.call(arguments,1))},T.uniq=T.unique=function(e,t,n,r){var i=n?T.map(e,n,r):e,s=[],o=[];return N(i,function(n,r){if(t?!r||o[o.length-1]!==n:!T.contains(o,n))o.push(n),s.push(e[r])}),s},T.union=function(){return T.uniq(a.apply(r,arguments))},T.intersection=function(e){var t=u.call(arguments,1);return T.filter(T.uniq(e),function(e){return T.every(t,function(t){return T.indexOf(t,e)>=0})})},T.difference=function(e){var t=a.apply(r,u.call(arguments,1));return T.filter(e,function(e){return!T.contains(t,e)})},T.zip=function(){var e=u.call(arguments),t=T.max(T.pluck(e,"length")),n=new Array(t);for(var r=0;r<t;r++)n[r]=T.pluck(e,""+r);return n},T.object=function(e,t){var n={};for(var r=0,i=e.length;r<i;r++)t?n[e[r]]=t[r]:n[e[r][0]]=e[r][1];return n},T.indexOf=function(e,t,n){if(e==null)return-1;var r=0,i=e.length;if(n){if(typeof n!="number")return r=T.sortedIndex(e,t),e[r]===t?r:-1;r=n<0?Math.max(0,i+n):n}if(b&&e.indexOf===b)return e.indexOf(t,n);for(;r<i;r++)if(e[r]===t)return r;return-1},T.lastIndexOf=function(e,t,n){if(e==null)return-1;var r=n!=null;if(w&&e.lastIndexOf===w)return r?e.lastIndexOf(t,n):e.lastIndexOf(t);var i=r?n:e.length;while(i--)if(e[i]===t)return i;return-1},T.range=function(e,t,n){arguments.length<=1&&(t=e||0,e=0),n=arguments[2]||1;var r=Math.max(Math.ceil((t-e)/n),0),i=0,s=new Array(r);while(i<r)s[i++]=e,e+=n;return s};var O=function(){};T.bind=function(t,n){var r,i;if(t.bind===x&&x)return x.apply(t,u.call(arguments,1));if(!T.isFunction(t))throw new TypeError;return i=u.call(arguments,2),r=function(){if(this instanceof r){O.prototype=t.prototype;var e=new O,s=t.apply(e,i.concat(u.call(arguments)));return Object(s)===s?s:e}return t.apply(n,i.concat(u.call(arguments)))}},T.bindAll=function(e){var t=u.call(arguments,1);return t.length==0&&(t=T.functions(e)),N(t,function(t){e[t]=T.bind(e[t],e)}),e},T.memoize=function(e,t){var n={};return t||(t=T.identity),function(){var r=t.apply(this,arguments);return T.has(n,r)?n[r]:n[r]=e.apply(this,arguments)}},T.delay=function(e,t){var n=u.call(arguments,2);return setTimeout(function(){return e.apply(null,n)},t)},T.defer=function(e){return T.delay.apply(T,[e,1].concat(u.call(arguments,1)))},T.throttle=function(e,t){var n,r,i,s,o,u,a=T.debounce(function(){o=s=!1},t);return function(){n=this,r=arguments;var f=function(){i=null,o&&(u=e.apply(n,r)),a()};return i||(i=setTimeout(f,t)),s?o=!0:(s=!0,u=e.apply(n,r)),a(),u}},T.debounce=function(e,t,n){var r,i;return function(){var s=this,o=arguments,u=function(){r=null,n||(i=e.apply(s,o))},a=n&&!r;return clearTimeout(r),r=setTimeout(u,t),a&&(i=e.apply(s,o)),i}},T.once=function(e){var t=!1,n;return function(){return t?n:(t=!0,n=e.apply(this,arguments),e=null,n)}},T.wrap=function(e,t){return function(){var n=[e];return o.apply(n,arguments),t.apply(this,n)}},T.compose=function(){var e=arguments;return function(){var t=arguments;for(var n=e.length-1;n>=0;n--)t=[e[n].apply(this,t)];return t[0]}},T.after=function(e,t){return e<=0?t():function(){if(--e<1)return t.apply(this,arguments)}},T.keys=S||function(e){if(e!==Object(e))throw new TypeError("Invalid object");var t=[];for(var n in e)T.has(e,n)&&(t[t.length]=n);return t},T.values=function(e){var t=[];for(var n in e)T.has(e,n)&&t.push(e[n]);return t},T.pairs=function(e){var t=[];for(var n in e)T.has(e,n)&&t.push([n,e[n]]);return t},T.invert=function(e){var t={};for(var n in e)T.has(e,n)&&(t[e[n]]=n);return t},T.functions=T.methods=function(e){var t=[];for(var n in e)T.isFunction(e[n])&&t.push(n);return t.sort()},T.extend=function(e){return N(u.call(arguments,1),function(t){for(var n in t)e[n]=t[n]}),e},T.pick=function(e){var t={},n=a.apply(r,u.call(arguments,1));return N(n,function(n){n in e&&(t[n]=e[n])}),t},T.omit=function(e){var t={},n=a.apply(r,u.call(arguments,1));for(var i in e)T.contains(n,i)||(t[i]=e[i]);return t},T.defaults=function(e){return N(u.call(arguments,1),function(t){for(var n in t)e[n]==null&&(e[n]=t[n])}),e},T.clone=function(e){return T.isObject(e)?T.isArray(e)?e.slice():T.extend({},e):e},T.tap=function(e,t){return t(e),e};var M=function(e,t,n,r){if(e===t)return e!==0||1/e==1/t;if(e==null||t==null)return e===t;e instanceof T&&(e=e._wrapped),t instanceof T&&(t=t._wrapped);var i=l.call(e);if(i!=l.call(t))return!1;switch(i){case"[object String]":return e==String(t);case"[object Number]":return e!=+e?t!=+t:e==0?1/e==1/t:e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object RegExp]":return e.source==t.source&&e.global==t.global&&e.multiline==t.multiline&&e.ignoreCase==t.ignoreCase}if(typeof e!="object"||typeof t!="object")return!1;var s=n.length;while(s--)if(n[s]==e)return r[s]==t;n.push(e),r.push(t);var o=0,u=!0;if(i=="[object Array]"){o=e.length,u=o==t.length;if(u)while(o--)if(!(u=M(e[o],t[o],n,r)))break}else{var a=e.constructor,f=t.constructor;if(a!==f&&!(T.isFunction(a)&&a instanceof a&&T.isFunction(f)&&f instanceof f))return!1;for(var c in e)if(T.has(e,c)){o++;if(!(u=T.has(t,c)&&M(e[c],t[c],n,r)))break}if(u){for(c in t)if(T.has(t,c)&&!(o--))break;u=!o}}return n.pop(),r.pop(),u};T.isEqual=function(e,t){return M(e,t,[],[])},T.isEmpty=function(e){if(e==null)return!0;if(T.isArray(e)||T.isString(e))return e.length===0;for(var t in e)if(T.has(e,t))return!1;return!0},T.isElement=function(e){return!!e&&e.nodeType===1},T.isArray=E||function(e){return l.call(e)=="[object Array]"},T.isObject=function(e){return e===Object(e)},N(["Arguments","Function","String","Number","Date","RegExp"],function(e){T["is"+e]=function(t){return l.call(t)=="[object "+e+"]"}}),T.isArguments(arguments)||(T.isArguments=function(e){return!!e&&!!T.has(e,"callee")}),typeof /./!="function"&&(T.isFunction=function(e){return typeof e=="function"}),T.isFinite=function(e){return T.isNumber(e)&&isFinite(e)},T.isNaN=function(e){return T.isNumber(e)&&e!=+e},T.isBoolean=function(e){return e===!0||e===!1||l.call(e)=="[object Boolean]"},T.isNull=function(e){return e===null},T.isUndefined=function(e){return e===void 0},T.has=function(e,t){return c.call(e,t)},T.noConflict=function(){return e._=t,this},T.identity=function(e){return e},T.times=function(e,t,n){for(var r=0;r<e;r++)t.call(n,r)},T.random=function(e,t){return t==null&&(t=e,e=0),e+(0|Math.random()*(t-e+1))};var _={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"}};_.unescape=T.invert(_.escape);var D={escape:new RegExp("["+T.keys(_.escape).join("")+"]","g"),unescape:new RegExp("("+T.keys(_.unescape).join("|")+")","g")};T.each(["escape","unescape"],function(e){T[e]=function(t){return t==null?"":(""+t).replace(D[e],function(t){return _[e][t]})}}),T.result=function(e,t){if(e==null)return null;var n=e[t];return T.isFunction(n)?n.call(e):n},T.mixin=function(e){N(T.functions(e),function(t){var n=T[t]=e[t];T.prototype[t]=function(){var e=[this._wrapped];return o.apply(e,arguments),F.call(this,n.apply(T,e))}})};var P=0;T.uniqueId=function(e){var t=P++;return e?e+t:t},T.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var H=/(.)^/,B={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},j=/\\|'|\r|\n|\t|\u2028|\u2029/g;T.template=function(e,t,n){n=T.defaults({},n,T.templateSettings);var r=new RegExp([(n.escape||H).source,(n.interpolate||H).source,(n.evaluate||H).source].join("|")+"|$","g"),i=0,s="__p+='";e.replace(r,function(t,n,r,o,u){s+=e.slice(i,u).replace(j,function(e){return"\\"+B[e]}),s+=n?"'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":r?"'+\n((__t=("+r+"))==null?'':__t)+\n'":o?"';\n"+o+"\n__p+='":"",i=u+t.length}),s+="';\n",n.variable||(s="with(obj||{}){\n"+s+"}\n"),s="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+s+"return __p;\n";try{var o=new Function(n.variable||"obj","_",s)}catch(u){throw u.source=s,u}if(t)return o(t,T);var a=function(e){return o.call(this,e,T)};return a.source="function("+(n.variable||"obj")+"){\n"+s+"}",a},T.chain=function(e){return T(e).chain()};var F=function(e){return this._chain?T(e).chain():e};T.mixin(T),N(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=r[e];T.prototype[e]=function(){var n=this._wrapped;return t.apply(n,arguments),(e=="shift"||e=="splice")&&n.length===0&&delete n[0],F.call(this,n)}}),N(["concat","join","slice"],function(e){var t=r[e];T.prototype[e]=function(){return F.call(this,t.apply(this._wrapped,arguments))}}),T.extend(T.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}})}).call(this)
;
Meteor={isClient:!0,isServer:!1}
;
_.extend(Meteor,{_get:function(e){for(var t=1;t<arguments.length;t++){if(!(arguments[t]in e))return undefined;e=e[arguments[t]]}return e},_ensure:function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];n in e||(e[n]={}),e=e[n]}return e},_delete:function(e){var t=[e],n=!0;for(var r=1;r<arguments.length-1;r++){var i=arguments[r];if(!(i in e)){n=!1;break}e=e[i];if(typeof e!="object")break;t.push(e)}for(var r=t.length-1;r>=0;r--){var i=arguments[r+1];if(n)n=!1;else for(var s in t[r][i])return;delete t[r][i]}}})
;
_.extend(Meteor,{setTimeout:function(e,t){if(Meteor._CurrentInvocation){if(Meteor._CurrentInvocation.get()&&Meteor._CurrentInvocation.get().isSimulation)throw new Error("Can't set timers inside simulations");var n=e;e=function(){Meteor._CurrentInvocation.withValue(null,n)}}return setTimeout(Meteor.bindEnvironment(e,function(e){Meteor._debug("Exception from setTimeout callback:",e.stack)}),t)},setInterval:function(e,t){if(Meteor._CurrentInvocation){if(Meteor._CurrentInvocation.get()&&Meteor._CurrentInvocation.get().isSimulation)throw new Error("Can't set timers inside simulations");var n=e;e=function(){Meteor._CurrentInvocation.withValue(null,n)}}return setInterval(Meteor.bindEnvironment(e,function(e){Meteor._debug("Exception from setInterval callback:",e)}),t)},clearInterval:function(e){return clearInterval(e)},clearTimeout:function(e){return clearTimeout(e)},defer:function(e){Meteor.setTimeout(function(){e()},0)}})
;
(function(){var e=0,t=[];Meteor.EnvironmentVariable=function(){this.slot=e++},_.extend(Meteor.EnvironmentVariable.prototype,{get:function(){return t[this.slot]},withValue:function(e,n){var r=t[this.slot];try{t[this.slot]=e;var i=n()}finally{t[this.slot]=r}return i}}),Meteor.bindEnvironment=function(e,n,r){var i=_.clone(t);if(!n)throw new Error("onException must be supplied");return function(){var s=t;try{t=i;var o=e.apply(r,_.toArray(arguments))}catch(u){n(u)}finally{t=s}return o}}})()
;
(function(){Meteor.absoluteUrl=function(e,t){!t&&typeof e=="object"&&(t=e,e=undefined),t=_.extend({},Meteor.absoluteUrl.defaultOptions,t||{});var n=t.rootUrl;if(!n)throw new Error("Must pass options.rootUrl or set ROOT_URL in the server environment");return/\/$/.test(n)||(n+="/"),e&&(n+=e),t.secure&&/^http:/.test(n)&&!/http:\/\/localhost[:\/]/.test(n)&&!/http:\/\/127\.0\.0\.1[:\/]/.test(n)&&(n=n.replace(/^http:/,"https:")),t.replaceLocalhost&&(n=n.replace(/^http:\/\/localhost([:\/].*)/,"http://127.0.0.1$1")),n},Meteor.absoluteUrl.defaultOptions={},__meteor_runtime_config__&&__meteor_runtime_config__.ROOT_URL&&(Meteor.absoluteUrl.defaultOptions.rootUrl=__meteor_runtime_config__.ROOT_URL)})()
;
(function(){var e=[],t=1,n=function(){this.id=t++,this._callbacks=[],this._invalidated=!1};n.current=null,_.extend(n.prototype,{run:function(e){var t=n.current;n.current=this;try{return e()}finally{n.current=t}},invalidate:function(){this._invalidated||(this._invalidated=!0,e.length||setTimeout(Meteor.flush,0),e.push(this))},onInvalidate:function(e){this._invalidated?e(this):this._callbacks.push(e)}}),_.extend(Meteor,{flush:function(){while(e.length){var t=e;e=[],_.each(t,function(e){_.each(e._callbacks,function(t){try{t(e)}catch(n){Meteor._debug("Exception from Meteor.flush:",n.stack)}}),delete e._callbacks})}},deps:{Context:n}})})()
;
(function(){var e=function(){this._contextsById={}};e.prototype.add=function(e){var t=this;return!e||e.id in t._contextsById?!1:(t._contextsById[e.id]=e,e.onInvalidate(function(){delete t._contextsById[e.id]}),!0)},e.prototype.addCurrentContext=function(){var e=this,t=Meteor.deps.Context.current;return t?e.add(t):!1},e.prototype.invalidateAll=function(){var e=this;for(var t in e._contextsById)e._contextsById[t].invalidate()},e.prototype.isEmpty=function(){var e=this;for(var t in e._contextsById)return!1;return!0},Meteor.deps._ContextSet=e,Meteor.autorun=function(e){var t,n=!1,r={stop:function(){n=!0,t.invalidate()}},i=function(){if(n)return;t=new Meteor.deps.Context,t.run(function(){e.call(this,r)}),t.onInvalidate(i)};return i(),r};var t=[],n=null;Meteor._atFlush=function(e){t.push(e),n||(n=new Meteor.deps.Context,n.onInvalidate(function(){var e;while(e=t.shift())try{e()}catch(r){Meteor._debug("Exception from Meteor._atFlush:",r.stack)}n=null}),n.invalidate())}})()
;
(function(){var e=0;Meteor._debug=function(){if(e){e--;return}if(typeof console!="undefined"&&typeof console.log!="undefined")if(arguments.length==0)console.log("");else if(typeof console.log.apply=="function")console.log.apply(console,arguments);else if(typeof Function.prototype.bind=="function"){var t=Function.prototype.bind.call(console.log,console);t.apply(console,arguments)}else Function.prototype.call.call(console.log,console,Array.prototype.slice.call(arguments))},Meteor._suppress_log=function(t){e+=t}})()
;
typeof JSON!="object"&&(JSON={}),function(){"use strict";function f(e){return e<10?"0"+e:e}function quote(e){return escapable.lastIndex=0,escapable.test(e)?'"'+e.replace(escapable,function(e){var t=meta[e];return typeof t=="string"?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}function str(e,t){var n,r,i,s,o=gap,u,a=t[e];a&&typeof a=="object"&&typeof a.toJSON=="function"&&(a=a.toJSON(e)),typeof rep=="function"&&(a=rep.call(t,e,a));switch(typeof a){case"string":return quote(a);case"number":return isFinite(a)?String(a):"null";case"boolean":case"null":return String(a);case"object":if(!a)return"null";gap+=indent,u=[];if(Object.prototype.toString.apply(a)==="[object Array]"){s=a.length;for(n=0;n<s;n+=1)u[n]=str(n,a)||"null";return i=u.length===0?"[]":gap?"[\n"+gap+u.join(",\n"+gap)+"\n"+o+"]":"["+u.join(",")+"]",gap=o,i}if(rep&&typeof rep=="object"){s=rep.length;for(n=0;n<s;n+=1)typeof rep[n]=="string"&&(r=rep[n],i=str(r,a),i&&u.push(quote(r)+(gap?": ":":")+i))}else for(r in a)Object.prototype.hasOwnProperty.call(a,r)&&(i=str(r,a),i&&u.push(quote(r)+(gap?": ":":")+i));return i=u.length===0?"{}":gap?"{\n"+gap+u.join(",\n"+gap)+"\n"+o+"}":"{"+u.join(",")+"}",gap=o,i}}typeof Date.prototype.toJSON!="function"&&(Date.prototype.toJSON=function(e){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(e){return this.valueOf()});var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;typeof JSON.stringify!="function"&&(JSON.stringify=function(e,t,n){var r;gap="",indent="";if(typeof n=="number")for(r=0;r<n;r+=1)indent+=" ";else typeof n=="string"&&(indent=n);rep=t;if(!t||typeof t=="function"||typeof t=="object"&&typeof t.length=="number")return str("",{"":e});throw new Error("JSON.stringify")}),typeof JSON.parse!="function"&&(JSON.parse=function(text,reviver){function walk(e,t){var n,r,i=e[t];if(i&&typeof i=="object")for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(r=walk(i,n),r!==undefined?i[n]=r:delete i[n]);return reviver.call(e,t,i)}var j;text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),typeof reviver=="function"?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}()
;
(function(){Meteor._reload={};var e="Meteor_Reload",t=3e4,n={},r;typeof sessionStorage!="undefined"&&sessionStorage&&(r=sessionStorage.getItem(e),sessionStorage.removeItem(e)),r||(r="{}");var i={};try{i=JSON.parse(r),typeof i!="object"&&(Meteor._debug("Got bad data on reload. Ignoring."),i={})}catch(s){Meteor._debug("Got invalid JSON on reload. Ignoring.")}i.reload&&typeof i.data=="object"&&i.time+t>(new Date).getTime()&&(n=i.data);var o=[];Meteor._reload.onMigrate=function(e,t){t||(t=e,e=undefined),o.push({name:e,callback:t})},Meteor._reload.migrationData=function(e){return n[e]};var u=!1;Meteor._reload.reload=function(){if(u)return;u=!0;var t=function(){_.defer(function(){var n={},r=_.clone(o);while(r.length){var i=r.shift(),s=i.callback(t);if(!s[0])return;s.length>1&&i.name&&(n[i.name]=s[1])}try{var u=JSON.stringify({time:(new Date).getTime(),data:n,reload:!0})}catch(a){throw Meteor._debug("Couldn't serialize data for migration",n),a}typeof sessionStorage!="undefined"&&sessionStorage?sessionStorage.setItem(e,u):Meteor._debug("Browser does not support sessionStorage. Not saving migration state."),window.location.reload()})};t()}})()
;
(function(){var e=function(e){return e===undefined?"undefined":JSON.stringify(e)},t=function(e){return e===undefined||e==="undefined"?undefined:JSON.parse(e)};Session=_.extend({},{keys:{},keyDeps:{},keyValueDeps:{},set:function(t,n){var r=this;n=e(n);var i="undefined";_.has(r.keys,t)&&(i=r.keys[t]);if(n===i)return;r.keys[t]=n;var s=function(e){e&&e.invalidateAll()};s(r.keyDeps[t]),r.keyValueDeps[t]&&(s(r.keyValueDeps[t][i]),s(r.keyValueDeps[t][n]))},get:function(e){var n=this;return n._ensureKey(e),n.keyDeps[e].addCurrentContext(),t(n.keys[e])},equals:function(n,r){var i=this,s=Meteor.deps.Context.current;if(typeof r!="string"&&typeof r!="number"&&typeof r!="boolean"&&typeof r!="undefined"&&r!==null)throw new Error("Session.equals: value must be scalar");var o=e(r);if(s){i._ensureKey(n),_.has(i.keyValueDeps[n],o)||(i.keyValueDeps[n][o]=new Meteor.deps._ContextSet);var u=i.keyValueDeps[n][o].add(s);u&&s.onInvalidate(function(){i.keyValueDeps[n][o].isEmpty()&&delete i.keyValueDeps[n][o]})}var a=undefined;return _.has(i.keys,n)&&(a=t(i.keys[n])),a===r},_ensureKey:function(e){var t=this;e in t.keyDeps||(t.keyDeps[e]=new Meteor.deps._ContextSet,t.keyValueDeps[e]={})}}),Meteor._reload&&(Meteor._reload.onMigrate("session",function(){return[!0,{keys:Session.keys}]}),function(){var e=Meteor._reload.migrationData("session");e&&e.keys&&(Session.keys=e.keys)}())})()
;
Meteor._Alea=function(){function e(){var e=4022871197,t=function(t){t=t.toString();for(var r=0;r<t.length;r++){e+=t.charCodeAt(r);var i=.02519603282416938*e;e=i>>>0,i-=e,i*=e,e=i>>>0,i-=e,e+=i*4294967296}return(e>>>0)*2.3283064365386963e-10};return t.version="Mash 0.9",t}return function(t){var n=0,r=0,i=0,s=1;t.length==0&&(t=[+(new Date)]);var o=e();n=o(" "),r=o(" "),i=o(" ");for(var u=0;u<t.length;u++)n-=o(t[u]),n<0&&(n+=1),r-=o(t[u]),r<0&&(r+=1),i-=o(t[u]),i<0&&(i+=1);o=null;var a=function(){var e=2091639*n+s*2.3283064365386963e-10;return n=r,r=i,i=e-(s=e|0)};return a.uint32=function(){return a()*4294967296},a.fract53=function(){return a()+(a()*2097152|0)*1.1102230246251565e-16},a.version="Alea 0.9",a.args=t,a}(Array.prototype.slice.call(arguments))},Meteor.random=new Meteor._Alea,Meteor.uuid=function(){var e=[],t="0123456789abcdef";for(var n=0;n<36;n++)e[n]=t.substr(Math.floor(Meteor.random()*16),1);e[14]="4",e[19]=t.substr(parseInt(e[19],16)&3|8,1),e[8]=e[13]=e[18]=e[23]="-";var r=e.join("");return r}
;
var JSON;JSON||(JSON={}),function(){function str(e,t){var n,r,i,s,o=gap,u,a=t[e];a&&typeof a=="object"&&typeof a.toJSON=="function"&&(a=a.toJSON(e)),typeof rep=="function"&&(a=rep.call(t,e,a));switch(typeof a){case"string":return quote(a);case"number":return isFinite(a)?String(a):"null";case"boolean":case"null":return String(a);case"object":if(!a)return"null";gap+=indent,u=[];if(Object.prototype.toString.apply(a)==="[object Array]"){s=a.length;for(n=0;n<s;n+=1)u[n]=str(n,a)||"null";return i=u.length===0?"[]":gap?"[\n"+gap+u.join(",\n"+gap)+"\n"+o+"]":"["+u.join(",")+"]",gap=o,i}if(rep&&typeof rep=="object"){s=rep.length;for(n=0;n<s;n+=1)typeof rep[n]=="string"&&(r=rep[n],i=str(r,a),i&&u.push(quote(r)+(gap?": ":":")+i))}else for(r in a)Object.prototype.hasOwnProperty.call(a,r)&&(i=str(r,a),i&&u.push(quote(r)+(gap?": ":":")+i));return i=u.length===0?"{}":gap?"{\n"+gap+u.join(",\n"+gap)+"\n"+o+"}":"{"+u.join(",")+"}",gap=o,i}}function quote(e){return escapable.lastIndex=0,escapable.test(e)?'"'+e.replace(escapable,function(e){var t=meta[e];return typeof t=="string"?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}function f(e){return e<10?"0"+e:e}"use strict",typeof Date.prototype.toJSON!="function"&&(Date.prototype.toJSON=function(e){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(e){return this.valueOf()});var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;typeof JSON.stringify!="function"&&(JSON.stringify=function(e,t,n){var r;gap="",indent="";if(typeof n=="number")for(r=0;r<n;r+=1)indent+=" ";else typeof n=="string"&&(indent=n);rep=t;if(!t||typeof t=="function"||typeof t=="object"&&typeof t.length=="number")return str("",{"":e});throw new Error("JSON.stringify")}),typeof JSON.parse!="function"&&(JSON.parse=function(text,reviver){function walk(e,t){var n,r,i=e[t];if(i&&typeof i=="object")for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(r=walk(i,n),r!==undefined?i[n]=r:delete i[n]);return reviver.call(e,t,i)}var j;text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),typeof reviver=="function"?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}(),SockJS=function(){var e=document,t=window,n={},r=function(){};r.prototype.addEventListener=function(e,t){this._listeners||(this._listeners={}),e in this._listeners||(this._listeners[e]=[]);var r=this._listeners[e];n.arrIndexOf(r,t)===-1&&r.push(t);return},r.prototype.removeEventListener=function(e,t){if(!(this._listeners&&e in this._listeners))return;var r=this._listeners[e],i=n.arrIndexOf(r,t);if(i!==-1){r.length>1?this._listeners[e]=r.slice(0,i).concat(r.slice(i+1)):delete this._listeners[e];return}return},r.prototype.dispatchEvent=function(e){var t=e.type,n=Array.prototype.slice.call(arguments,0);this["on"+t]&&this["on"+t].apply(this,n);if(this._listeners&&t in this._listeners)for(var r=0;r<this._listeners[t].length;r++)this._listeners[t][r].apply(this,n)};var i=function(e,t){this.type=e;if(typeof t!="undefined")for(var n in t){if(!t.hasOwnProperty(n))continue;this[n]=t[n]}};i.prototype.toString=function(){var e=[];for(var t in this){if(!this.hasOwnProperty(t))continue;var n=this[t];typeof n=="function"&&(n="[function]"),e.push(t+"="+n)}return"SimpleEvent("+e.join(", ")+")"};var s=function(e){var t=this;t._events=e||[],t._listeners={}};s.prototype.emit=function(e){var t=this;t._verifyType(e);if(t._nuked)return;var n=Array.prototype.slice.call(arguments,1);t["on"+e]&&t["on"+e].apply(t,n);if(e in t._listeners)for(var r=0;r<t._listeners[e].length;r++)t._listeners[e][r].apply(t,n)},s.prototype.on=function(e,t){var n=this;n._verifyType(e);if(n._nuked)return;e in n._listeners||(n._listeners[e]=[]),n._listeners[e].push(t)},s.prototype._verifyType=function(e){var t=this;n.arrIndexOf(t._events,e)===-1&&n.log("Event "+JSON.stringify(e)+" not listed "+JSON.stringify(t._events)+" in "+t)},s.prototype.nuke=function(){var e=this;e._nuked=!0;for(var t=0;t<e._events.length;t++)delete e[e._events[t]];e._listeners={}};var o="abcdefghijklmnopqrstuvwxyz0123456789_";n.random_string=function(e,t){t=t||o.length;var n,r=[];for(n=0;n<e;n++)r.push(o.substr(Math.floor(Math.random()*t),1));return r.join("")},n.random_number=function(e){return Math.floor(Math.random()*e)},n.random_number_string=function(e){var t=(""+(e-1)).length,r=Array(t+1).join("0");return(r+n.random_number(e)).slice(-t)},n.getOrigin=function(e){e+="/";var t=e.split("/").slice(0,3);return t.join("/")},n.isSameOriginUrl=function(e,n){return n||(n=t.location.href),e.split("/").slice(0,3).join("/")===n.split("/").slice(0,3).join("/")},n.isSameOriginScheme=function(e,n){return n||(n=t.location.href),e.split(":")[0]===n.split(":")[0]},n.getParentDomain=function(e){if(/^[0-9.]*$/.test(e))return e;if(/^\[/.test(e))return e;if(!/[.]/.test(e))return e;var t=e.split(".").slice(1);return t.join(".")},n.objectExtend=function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e};var u="_jp";n.polluteGlobalNamespace=function(){u in t||(t[u]={})},n.closeFrame=function(e,t){return"c"+JSON.stringify([e,t])},n.userSetCode=function(e){return e===1e3||e>=3e3&&e<=4999},n.countRTO=function(e){var t;return e>100?t=3*e:t=e+200,t},n.log=function(){t.console&&console.log&&console.log.apply&&console.log.apply(console,arguments)},n.bind=function(e,t){return e.bind?e.bind(t):function(){return e.apply(t,arguments)}},n.flatUrl=function(e){return e.indexOf("?")===-1&&e.indexOf("#")===-1},n.amendUrl=function(t){var r=e.location;if(!t)throw new Error("Wrong url for SockJS");if(!n.flatUrl(t))throw new Error("Only basic urls are supported in SockJS");return t.indexOf("//")===0&&(t=r.protocol+t),t.indexOf("/")===0&&(t=r.protocol+"//"+r.host+t),t=t.replace(/[/]+$/,""),t},n.arrIndexOf=function(e,t){for(var n=0;n<e.length;n++)if(e[n]===t)return n;return-1},n.arrSkip=function(e,t){var r=n.arrIndexOf(e,t);if(r===-1)return e.slice();var i=e.slice(0,r);return i.concat(e.slice(r+1))},n.isArray=Array.isArray||function(e){return{}.toString.call(e).indexOf("Array")>=0},n.delay=function(e,t){return typeof e=="function"&&(t=e,e=0),setTimeout(t,e)};var a=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,f={"\0":"\\u0000","":"\\u0001","":"\\u0002","":"\\u0003","":"\\u0004","":"\\u0005","":"\\u0006","":"\\u0007","\b":"\\b","	":"\\t","\n":"\\n","":"\\u000b","\f":"\\f","\r":"\\r","":"\\u000e","":"\\u000f","":"\\u0010","":"\\u0011","":"\\u0012","":"\\u0013","":"\\u0014","":"\\u0015","":"\\u0016","":"\\u0017","":"\\u0018","":"\\u0019","":"\\u001a","":"\\u001b","":"\\u001c","":"\\u001d","":"\\u001e","":"\\u001f",'"':'\\"',"\\":"\\\\","":"\\u007f","":"\\u0080","":"\\u0081","":"\\u0082","":"\\u0083","":"\\u0084","":"\\u0085","":"\\u0086","":"\\u0087","":"\\u0088","":"\\u0089","":"\\u008a","":"\\u008b","":"\\u008c","":"\\u008d","":"\\u008e","":"\\u008f","":"\\u0090","":"\\u0091","":"\\u0092","":"\\u0093","":"\\u0094","":"\\u0095","":"\\u0096","":"\\u0097","":"\\u0098","":"\\u0099","":"\\u009a","":"\\u009b","":"\\u009c","":"\\u009d","":"\\u009e","":"\\u009f","­":"\\u00ad","؀":"\\u0600","؁":"\\u0601","؂":"\\u0602","؃":"\\u0603","؄":"\\u0604","܏":"\\u070f","឴":"\\u17b4","឵":"\\u17b5","‌":"\\u200c","‍":"\\u200d","‎":"\\u200e","‏":"\\u200f","\u2028":"\\u2028","\u2029":"\\u2029","‪":"\\u202a","‫":"\\u202b","‬":"\\u202c","‭":"\\u202d","‮":"\\u202e"," ":"\\u202f","⁠":"\\u2060","⁡":"\\u2061","⁢":"\\u2062","⁣":"\\u2063","⁤":"\\u2064","⁥":"\\u2065","⁦":"\\u2066","⁧":"\\u2067","⁨":"\\u2068","⁩":"\\u2069","⁪":"\\u206a","⁫":"\\u206b","⁬":"\\u206c","⁭":"\\u206d","⁮":"\\u206e","⁯":"\\u206f","﻿":"\\ufeff","￰":"\\ufff0","￱":"\\ufff1","￲":"\\ufff2","￳":"\\ufff3","￴":"\\ufff4","￵":"\\ufff5","￶":"\\ufff6","￷":"\\ufff7","￸":"\\ufff8","￹":"\\ufff9","￺":"\\ufffa","￻":"\\ufffb","￼":"\\ufffc","�":"\\ufffd","￾":"\\ufffe","￿":"\\uffff"},l=/[\x00-\x1f\ud800-\udfff\ufffe\uffff\u0300-\u0333\u033d-\u0346\u034a-\u034c\u0350-\u0352\u0357-\u0358\u035c-\u0362\u0374\u037e\u0387\u0591-\u05af\u05c4\u0610-\u0617\u0653-\u0654\u0657-\u065b\u065d-\u065e\u06df-\u06e2\u06eb-\u06ec\u0730\u0732-\u0733\u0735-\u0736\u073a\u073d\u073f-\u0741\u0743\u0745\u0747\u07eb-\u07f1\u0951\u0958-\u095f\u09dc-\u09dd\u09df\u0a33\u0a36\u0a59-\u0a5b\u0a5e\u0b5c-\u0b5d\u0e38-\u0e39\u0f43\u0f4d\u0f52\u0f57\u0f5c\u0f69\u0f72-\u0f76\u0f78\u0f80-\u0f83\u0f93\u0f9d\u0fa2\u0fa7\u0fac\u0fb9\u1939-\u193a\u1a17\u1b6b\u1cda-\u1cdb\u1dc0-\u1dcf\u1dfc\u1dfe\u1f71\u1f73\u1f75\u1f77\u1f79\u1f7b\u1f7d\u1fbb\u1fbe\u1fc9\u1fcb\u1fd3\u1fdb\u1fe3\u1feb\u1fee-\u1fef\u1ff9\u1ffb\u1ffd\u2000-\u2001\u20d0-\u20d1\u20d4-\u20d7\u20e7-\u20e9\u2126\u212a-\u212b\u2329-\u232a\u2adc\u302b-\u302c\uaab2-\uaab3\uf900-\ufa0d\ufa10\ufa12\ufa15-\ufa1e\ufa20\ufa22\ufa25-\ufa26\ufa2a-\ufa2d\ufa30-\ufa6d\ufa70-\ufad9\ufb1d\ufb1f\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufb4e\ufff0-\uffff]/g,c,h=JSON&&JSON.stringify||function(e){return a.lastIndex=0,a.test(e)&&(e=e.replace(a,function(e){return f[e]})),'"'+e+'"'},p=function(e){var t,n={},r=[];for(t=0;t<65536;t++)r.push(String.fromCharCode(t));return e.lastIndex=0,r.join("").replace(e,function(e){return n[e]="\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4),""}),e.lastIndex=0,n};n.quote=function(e){var t=h(e);return l.lastIndex=0,l.test(t)?(c||(c=p(l)),t.replace(l,function(e){return c[e]})):t};var d=["websocket","xdr-streaming","xhr-streaming","iframe-eventsource","iframe-htmlfile","xdr-polling","xhr-polling","iframe-xhr-polling","jsonp-polling"];n.probeProtocols=function(){var e={};for(var t=0;t<d.length;t++){var n=d[t];e[n]=T[n]&&T[n].enabled()}return e},n.detectProtocols=function(e,t,n){var r={},i=[];t||(t=d);for(var s=0;s<t.length;s++){var o=t[s];r[o]=e[o]}var u=function(e){var t=e.shift();r[t]?i.push(t):e.length>0&&u(e)};return n.websocket!==!1&&u(["websocket"]),r["xhr-streaming"]&&!n.null_origin?i.push("xhr-streaming"):r["xdr-streaming"]&&!n.cookie_needed&&!n.null_origin?i.push("xdr-streaming"):u(["iframe-eventsource","iframe-htmlfile"]),r["xhr-polling"]&&!n.null_origin?i.push("xhr-polling"):r["xdr-polling"]&&!n.cookie_needed&&!n.null_origin?i.push("xdr-polling"):u(["iframe-xhr-polling","jsonp-polling"]),i};var v="_sockjs_global";n.createHook=function(){var e="a"+n.random_string(8);if(!(v in t)){var r={};t[v]=function(e){return e in r||(r[e]={id:e,del:function(){delete r[e]}}),r[e]}}return t[v](e)},n.attachMessage=function(e){n.attachEvent("message",e)},n.attachEvent=function(n,r){typeof t.addEventListener!="undefined"?t.addEventListener(n,r,!1):(e.attachEvent("on"+n,r),t.attachEvent("on"+n,r))},n.detachMessage=function(e){n.detachEvent("message",e)},n.detachEvent=function(n,r){typeof t.addEventListener!="undefined"?t.removeEventListener(n,r,!1):(e.detachEvent("on"+n,r),t.detachEvent("on"+n,r))};var m={},g=!1,y=function(){for(var e in m)m[e](),delete m[e]},b=function(){if(g)return;g=!0,y()};n.attachEvent("unload",b),n.unload_add=function(e){var t=n.random_string(8);return m[t]=e,g&&n.delay(y),t},n.unload_del=function(e){e in m&&delete m[e]},n.createIframe=function(t,r){var i=e.createElement("iframe"),s,o,u=function(){clearTimeout(s);try{i.onload=null}catch(e){}i.onerror=null},a=function(){i&&(u(),setTimeout(function(){i&&i.parentNode.removeChild(i),i=null},0),n.unload_del(o))},f=function(e){i&&(a(),r(e))},l=function(e,t){try{i&&i.contentWindow&&i.contentWindow.postMessage(e,t)}catch(n){}};return i.src=t,i.style.display="none",i.style.position="absolute",i.onerror=function(){f("onerror")},i.onload=function(){clearTimeout(s),s=setTimeout(function(){f("onload timeout")},2e3)},e.body.appendChild(i),s=setTimeout(function(){f("timeout")},15e3),o=n.unload_add(a),{post:l,cleanup:a,loaded:u}},n.createHtmlfile=function(e,r){var i=new ActiveXObject("htmlfile"),s,o,a,f=function(){clearTimeout(s)},l=function(){i&&(f(),n.unload_del(o),a.parentNode.removeChild(a),a=i=null,CollectGarbage())},c=function(e){i&&(l(),r(e))},h=function(e,t){try{a&&a.contentWindow&&a.contentWindow.postMessage(e,t)}catch(n){}};i.open(),i.write('<html><script>document.domain="'+document.domain+'";'+"</s"+"cript></html>"),i.close(),i.parentWindow[u]=t[u];var p=i.createElement("div");return i.body.appendChild(p),a=i.createElement("iframe"),p.appendChild(a),a.src=e,s=setTimeout(function(){c("timeout")},15e3),o=n.unload_add(l),{post:h,cleanup:l,loaded:f}};var w=function(){};w.prototype=new s(["chunk","finish"]),w.prototype._start=function(e,r,i,s){var o=this;try{o.xhr=new XMLHttpRequest}catch(u){}if(!o.xhr)try{o.xhr=new t.ActiveXObject("Microsoft.XMLHTTP")}catch(u){}if(t.ActiveXObject||t.XDomainRequest)r+=(r.indexOf("?")===-1?"?":"&")+"t="+ +(new Date);o.unload_ref=n.unload_add(function(){o._cleanup(!0)});try{o.xhr.open(e,r,!0)}catch(a){o.emit("finish",0,""),o._cleanup();return}if(!s||!s.no_credentials)o.xhr.withCredentials="true";if(s&&s.headers)for(var f in s.headers)o.xhr.setRequestHeader(f,s.headers[f]);o.xhr.onreadystatechange=function(){if(o.xhr){var e=o.xhr;switch(e.readyState){case 3:try{var t=e.status,n=e.responseText}catch(e){}t===1223&&(t=204),n&&n.length>0&&o.emit("chunk",t,n);break;case 4:var t=e.status;t===1223&&(t=204),o.emit("finish",t,e.responseText),o._cleanup(!1)}}},o.xhr.send(i)},w.prototype._cleanup=function(e){var t=this;if(!t.xhr)return;n.unload_del(t.unload_ref),t.xhr.onreadystatechange=function(){};if(e)try{t.xhr.abort()}catch(r){}t.unload_ref=t.xhr=null},w.prototype.close=function(){var e=this;e.nuke(),e._cleanup(!0)};var E=n.XHRCorsObject=function(){var e=this,t=arguments;n.delay(function(){e._start.apply(e,t)})};E.prototype=new w;var S=n.XHRLocalObject=function(e,t,r){var i=this;n.delay(function(){i._start(e,t,r,{no_credentials:!0})})};S.prototype=new w;var x=n.XDRObject=function(e,t,r){var i=this;n.delay(function(){i._start(e,t,r)})};x.prototype=new s(["chunk","finish"]),x.prototype._start=function(e,t,r){var i=this,s=new XDomainRequest;t+=(t.indexOf("?")===-1?"?":"&")+"t="+ +(new Date);var o=s.ontimeout=s.onerror=function(){i.emit("finish",0,""),i._cleanup(!1)};s.onprogress=function(){i.emit("chunk",200,s.responseText)},s.onload=function(){i.emit("finish",200,s.responseText),i._cleanup(!1)},i.xdr=s,i.unload_ref=n.unload_add(function(){i._cleanup(!0)});try{i.xdr.open(e,t),i.xdr.send(r)}catch(u){o()}},x.prototype._cleanup=function(e){var t=this;if(!t.xdr)return;n.unload_del(t.unload_ref),t.xdr.ontimeout=t.xdr.onerror=t.xdr.onprogress=t.xdr.onload=null;if(e)try{t.xdr.abort()}catch(r){}t.unload_ref=t.xdr=null},x.prototype.close=function(){var e=this;e.nuke(),e._cleanup(!0)},n.isXHRCorsCapable=function(){return t.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest?1:t.XDomainRequest&&e.domain?2:j.enabled()?3:4};var T=function(e,r,i){if(this===t)return new T(e,r,i);var s=this,o;s._options={devel:!1,debug:!1,protocols_whitelist:[],info:undefined,rtt:undefined},i&&n.objectExtend(s._options,i),s._base_url=n.amendUrl(e),s._server=s._options.server||n.random_number_string(1e3),s._options.protocols_whitelist&&s._options.protocols_whitelist.length?o=s._options.protocols_whitelist:(typeof r=="string"&&r.length>0?o=[r]:n.isArray(r)?o=r:o=null,o&&s._debug('Deprecated API: Use "protocols_whitelist" option instead of supplying protocol list as a second parameter to SockJS constructor.')),s._protocols=[],s.protocol=null,s.readyState=T.CONNECTING,s._ir=W(s._base_url),s._ir.onfinish=function(e,t){s._ir=null,e?(s._options.info&&(e=n.objectExtend(e,s._options.info)),s._options.rtt&&(t=s._options.rtt),s._applyInfo(e,t,o),s._didClose()):s._didClose(1002,"Can't connect to server",!0)}};T.prototype=new r,T.version="0.3.4",T.CONNECTING=0,T.OPEN=1,T.CLOSING=2,T.CLOSED=3,T.prototype._debug=function(){this._options.debug&&n.log.apply(n,arguments)},T.prototype._dispatchOpen=function(){var e=this;e.readyState===T.CONNECTING?(e._transport_tref&&(clearTimeout(e._transport_tref),e._transport_tref=null),e.readyState=T.OPEN,e.dispatchEvent(new i("open"))):e._didClose(1006,"Server lost session")},T.prototype._dispatchMessage=function(e){var t=this;if(t.readyState!==T.OPEN)return;t.dispatchEvent(new i("message",{data:e}))},T.prototype._dispatchHeartbeat=function(e){var t=this;if(t.readyState!==T.OPEN)return;t.dispatchEvent(new i("heartbeat",{}))},T.prototype._didClose=function(e,t,r){var s=this;if(s.readyState!==T.CONNECTING&&s.readyState!==T.OPEN&&s.readyState!==T.CLOSING)throw new Error("INVALID_STATE_ERR");s._ir&&(s._ir.nuke(),s._ir=null),s._transport&&(s._transport.doCleanup(),s._transport=null);var o=new i("close",{code:e,reason:t,wasClean:n.userSetCode(e)});if(!n.userSetCode(e)&&s.readyState===T.CONNECTING&&!r){if(s._try_next_protocol(o))return;o=new i("close",{code:2e3,reason:"All transports failed",wasClean:!1,last_event:o})}s.readyState=T.CLOSED,n.delay(function(){s.dispatchEvent(o)})},T.prototype._didMessage=function(e){var t=this,n=e.slice(0,1);switch(n){case"o":t._dispatchOpen();break;case"a":var r=JSON.parse(e.slice(1)||"[]");for(var i=0;i<r.length;i++)t._dispatchMessage(r[i]);break;case"m":var r=JSON.parse(e.slice(1)||"null");t._dispatchMessage(r);break;case"c":var r=JSON.parse(e.slice(1)||"[]");t._didClose(r[0],r[1]);break;case"h":t._dispatchHeartbeat()}},T.prototype._try_next_protocol=function(t){var r=this;r.protocol&&(r._debug("Closed transport:",r.protocol,""+t),r.protocol=null),r._transport_tref&&(clearTimeout(r._transport_tref),r._transport_tref=null);for(;;){var i=r.protocol=r._protocols.shift();if(!i)return!1;if(T[i]&&T[i].need_body===!0&&(!e.body||typeof e.readyState!="undefined"&&e.readyState!=="complete"))return r._protocols.unshift(i),r.protocol="waiting-for-load",n.attachEvent("load",function(){r._try_next_protocol()}),!0;if(!!T[i]&&!!T[i].enabled(r._options)){var s=T[i].roundTrips||1,o=(r._options.rto||0)*s||5e3;r._transport_tref=n.delay(o,function(){r.readyState===T.CONNECTING&&r._didClose(2007,"Transport timeouted")});var u=n.random_string(8),a=r._base_url+"/"+r._server+"/"+u;return r._debug("Opening transport:",i," url:"+a," RTO:"+r._options.rto),r._transport=new T[i](r,a,r._base_url),!0}r._debug("Skipping transport:",i)}},T.prototype.close=function(e,t){var r=this;if(e&&!n.userSetCode(e))throw new Error("INVALID_ACCESS_ERR");return r.readyState!==T.CONNECTING&&r.readyState!==T.OPEN?!1:(r.readyState=T.CLOSING,r._didClose(e||1e3,t||"Normal closure"),!0)},T.prototype.send=function(e){var t=this;if(t.readyState===T.CONNECTING)throw new Error("INVALID_STATE_ERR");return t.readyState===T.OPEN&&t._transport.doSend(n.quote(""+e)),!0},T.prototype._applyInfo=function(t,r,i){var s=this;s._options.info=t,s._options.rtt=r,s._options.rto=n.countRTO(r),s._options.info.null_origin=!e.domain;var o=n.probeProtocols();s._protocols=n.detectProtocols(o,i,t),!n.isSameOriginScheme(s._base_url)&&2===n.isXHRCorsCapable()&&(s._protocols=["jsonp-polling"])};var N=T.websocket=function(e,r){var i=this,s=r+"/websocket";s.slice(0,5)==="https"?s="wss"+s.slice(5):s="ws"+s.slice(4),i.ri=e,i.url=s;var o=t.WebSocket||t.MozWebSocket;i.ws=new o(i.url),i.ws.onmessage=function(e){i.ri._didMessage(e.data)},i.unload_ref=n.unload_add(function(){i.ws.close()}),i.ws.onclose=function(){i.ri._didMessage(n.closeFrame(1006,"WebSocket connection broken"))}};N.prototype.doSend=function(e){this.ws.send("["+e+"]")},N.prototype.doCleanup=function(){var e=this,t=e.ws;t&&(t.onmessage=t.onclose=null,t.close(),n.unload_del(e.unload_ref),e.unload_ref=e.ri=e.ws=null)},N.enabled=function(){return!!t.WebSocket||!!t.MozWebSocket},N.roundTrips=2;var C=function(){};C.prototype.send_constructor=function(e){var t=this;t.send_buffer=[],t.sender=e},C.prototype.doSend=function(e){var t=this;t.send_buffer.push(e),t.send_stop||t.send_schedule()},C.prototype.send_schedule_wait=function(){var e=this,t;e.send_stop=function(){e.send_stop=null,clearTimeout(t)},t=n.delay(25,function(){e.send_stop=null,e.send_schedule()})},C.prototype.send_schedule=function(){var e=this;if(e.send_buffer.length>0){var t="["+e.send_buffer.join(",")+"]";e.send_stop=e.sender(e.trans_url,t,function(t,n){e.send_stop=null,t===!1?e.ri._didClose(1006,"Sending error "+n):e.send_schedule_wait()}),e.send_buffer=[]}},C.prototype.send_destructor=function(){var e=this;e._send_stop&&e._send_stop(),e._send_stop=null};var k=function(t,r,i){var s=this;if(!("_send_form"in s)){var o=s._send_form=e.createElement("form"),u=s._send_area=e.createElement("textarea");u.name="d",o.style.display="none",o.style.position="absolute",o.method="POST",o.enctype="application/x-www-form-urlencoded",o.acceptCharset="UTF-8",o.appendChild(u),e.body.appendChild(o)}var o=s._send_form,u=s._send_area,a="a"+n.random_string(8);o.target=a,o.action=t+"/jsonp_send?i="+a;var f;try{f=e.createElement('<iframe name="'+a+'">')}catch(l){f=e.createElement("iframe"),f.name=a}f.id=a,o.appendChild(f),f.style.display="none";try{u.value=r}catch(c){n.log("Your browser is seriously broken. Go home! "+c.message)}o.submit();var h=function(e){if(!f.onerror)return;f.onreadystatechange=f.onerror=f.onload=null,n.delay(500,function(){f.parentNode.removeChild(f),f=null}),u.value="",i(!0)};return f.onerror=f.onload=h,f.onreadystatechange=function(e){f.readyState=="complete"&&h()},h},L=function(e){return function(t,n,r){var i=new e("POST",t+"/xhr_send",n);return i.onfinish=function(e,t){r(e===200||e===204,"http status "+e)},function(e){r(!1,e)}}},A=function(t,r){var i,s=e.createElement("script"),o,u=function(e){o&&(o.parentNode.removeChild(o),o=null),s&&(clearTimeout(i),s.parentNode.removeChild(s),s.onreadystatechange=s.onerror=s.onload=s.onclick=null,s=null,r(e),r=null)},a=!1,f=null;s.id="a"+n.random_string(8),s.src=t,s.type="text/javascript",s.charset="UTF-8",s.onerror=function(e){f||(f=setTimeout(function(){a||u(n.closeFrame(1006,"JSONP script loaded abnormally (onerror)"))},1e3))},s.onload=function(e){u(n.closeFrame(1006,"JSONP script loaded abnormally (onload)"))},s.onreadystatechange=function(e){if(/loaded|closed/.test(s.readyState)){if(s&&s.htmlFor&&s.onclick){a=!0;try{s.onclick()}catch(t){}}s&&u(n.closeFrame(1006,"JSONP script loaded abnormally (onreadystatechange)"))}};if(typeof s.async=="undefined"&&e.attachEvent)if(!/opera/i.test(navigator.userAgent)){try{s.htmlFor=s.id,s.event="onclick"}catch(l){}s.async=!0}else o=e.createElement("script"),o.text="try{var a = document.getElementById('"+s.id+"'); if(a)a.onerror();}catch(x){};",s.async=o.async=!1;typeof s.async!="undefined"&&(s.async=!0),i=setTimeout(function(){u(n.closeFrame(1006,"JSONP script loaded abnormally (timeout)"))},35e3);var c=e.getElementsByTagName("head")[0];return c.insertBefore(s,c.firstChild),o&&c.insertBefore(o,c.firstChild),u},O=T["jsonp-polling"]=function(e,t){n.polluteGlobalNamespace();var r=this;r.ri=e,r.trans_url=t,r.send_constructor(k),r._schedule_recv()};O.prototype=new C,O.prototype._schedule_recv=function(){var e=this,t=function(t){e._recv_stop=null,t&&(e._is_closing||e.ri._didMessage(t)),e._is_closing||e._schedule_recv()};e._recv_stop=M(e.trans_url+"/jsonp",A,t)},O.enabled=function(){return!0},O.need_body=!0,O.prototype.doCleanup=function(){var e=this;e._is_closing=!0,e._recv_stop&&e._recv_stop(),e.ri=e._recv_stop=null,e.send_destructor()};var M=function(e,r,i){var s="a"+n.random_string(6),o=e+"?c="+escape(u+"."+s),a=0,f=function(e){switch(a){case 0:delete t[u][s],i(e);break;case 1:i(e),a=2;break;case 2:delete t[u][s]}},l=r(o,f);t[u][s]=l;var c=function(){t[u][s]&&(a=1,t[u][s](n.closeFrame(1e3,"JSONP user aborted read")))};return c},_=function(){};_.prototype=new C,_.prototype.run=function(e,t,n,r,i){var s=this;s.ri=e,s.trans_url=t,s.send_constructor(L(i)),s.poll=new Y(e,r,t+n,i)},_.prototype.doCleanup=function(){var e=this;e.poll&&(e.poll.abort(),e.poll=null)};var D=T["xhr-streaming"]=function(e,t){this.run(e,t,"/xhr_streaming",rt,n.XHRCorsObject)};D.prototype=new _,D.enabled=function(){return t.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest&&!/opera/i.test(navigator.userAgent)},D.roundTrips=2,D.need_body=!0;var P=T["xdr-streaming"]=function(e,t){this.run(e,t,"/xhr_streaming",rt,n.XDRObject)};P.prototype=new _,P.enabled=function(){return!!t.XDomainRequest},P.roundTrips=2;var H=T["xhr-polling"]=function(e,t){this.run(e,t,"/xhr",rt,n.XHRCorsObject)};H.prototype=new _,H.enabled=D.enabled,H.roundTrips=2;var B=T["xdr-polling"]=function(e,t){this.run(e,t,"/xhr",rt,n.XDRObject)};B.prototype=new _,B.enabled=P.enabled,B.roundTrips=2;var j=function(){};j.prototype.i_constructor=function(e,t,r){var i=this;i.ri=e,i.origin=n.getOrigin(r),i.base_url=r,i.trans_url=t;var s=r+"/iframe.html";i.ri._options.devel&&(s+="?t="+ +(new Date)),i.window_id=n.random_string(8),s+="#"+i.window_id,i.iframeObj=n.createIframe(s,function(e){i.ri._didClose(1006,"Unable to load an iframe ("+e+")")}),i.onmessage_cb=n.bind(i.onmessage,i),n.attachMessage(i.onmessage_cb)},j.prototype.doCleanup=function(){var e=this;if(e.iframeObj){n.detachMessage(e.onmessage_cb);try{e.iframeObj.iframe.contentWindow&&e.postMessage("c")}catch(t){}e.iframeObj.cleanup(),e.iframeObj=null,e.onmessage_cb=e.iframeObj=null}},j.prototype.onmessage=function(e){var t=this;if(e.origin!==t.origin)return;var n=e.data.slice(0,8),r=e.data.slice(8,9),i=e.data.slice(9);if(n!==t.window_id)return;switch(r){case"s":t.iframeObj.loaded(),t.postMessage("s",JSON.stringify([T.version,t.protocol,t.trans_url,t.base_url]));break;case"t":t.ri._didMessage(i)}},j.prototype.postMessage=function(e,t){var n=this;n.iframeObj.post(n.window_id+e+(t||""),n.origin)},j.prototype.doSend=function(e){this.postMessage("m",e)},j.enabled=function(){var e=navigator&&navigator.userAgent&&navigator.userAgent.indexOf("Konqueror")!==-1;return(typeof t.postMessage=="function"||typeof t.postMessage=="object")&&!e};var F,I=function(e,r){parent!==t?parent.postMessage(F+e+(r||""),"*"):n.log("Can't postMessage, no parent window.",e,r)},q=function(){};q.prototype._didClose=function(e,t){I("t",n.closeFrame(e,t))},q.prototype._didMessage=function(e){I("t",e)},q.prototype._doSend=function(e){this._transport.doSend(e)},q.prototype._doCleanup=function(){this._transport.doCleanup()},n.parent_origin=undefined,T.bootstrap_iframe=function(){var r;F=e.location.hash.slice(1);var i=function(e){if(e.source!==parent)return;typeof n.parent_origin=="undefined"&&(n.parent_origin=e.origin);if(e.origin!==n.parent_origin)return;var i=e.data.slice(0,8),s=e.data.slice(8,9),o=e.data.slice(9);if(i!==F)return;switch(s){case"s":var u=JSON.parse(o),a=u[0],f=u[1],l=u[2],c=u[3];a!==T.version&&n.log('Incompatibile SockJS! Main site uses: "'+a+'", the iframe:'+' "'+T.version+'".');if(!n.flatUrl(l)||!n.flatUrl(c)){n.log("Only basic urls are supported in SockJS");return}if(!n.isSameOriginUrl(l)||!n.isSameOriginUrl(c)){n.log("Can't connect to different domain from within an iframe. ("+JSON.stringify([t.location.href,l,c])+")");return}r=new q,r._transport=new q[f](r,l,c);break;case"m":r._doSend(o);break;case"c":r&&r._doCleanup(),r=null}};n.attachMessage(i),I("s")};var R=function(e,t){var r=this;n.delay(function(){r.doXhr(e,t)})};R.prototype=new s(["finish"]),R.prototype.doXhr=function(e,t){var r=this,i=(new Date).getTime(),s=new t("GET",e+"/info"),o=n.delay(8e3,function(){s.ontimeout()});s.onfinish=function(e,t){clearTimeout(o),o=null;if(e===200){var n=(new Date).getTime()-i,s=JSON.parse(t);typeof s!="object"&&(s={}),r.emit("finish",s,n)}else r.emit("finish")},s.ontimeout=function(){s.close(),r.emit("finish")}};var U=function(t){var r=this,i=function(){var e=new j;e.protocol="w-iframe-info-receiver";var n=function(t){if(typeof t=="string"&&t.substr(0,1)==="m"){var n=JSON.parse(t.substr(1)),i=n[0],s=n[1];r.emit("finish",i,s)}else r.emit("finish");e.doCleanup(),e=null},i={_options:{},_didClose:n,_didMessage:n};e.i_constructor(i,t,t)};e.body?i():n.attachEvent("load",i)};U.prototype=new s(["finish"]);var z=function(){var e=this;n.delay(function(){e.emit("finish",{},2e3)})};z.prototype=new s(["finish"]);var W=function(e){if(n.isSameOriginUrl(e))return new R(e,n.XHRLocalObject);switch(n.isXHRCorsCapable()){case 1:return new R(e,n.XHRLocalObject);case 2:return n.isSameOriginScheme(e)?new R(e,n.XDRObject):new z;case 3:return new U(e);default:return new z}},X=q["w-iframe-info-receiver"]=function(e,t,r){var i=new R(r,n.XHRLocalObject);i.onfinish=function(t,n){e._didMessage("m"+JSON.stringify([t,n])),e._didClose()}};X.prototype.doCleanup=function(){};var V=T["iframe-eventsource"]=function(){var e=this;e.protocol="w-iframe-eventsource",e.i_constructor.apply(e,arguments)};V.prototype=new j,V.enabled=function(){return"EventSource"in t&&j.enabled()},V.need_body=!0,V.roundTrips=3;var $=q["w-iframe-eventsource"]=function(e,t){this.run(e,t,"/eventsource",Z,n.XHRLocalObject)};$.prototype=new _;var J=T["iframe-xhr-polling"]=function(){var e=this;e.protocol="w-iframe-xhr-polling",e.i_constructor.apply(e,arguments)};J.prototype=new j,J.enabled=function(){return t.XMLHttpRequest&&j.enabled()},J.need_body=!0,J.roundTrips=3;var K=q["w-iframe-xhr-polling"]=function(e,t){this.run(e,t,"/xhr",rt,n.XHRLocalObject)};K.prototype=new _;var Q=T["iframe-htmlfile"]=function(){var e=this;e.protocol="w-iframe-htmlfile",e.i_constructor.apply(e,arguments)};Q.prototype=new j,Q.enabled=function(){return j.enabled()},Q.need_body=!0,Q.roundTrips=3;var G=q["w-iframe-htmlfile"]=function(e,t){this.run(e,t,"/htmlfile",nt,n.XHRLocalObject)};G.prototype=new _;var Y=function(e,t,n,r){var i=this;i.ri=e,i.Receiver=t,i.recv_url=n,i.AjaxObject=r,i._scheduleRecv()};Y.prototype._scheduleRecv=function(){var e=this,t=e.poll=new e.Receiver(e.recv_url,e.AjaxObject),n=0;t.onmessage=function(t){n+=1,e.ri._didMessage(t.data)},t.onclose=function(n){e.poll=t=t.onmessage=t.onclose=null,e.poll_is_closing||(n.reason==="permanent"?e.ri._didClose(1006,"Polling error ("+n.reason+")"):e._scheduleRecv())}},Y.prototype.abort=function(){var e=this;e.poll_is_closing=!0,e.poll&&e.poll.abort()};var Z=function(e){var t=this,r=new EventSource(e);r.onmessage=function(e){t.dispatchEvent(new i("message",{data:unescape(e.data)}))},t.es_close=r.onerror=function(e,s){var o=s?"user":r.readyState!==2?"network":"permanent";t.es_close=r.onmessage=r.onerror=null,r.close(),r=null,n.delay(200,function(){t.dispatchEvent(new i("close",{reason:o}))})}};Z.prototype=new r,Z.prototype.abort=function(){var e=this;e.es_close&&e.es_close({},!0)};var et,tt=function(){if(et===undefined)if("ActiveXObject"in t)try{et=!!(new ActiveXObject("htmlfile"))}catch(e){}else et=!1;return et},nt=function(e){var r=this;n.polluteGlobalNamespace(),r.id="a"+n.random_string(6,26),e+=(e.indexOf("?")===-1?"?":"&")+"c="+escape(u+"."+r.id);var s=tt()?n.createHtmlfile:n.createIframe,o;t[u][r.id]={start:function(){o.loaded()},message:function(e){r.dispatchEvent(new i("message",{data:e}))},stop:function(){r.iframe_close({},"network")}},r.iframe_close=function(e,n){o.cleanup(),r.iframe_close=o=null,delete t[u][r.id],r.dispatchEvent(new i("close",{reason:n}))},o=s(e,function(e){r.iframe_close({},"permanent")})};nt.prototype=new r,nt.prototype.abort=function(){var e=this;e.iframe_close&&e.iframe_close({},"user")};var rt=function(e,t){var n=this,r=0;n.xo=new t("POST",e,null),n.xo.onchunk=function(e,t){if(e!==200)return;for(;;){var s=t.slice(r),o=s.indexOf("\n");if(o===-1)break;r+=o+1;var u=s.slice(0,o);n.dispatchEvent(new i("message",{data:u}))}},n.xo.onfinish=function(e,t){n.xo.onchunk(e,t),n.xo=null;var r=e===200?"network":"permanent";n.dispatchEvent(new i("close",{reason:r}))}};return rt.prototype=new r,rt.prototype.abort=function(){var e=this;e.xo&&(e.xo.close(),e.dispatchEvent(new i("close",{reason:"user"})),e.xo=null)},T.getUtils=function(){return n},T.getIframeTransport=function(){return j},T}(),"_sockjs_onload"in window&&setTimeout(_sockjs_onload,1),typeof define=="function"&&define.amd&&define("sockjs",[],function(){return SockJS})
;
Meteor._Stream=function(e){var t=this;t.rawUrl=e,t.socket=null,t.event_callbacks={},t.server_id=null,t.sent_update_available=!1,t.force_fail=!1,t.CONNECT_TIMEOUT=1e4,t.HEARTBEAT_TIMEOUT=6e4,t.RETRY_BASE_TIMEOUT=1e3,t.RETRY_EXPONENT=2.2,t.RETRY_MAX_TIMEOUT=18e5,t.RETRY_MIN_TIMEOUT=10,t.RETRY_MIN_COUNT=2,t.RETRY_FUZZ=.5,t.current_status={status:"connecting",connected:!1,retryCount:0,retry_count:0},t.status_listeners=Meteor.deps&&new Meteor.deps._ContextSet,t.status_changed=function(){t.status_listeners&&t.status_listeners.invalidateAll()},t.retry_timer=null,t.connection_timer=null,t.heartbeat_timer=null,t._launch_connection()},_.extend(Meteor._Stream,{_toSockjsUrl:function(e){var t=function(e,t){return e.length>=t.length&&e.substring(0,t.length)===t},n=function(e,t){return e.length>=t.length&&e.substring(e.length-t.length)===t},r=e.match(/^ddp(i?)\+sockjs:\/\//);if(r){var i=e.substr(r[0].length),s=r[1]==="i"?"http":"https",o=i.indexOf("/"),u=o===-1?i:i.substr(0,o),a=o===-1?"":i.substr(o);return u=u.replace(/\*/g,function(){return Math.floor(Math.random()*10)}),s+"://"+u+a}return e.indexOf("://")===-1&&!t(e,"/")&&(e="http://"+e),n(e,"/")?e+"sockjs":e+"/sockjs"}}),_.extend(Meteor._Stream.prototype,{on:function(e,t){var n=this;if(e!=="message"&&e!=="reset"&&e!=="update_available")throw new Error("unknown event type: "+e);n.event_callbacks[e]||(n.event_callbacks[e]=[]),n.event_callbacks[e].push(t)},send:function(e){var t=this;t.current_status.connected&&t.socket.send(e)},status:function(){var e=this;return e.status_listeners&&e.status_listeners.addCurrentContext(),e.current_status},reconnect:function(e){var t=this;if(t.current_status.connected){e&&e._force&&t._disconnected();return}t.current_status.status==="connecting"&&t._fake_connect_failed(),t.retry_timer&&clearTimeout(t.retry_timer),t.retry_timer=null,t.current_status.retryCount-=1,t.current_status.retry_count=t.current_status.retryCount,t._retry_now()},forceDisconnect:function(e){var t=this;t.force_fail=e,e&&t.socket&&t.socket.close()},_connected:function(e){var t=this;t.connection_timer&&(clearTimeout(t.connection_timer),t.connection_timer=null),t._heartbeat_received();if(t.current_status.connected)return;try{var n=JSON.parse(e)}catch(r){Meteor._debug("DEBUG: malformed welcome packet",e)}n&&n.server_id?(t.server_id||(t.server_id=n.server_id),t.server_id&&t.server_id!==n.server_id&&!t.sent_update_available&&(t.update_available=!0,_.each(t.event_callbacks.update_available,function(e){e()}))):Meteor._debug("DEBUG: invalid welcome packet",n),t.current_status.status="connected",t.current_status.connected=!0,t.current_status.retryCount=0,t.current_status.retry_count=t.current_status.retryCount,t.status_changed(),_.each(t.event_callbacks.reset,function(e){e()})},_cleanup_socket:function(){var e=this;if(e.socket){e.socket.onmessage=e.socket.onclose=e.socket.onerror=function(){},e.socket.close();var t=e.socket;e.socket=null}},_disconnected:function(){var e=this;e.connection_timer&&(clearTimeout(e.connection_timer),e.connection_timer=null),e.heartbeat_timer&&(clearTimeout(e.heartbeat_timer),e.heartbeat_timer=null),e._cleanup_socket(),e._retry_later()},_fake_connect_failed:function(){var e=this;e._cleanup_socket(),e._disconnected()},_heartbeat_timeout:function(){var e=this;Meteor._debug("Connection timeout. No heartbeat received."),e._fake_connect_failed()},_heartbeat_received:function(){var e=this;e.heartbeat_timer&&clearTimeout(e.heartbeat_timer),e.heartbeat_timer=setTimeout(_.bind(e._heartbeat_timeout,e),e.HEARTBEAT_TIMEOUT)},_retry_timeout:function(e){var t=this;if(e<t.RETRY_MIN_COUNT)return t.RETRY_MIN_TIMEOUT;var n=Math.min(t.RETRY_MAX_TIMEOUT,t.RETRY_BASE_TIMEOUT*Math.pow(t.RETRY_EXPONENT,e));return n*=Math.random()*t.RETRY_FUZZ+(1-t.RETRY_FUZZ/2),n},_retry_later:function(){var e=this,t=e._retry_timeout(e.current_status.retryCount);e.retry_timer&&clearTimeout(e.retry_timer),e.retry_timer=setTimeout(_.bind(e._retry_now,e),t),e.current_status.status="waiting",e.current_status.connected=!1,e.current_status.retryTime=(new Date).getTime()+t,e.current_status.retry_time=e.current_status.retryTime,e.status_changed()},_retry_now:function(){var e=this;if(e.force_fail)return;e.current_status.retryCount+=1,e.current_status.retry_count=e.current_status.retryCount,e.current_status.status="connecting",e.current_status.connected=!1,delete e.current_status.retryTime,delete e.current_status.retry_time,e.status_changed(),e._launch_connection()},_launch_connection:function(){var e=this;e._cleanup_socket(),e.socket=new SockJS(Meteor._Stream._toSockjsUrl(e.rawUrl),undefined,{debug:!1,protocols_whitelist:["xdr-polling","xhr-polling","iframe-xhr-polling","jsonp-polling"]}),e.socket.onmessage=function(t){e.current_status.status==="connecting"?e._connected(t.data):e.current_status.connected&&_.each(e.event_callbacks.message,function(e){e(t.data)}),e._heartbeat_received()},e.socket.onclose=function(){e._disconnected()},e.socket.onerror=function(){Meteor._debug("stream error",_.toArray(arguments),(new Date).toDateString())},e.socket.onheartbeat=function(){e._heartbeat_received()},e.connection_timer&&clearTimeout(e.connection_timer),e.connection_timer=setTimeout(_.bind(e._fake_connect_failed,e),e.CONNECT_TIMEOUT)}})
;
LocalCollection=function(){this.docs={},this.next_qid=1,this.queries={},this._savedOriginals=null,this.paused=!1},LocalCollection.prototype.find=function(e,t){return arguments.length===0&&(e={}),new LocalCollection.Cursor(this,e,t)},LocalCollection.Cursor=function(e,t,n){n||(n={}),this.collection=e,typeof t=="string"||typeof t=="number"?(this.selector_id=t,this.selector_f=LocalCollection._compileSelector(t)):(this.selector_f=LocalCollection._compileSelector(t),this.sort_f=n.sort?LocalCollection._compileSort(n.sort):null),this.skip=n.skip,this.limit=n.limit,this.db_objects=null,this.cursor_pos=0,typeof Meteor=="object"&&Meteor.deps&&(this.reactive=n.reactive===undefined?!0:n.reactive)},LocalCollection.Cursor.prototype.rewind=function(){var e=this;e.db_objects=null,e.cursor_pos=0},LocalCollection.prototype.findOne=function(e,t){return arguments.length===0&&(e={}),t=t||{},t.limit=1,this.find(e,t).fetch()[0]},LocalCollection.Cursor.prototype.forEach=function(e){var t=this,n;t.db_objects===null&&(t.db_objects=t._getRawObjects(!0)),t.reactive&&t._markAsReactive({ordered:!0,added:!0,removed:!0,changed:!0,moved:!0});while(t.cursor_pos<t.db_objects.length)e(LocalCollection._deepcopy(t.db_objects[t.cursor_pos++]))},LocalCollection.Cursor.prototype.map=function(e){var t=this,n=[];return t.forEach(function(t){n.push(e(t))}),n},LocalCollection.Cursor.prototype.fetch=function(){var e=this,t=[];return e.forEach(function(e){t.push(e)}),t},LocalCollection.Cursor.prototype.count=function(){var e=this;return e.reactive&&e._markAsReactive({ordered:!1,added:!0,removed:!0}),e.db_objects===null&&(e.db_objects=e._getRawObjects(!0)),e.db_objects.length},LocalCollection.LiveResultsSet=function(){},_.extend(LocalCollection.Cursor.prototype,{observe:function(e){var t=this;return t._observeInternal(!0,e)},_observeUnordered:function(e){var t=this;return t._observeInternal(!1,e)},_observeInternal:function(e,t){var n=this;if(!e&&(n.skip||n.limit))throw new Error("must use ordered observe with skip or limit");var r=n.collection.next_qid++,i=n.collection.queries[r]={selector_f:n.selector_f,sort_f:e&&n.sort_f,results_snapshot:null,ordered:e,cursor:this};i.results=n._getRawObjects(e),n.collection.paused&&(i.results_snapshot=e?[]:{});var s=function(e){return e?function(){n.collection.paused||e.apply(this,arguments)}:function(){}};i.added=s(t.added),i.changed=s(t.changed),i.removed=s(t.removed),e&&(i.moved=s(t.moved)),!t._suppress_initial&&!n.collection.paused&&_.each(i.results,function(t,n){i.added(LocalCollection._deepcopy(t),e?n:undefined)});var o=new LocalCollection.LiveResultsSet;return _.extend(o,{collection:n.collection,stop:function(){delete n.collection.queries[r]}}),o}}),LocalCollection.Cursor.prototype._getRawObjects=function(e){var t=this,n=e?[]:{};if(t.selector_id){if(t.skip)return n;if(_.has(t.collection.docs,t.selector_id)){var r=t.collection.docs[t.selector_id];e?n.push(r):n[t.selector_id]=r}return n}for(var i in t.collection.docs){var s=t.collection.docs[i];t.selector_f(s)&&(e?n.push(s):n[i]=s);if(t.limit&&!t.skip&&!t.sort_f&&n.length===t.limit)return n}if(!e)return n;t.sort_f&&n.sort(t.sort_f);var o=t.skip||0,u=t.limit?t.limit+o:n.length;return n.slice(o,u)},LocalCollection.Cursor.prototype._markAsReactive=function(e){var t=this,n=Meteor.deps.Context.current;if(n){var r=_.bind(n.invalidate,n),i;e.ordered?i=t.observe({added:e.added&&r,removed:e.removed&&r,changed:e.changed&&r,moved:e.moved&&r,_suppress_initial:!0}):i=t._observeUnordered({added:e.added&&r,removed:e.removed&&r,changed:e.changed&&r,_suppress_initial:!0}),n.onInvalidate(i.stop)}},LocalCollection.prototype.insert=function(e){var t=this;e=LocalCollection._deepcopy(e),"_id"in e||(e._id=LocalCollection.uuid());if(_.has(t.docs,e._id))throw new Error("Duplicate _id '"+e._id+"'");t._saveOriginal(e._id,undefined),t.docs[e._id]=e;var n=[];for(var r in t.queries){var i=t.queries[r];i.selector_f(e)&&(i.cursor.skip||i.cursor.limit?n.push(i):LocalCollection._insertInResults(i,e))}_.each(n,function(e){LocalCollection._recomputeResults(e)})},LocalCollection.prototype.remove=function(e){var t=this,n=[],r=[];if(LocalCollection._selectorIsId(e))_.has(t.docs,e)&&n.push(e);else{var i=LocalCollection._compileSelector(e);for(var s in t.docs){var o=t.docs[s];i(o)&&n.push(s)}}var u=[];for(var a=0;a<n.length;a++){var f=n[a],l=t.docs[f];_.each(t.queries,function(e){e.selector_f(l)&&(e.cursor.skip||e.cursor.limit?r.push(e):u.push([e,l]))}),t._saveOriginal(f,l),delete t.docs[f]}for(var a=0;a<u.length;a++)LocalCollection._removeFromResults(u[a][0],u[a][1]);_.each(r,function(e){LocalCollection._recomputeResults(e)})},LocalCollection.prototype.update=function(e,t,n){var r=this;n||(n={});if(n.upsert)throw new Error("upsert not yet implemented");var i=LocalCollection._compileSelector(e),s={};_.each(r.queries,function(e,t){(e.cursor.skip||e.cursor.limit)&&!e.paused&&(s[t]=LocalCollection._deepcopy(e.results))});var o={};for(var u in r.docs){var a=r.docs[u];if(i(a)){r._saveOriginal(u,a),r._modifyAndNotify(a,t,o);if(!n.multi)break}}_.each(o,function(e,t){LocalCollection._recomputeResults(r.queries[t],s[t])})},LocalCollection.prototype._modifyAndNotify=function(e,t,n){var r=this,i={};for(var s in r.queries){var o=r.queries[s];o.ordered?i[s]=o.selector_f(e):i[s]=_.has(o.results,e._id)}var u=LocalCollection._deepcopy(e);LocalCollection._modify(e,t);for(s in r.queries){o=r.queries[s];var a=i[s],f=o.selector_f(e);if(o.cursor.skip||o.cursor.limit){if(a||f)n[s]=!0}else a&&!f?LocalCollection._removeFromResults(o,e):!a&&f?LocalCollection._insertInResults(o,e):a&&f&&LocalCollection._updateInResults(o,e,u)}},LocalCollection._deepcopy=function(e){if(typeof e!="object")return e;if(e===null)return null;if(e instanceof Date)return new Date(e.getTime());if(_.isArray(e)){var t=e.slice(0);for(var n=0;n<e.length;n++)t[n]=LocalCollection._deepcopy(t[n]);return t}var t={};for(var r in e)t[r]=LocalCollection._deepcopy(e[r]);return t},LocalCollection._insertInResults=function(e,t){if(e.ordered)if(!e.sort_f)e.added(LocalCollection._deepcopy(t),e.results.length),e.results.push(t);else{var n=LocalCollection._insertInSortedList(e.sort_f,e.results,t);e.added(LocalCollection._deepcopy(t),n)}else e.added(LocalCollection._deepcopy(t)),e.results[t._id]=t},LocalCollection._removeFromResults=function(e,t){if(e.ordered){var n=LocalCollection._findInOrderedResults(e,t);e.removed(t,n),e.results.splice(n,1)}else{var r=t._id;e.removed(t),delete e.results[r]}},LocalCollection._updateInResults=function(e,t,n){if(t._id!==n._id)throw new Error("Can't change a doc's _id while updating");if(!e.ordered){e.changed(LocalCollection._deepcopy(t),n),e.results[t._id]=t;return}var r=LocalCollection._findInOrderedResults(e,t);e.changed(LocalCollection._deepcopy(t),r,n);if(!e.sort_f)return;e.results.splice(r,1);var i=LocalCollection._insertInSortedList(e.sort_f,e.results,t);r!==i&&e.moved(LocalCollection._deepcopy(t),r,i)},LocalCollection._recomputeResults=function(e,t){t||(t=e.results),e.results=e.cursor._getRawObjects(e.ordered),e.paused||LocalCollection._diffQuery(e.ordered,t,e.results,e,!0)},LocalCollection._findInOrderedResults=function(e,t){if(!e.ordered)throw new Error("Can't call _findInOrderedResults on unordered query");for(var n=0;n<e.results.length;n++)if(e.results[n]===t)return n;throw Error("object missing from query")},LocalCollection._insertInSortedList=function(e,t,n){if(t.length===0)return t.push(n),0;for(var r=0;r<t.length;r++)if(e(n,t[r])<0)return t.splice(r,0,n),r;return t.push(n),t.length-1},LocalCollection.prototype.saveOriginals=function(){var e=this;if(e._savedOriginals)throw new Error("Called saveOriginals twice without retrieveOriginals");e._savedOriginals={}},LocalCollection.prototype.retrieveOriginals=function(){var e=this;if(!e._savedOriginals)throw new Error("Called retrieveOriginals without saveOriginals");var t=e._savedOriginals;return e._savedOriginals=null,t},LocalCollection.prototype._saveOriginal=function(e,t){var n=this;if(!n._savedOriginals)return;if(_.has(n._savedOriginals,e))return;n._savedOriginals[e]=LocalCollection._deepcopy(t)},LocalCollection.prototype.pauseObservers=function(){if(this.paused)return;this.paused=!0;for(var e in this.queries){var t=this.queries[e];t.results_snapshot=LocalCollection._deepcopy(t.results)}},LocalCollection.prototype.resumeObservers=function(){if(!this.paused)return;this.paused=!1;for(var e in this.queries){var t=this.queries[e];LocalCollection._diffQuery(t.ordered,t.results_snapshot,t.results,t,!0),t.results_snapshot=null}}
;
LocalCollection._f={_all:function(e,t){if(e instanceof Array){var n={},r=0;_.each(t,function(e){var t=JSON.stringify(e);t in n||(n[t]=!0,r++)});for(var i=0;i<e.length;i++){var s=JSON.stringify(e[i]);if(n[s]){delete n[s],r--;if(0===r)return!0}}return!1}return!1},_in:function(e,t){if(typeof e!="object"){for(var n=0;n<t.length;n++)if(e===t[n])return!0;return!1}for(var n=0;n<t.length;n++)if(LocalCollection._f._equal(e,t[n]))return!0;return!1},_type:function(e){return typeof e=="number"?1:typeof e=="string"?2:typeof e=="boolean"?8:e instanceof Array?4:e===null?10:e instanceof RegExp?11:typeof e=="function"?13:3},_equal:function(e,t){var n=function(e,t){if(typeof e=="number"||typeof e=="string"||typeof e=="boolean"||e===undefined||e===null)return e===t;if(typeof e=="function")return!1;if(typeof t!="object")return!1;if(e instanceof Array){if(t instanceof Array){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(!n(e[r],t[r]))return!1;return!0}return!1}var i=[];for(var s in t)i.push(s);var r=0;for(var s in e){if(r>=i.length)return!1;if(s!==i[r])return!1;if(!n(e[s],t[i[r]]))return!1;r++}return r!==i.length?!1:!0};return n(e,t)},_matches:function(e,t){if(e instanceof Array){for(var n=0;n<e.length;n++)if(t(e[n]))return!0;return!1}return t(e)},_matches_plus:function(e,t){if(e instanceof Array)for(var n=0;n<e.length;n++)if(t(e[n]))return!0;return t(e)},_typeorder:function(e){return[-1,1,2,3,4,5,-1,6,7,8,0,9,-1,100,2,100,1,8,1][e]},_cmp:function(e,t){if(e===undefined)return t===undefined?0:-1;if(t===undefined)return 1;var n=LocalCollection._f._type(e),r=LocalCollection._f._type(t),i=LocalCollection._f._typeorder(n),s=LocalCollection._f._typeorder(r);if(i!==s)return i<s?-1:1;if(n!==r)throw Error("Missing type coercion logic in _cmp");if(n===1)return e-t;if(r===2)return e<t?-1:e===t?0:1;if(n===3){var o=function(e){var t=[];for(var n in e)t.push(n),t.push(e[n]);return t};return LocalCollection._f._cmp(o(e),o(t))}if(n===4)for(var u=0;;u++){if(u===e.length)return u===t.length?0:-1;if(u===t.length)return 1;var a=LocalCollection._f._cmp(e[u],t[u]);if(a!==0)return a}if(n===8)return e?t?0:1:t?-1:0;if(n===10)return 0;if(n===11)throw Error("Sorting not supported on regular expression");if(n===13)throw Error("Sorting not supported on Javascript code")}},LocalCollection._matches=function(e,t){return LocalCollection._compileSelector(e)(t)},LocalCollection._compileSelector=function(selector){var literals=[];if(selector instanceof Function)return function(e){return selector.call(e)};LocalCollection._selectorIsId(selector)&&(selector={_id:selector});if(!selector||"_id"in selector&&!selector._id)return function(e){return!1};var _func;return eval("_func = (function(f,literals){return function(doc){return "+LocalCollection._exprForSelector(selector,literals)+";};})"),_func(LocalCollection._f,literals)},LocalCollection._selectorIsId=function(e){return typeof e=="string"||typeof e=="number"},LocalCollection._exprForSelector=function(e,t){var n=[];for(var r in e){var i=e[r];r.substr(0,1)==="$"?n.push(LocalCollection._exprForDocumentPredicate(r,i,t)):n.push(LocalCollection._exprForKeypathPredicate(r,i,t))}return n.length===0?"true":"("+n.join("&&")+")"},LocalCollection._exprForDocumentPredicate=function(e,t,n){if(e==="$or"||e==="$and"||e==="$nor")if(_.isEmpty(t)||!_.isArray(t))throw Error("$and/$or/$nor must be a nonempty array");var r;if(e==="$or")return r=_.map(t,function(e){return LocalCollection._exprForSelector(e,n)}),"("+r.join("||")+")";if(e==="$and")return r=_.map(t,function(e){return LocalCollection._exprForSelector(e,n)}),"("+r.join("&&")+")";if(e==="$nor")return r=_.map(t,function(e){return"!("+LocalCollection._exprForSelector(e,n)+")"}),"("+r.join("&&")+")";if(e==="$where")return t instanceof Function?(n.push(t),"literals["+(n.length-1)+"].call(doc)"):"(function(){return "+t+";}).call(doc)";throw Error("Unrecogized key in selector: ",e)},LocalCollection._exprForKeypathPredicate=function(e,t,n){var r=e.split("."),i="";if(t instanceof RegExp)i=LocalCollection._exprForOperatorTest(t,n);else if(typeof t!="object"||t===null||t instanceof Array)i=LocalCollection._exprForValueTest(t,n);else{var s=!0;for(var o in t)if(o.substr(0,1)==="$"){s=!1;break}s?i=LocalCollection._exprForValueTest(t,n):i=LocalCollection._exprForOperatorTest(t,n)}var u="",a=!0,f=!1;while(r.length){var l=r.pop(),c=!1;/^\d+$/.test(l)&&(l=+l,c=!0);var h=r.length?"x":"doc";a?(u="(function(x){return "+i+";})("+h+"&&"+h+"["+JSON.stringify(l)+"])",a=!1):f?u="(function(x){return "+u+";})("+h+"&&"+h+"["+JSON.stringify(l)+"])":u="f._matches("+h+"&&"+h+"["+JSON.stringify(l)+"], function(x){return "+u+";})",f=c}return u},LocalCollection._exprForValueTest=function(e,t){var n;if(e===null)n="x===null||x===undefined";else if(typeof e=="string"||typeof e=="number"||typeof e=="boolean")n="x==="+JSON.stringify(e);else{if(typeof e=="function")throw Error("Bad value type in query");n="f._equal(x,"+JSON.stringify(e)+")"}return"f._matches_plus(x,function(x){return "+n+";})"},LocalCollection._exprForOperatorTest=function(e,t){if(e instanceof RegExp)return LocalCollection._exprForOperatorTest({$regex:e},t);var n=[];for(var r in e)n.push(LocalCollection._exprForConstraint(r,e[r],e,t));return n.length===0?"true":"("+n.join("&&")+")"},LocalCollection._exprForConstraint=function(e,t,n,r){var i,s="_matches",o=!1;if(e==="$gt")i="f._cmp(x,"+JSON.stringify(t)+")>0";else if(e==="$lt")i="f._cmp(x,"+JSON.stringify(t)+")<0";else if(e==="$gte")i="f._cmp(x,"+JSON.stringify(t)+")>=0";else if(e==="$lte")i="f._cmp(x,"+JSON.stringify(t)+")<=0";else if(e==="$all")i="f._all(x,"+JSON.stringify(t)+")",s=null;else if(e==="$exists")t?i="x!==undefined":i="x===undefined",s=null;else if(e==="$mod")i="x%"+JSON.stringify(t[0])+"==="+JSON.stringify(t[1]);else if(e==="$ne")typeof t!="object"?i="x==="+JSON.stringify(t):i="f._equal(x,"+JSON.stringify(t)+")",s="_matches_plus",o=!0;else if(e==="$in")i="f._in(x,"+JSON.stringify(t)+")",s="_matches_plus";else if(e==="$nin")i="f._in(x,"+JSON.stringify(t)+")",s="_matches_plus",o=!0;else if(e==="$size")i="(x instanceof Array)&&x.length==="+t,s=null;else if(e==="$type")i="f._type(x)==="+JSON.stringify(t);else if(e==="$regex"){if("$options"in n&&/[^gim]/.test(n.$options))throw Error("Only the i, m, and g regexp options are supported");i="literals["+r.length+"].test(x)",t instanceof RegExp?"$options"in n?r.push(new RegExp(t.source,n.$options)):r.push(t):r.push(new RegExp(t,n.$options))}else if(e==="$options")i="true",s=null;else{if(e==="$elemMatch")throw Error("$elemMatch unimplemented");if(e!=="$not")throw Error("Unrecognized key in selector: "+e);i="!"+LocalCollection._exprForOperatorTest(t,r),s=null}return s&&(i="f."+s+"(x,function(x){return "+i+";})"),o&&(i="!"+i),i}
;
LocalCollection._compileSort=function(spec){var keys=[],asc=[];if(spec instanceof Array)for(var i=0;i<spec.length;i++)typeof spec[i]=="string"?(keys.push(spec[i]),asc.push(!0)):(keys.push(spec[i][0]),asc.push(spec[i][1]!=="desc"));else{if(typeof spec!="object")throw Error("Bad sort specification: ",JSON.stringify(spec));for(key in spec)keys.push(key),asc.push(!(spec[key]<0))}if(keys.length===0)return function(){return 0};var _func,code="_func = (function(c){return function(a,b){var x;";for(var i=0;i<keys.length;i++){var splittedKeys=keys[i].split("."),keyString="",aCode="a",bCode="b";for(var o=0;o<splittedKeys.length;o++)keyString=keyString+"["+JSON.stringify(splittedKeys[o])+"]",aCode+="&&a"+keyString,bCode+="&&b"+keyString;i!==0&&(code+="if(x!==0)return x;"),code+="x="+(asc[i]?"":"-")+"c("+aCode+","+bCode+");"}return code+="return x;};})",eval(code),_func(LocalCollection._f._cmp)}
;
LocalCollection._Alea=function(){function e(){var e=4022871197,t=function(t){t=t.toString();for(var r=0;r<t.length;r++){e+=t.charCodeAt(r);var i=.02519603282416938*e;e=i>>>0,i-=e,i*=e,e=i>>>0,i-=e,e+=i*4294967296}return(e>>>0)*2.3283064365386963e-10};return t.version="Mash 0.9",t}return function(t){var n=0,r=0,i=0,s=1;t.length==0&&(t=[+(new Date)]);var o=e();n=o(" "),r=o(" "),i=o(" ");for(var u=0;u<t.length;u++)n-=o(t[u]),n<0&&(n+=1),r-=o(t[u]),r<0&&(r+=1),i-=o(t[u]),i<0&&(i+=1);o=null;var a=function(){var e=2091639*n+s*2.3283064365386963e-10;return n=r,r=i,i=e-(s=e|0)};return a.uint32=function(){return a()*4294967296},a.fract53=function(){return a()+(a()*2097152|0)*1.1102230246251565e-16},a.version="Alea 0.9",a.args=t,a}(Array.prototype.slice.call(arguments))},LocalCollection.random=new LocalCollection._Alea,LocalCollection.uuid=function(){var e=[],t="0123456789abcdef";for(var n=0;n<36;n++)e[n]=t.substr(Math.floor(LocalCollection.random()*16),1);e[14]="4",e[19]=t.substr(parseInt(e[19],16)&3|8,1),e[8]=e[13]=e[18]=e[23]="-";var r=e.join("");return r}
;
LocalCollection._modify=function(e,t){var n=!1;for(var r in t){n=r.substr(0,1)==="$";break}var i;if(!n){if(t._id&&e._id!==t._id)throw Error("Cannot change the _id of a document");for(var r in t){if(r.substr(0,1)==="$")throw Error("When replacing document, field name may not start with '$'");if(/\./.test(r))throw Error("When replacing document, field name may not contain '.'")}i=t}else{var i=LocalCollection._deepcopy(e);for(var s in t){var o=LocalCollection._modifiers[s];if(!o)throw Error("Invalid modifier specified "+s);for(var u in t[s]){if(u.length&&u[u.length-1]===".")throw Error("Invalid mod field name, may not end in a period");var a=t[s][u],f=u.split("."),l=!!LocalCollection._noCreateModifiers[s],c=s==="$rename",h=LocalCollection._findModTarget(i,f,l,c),p=f.pop();o(h,p,a,u,i)}}}for(var r in e)r!=="_id"&&delete e[r];for(var r in i)e[r]=i[r]},LocalCollection._findModTarget=function(e,t,n,r){for(var i=0;i<t.length;i++){var s=i===t.length-1,o=t[i],u=/^[0-9]+$/.test(o);if(!(!n||typeof e=="object"&&o in e))return undefined;if(e instanceof Array){if(r)return null;if(!u)throw Error("can't append to array using string field name ["+o+"]");o=parseInt(o),s&&(t[i]=o);while(e.length<o)e.push(null);if(!s)if(e.length===o)e.push({});else if(typeof e[o]!="object")throw Error("can't modify field '"+t[i+1]+"' of list value "+JSON.stringify(e[o]))}else!s&&!(o in e)&&(e[o]={});if(s)return e;e=e[o]}},LocalCollection._noCreateModifiers={$unset:!0,$pop:!0,$rename:!0,$pull:!0,$pullAll:!0},LocalCollection._modifiers={$inc:function(e,t,n){if(typeof n!="number")throw Error("Modifier $inc allowed for numbers only");if(t in e){if(typeof e[t]!="number")throw Error("Cannot apply $inc modifier to non-number");e[t]+=n}else e[t]=n},$set:function(e,t,n){e[t]=LocalCollection._deepcopy(n)},$unset:function(e,t,n){e!==undefined&&(e instanceof Array?t in e&&(e[t]=null):delete e[t])},$push:function(e,t,n){var r=e[t];if(r===undefined)e[t]=[n];else{if(!(r instanceof Array))throw Error("Cannot apply $push modifier to non-array");r.push(LocalCollection._deepcopy(n))}},$pushAll:function(e,t,n){if(!(typeof n=="object"&&n instanceof Array))throw Error("Modifier $pushAll/pullAll allowed for arrays only");var r=e[t];if(r===undefined)e[t]=n;else{if(!(r instanceof Array))throw Error("Cannot apply $pushAll modifier to non-array");for(var i=0;i<n.length;i++)r.push(n[i])}},$addToSet:function(e,t,n){var r=e[t];if(r===undefined)e[t]=[n];else{if(!(r instanceof Array))throw Error("Cannot apply $addToSet modifier to non-array");var i=!1;if(typeof n=="object")for(var s in n){s==="$each"&&(i=!0);break}var o=i?n.$each:[n];_.each(o,function(e){for(var t=0;t<r.length;t++)if(LocalCollection._f._equal(e,r[t]))return;r.push(e)})}},$pop:function(e,t,n){if(e===undefined)return;var r=e[t];if(r===undefined)return;if(!(r instanceof Array))throw Error("Cannot apply $pop modifier to non-array");typeof n=="number"&&n<0?r.splice(0,1):r.pop()},$pull:function(e,t,n){if(e===undefined)return;var r=e[t];if(r===undefined)return;if(!(r instanceof Array))throw Error("Cannot apply $pull/pullAll modifier to non-array");var i=[];if(typeof n!="object"||n instanceof Array)for(var o=0;o<r.length;o++)LocalCollection._f._equal(r[o],n)||i.push(r[o]);else{var s=LocalCollection._compileSelector(n);for(var o=0;o<r.length;o++)s(r[o])||i.push(r[o])}e[t]=i},$pullAll:function(e,t,n){if(!(typeof n=="object"&&n instanceof Array))throw Error("Modifier $pushAll/pullAll allowed for arrays only");if(e===undefined)return;var r=e[t];if(r===undefined)return;if(!(r instanceof Array))throw Error("Cannot apply $pull/pullAll modifier to non-array");var i=[];for(var s=0;s<r.length;s++){var o=!1;for(var u=0;u<n.length;u++)if(LocalCollection._f._equal(r[s],n[u])){o=!0;break}o||i.push(r[s])}e[t]=i},$rename:function(e,t,n,r,i){if(r===n)throw Error("$rename source must differ from target");if(e===null)throw Error("$rename source field invalid");if(typeof n!="string")throw Error("$rename target must be a string");if(e===undefined)return;var s=e[t];delete e[t];var o=n.split("."),u=LocalCollection._findModTarget(i,o,!1,!0);if(u===null)throw Error("$rename target field invalid");var a=o.pop();u[a]=s},$bit:function(e,t,n){throw Error("$bit is not supported")}}
;
LocalCollection._diffQuery=function(e,t,n,r,i){e?LocalCollection._diffQueryOrdered(t,n,r,i):LocalCollection._diffQueryUnordered(t,n,r,i)},LocalCollection._diffQueryOrdered=function(e,t,n,r){var i={};_.each(t,function(e){i[e._id]&&Meteor._debug("Duplicate _id in new_results"),i[e._id]=!0});var s={};_.each(e,function(e,t){e._id in s&&Meteor._debug("Duplicate _id in old_results"),s[e._id]=t});var o=r?LocalCollection._deepcopy:_.identity,u={},a=0,f=t.length,l=new Array(f),c=new Array(f),h=function(e){return s[t[e]._id]};for(var p=0;p<f;p++)if(s[t[p]._id]!==undefined){var d=a;while(d>0){if(h(l[d-1])<h(p))break;d--}c[p]=d===0?-1:l[d-1],l[d]=p,d+1>a&&(a=d+1)}var v=a===0?-1:l[a-1];while(v>=0)u[v]=!0,v=c[v];var m=0,g=0,y=[],b=[],w=[],E=function(t){while(m<t){var r=e[m],s=i[r._id];s?w.length>=1&&w[0]===m?w.shift():(y.push(g),b.push(m)):n.removed&&n.removed(r,g+y.length),m++}};while(g<=t.length){if(g<t.length){var S=t[g],x=s[S._id];if(x===undefined)n.added&&n.added(o(S),g+y.length);else{var T=e[x],N=u[g];if(N)x<m&&Meteor._debug("Assertion failed while diffing: nonmonotonic lcs data"),E(x),n.changed&&!_.isEqual(T,S)&&n.changed(o(S),g+y.length,T),m++;else{var C=g+y.length,k;if(x>=m){k=C+x-m;var L=_.sortedIndex(w,x);k-=L,w.splice(L,0,x)}else{var A=_.indexOf(b,x,!0);A<0&&Meteor._debug("Assertion failed while diffing: no bumped item"),k=y[A]+A,C--,y.splice(A,1),b.splice(A,1)}k!=C&&n.moved&&n.moved(o(T),k,C),n.changed&&!_.isEqual(T,S)&&n.changed(o(S),C,T)}}}else E(e.length);g++}y.length>0&&(Meteor._debug(e),Meteor._debug(t),Meteor._debug("Assertion failed while diffing: leftover bump_list "+y))},LocalCollection._diffQueryUnordered=function(e,t,n,r){if(n.moved)throw new Error("_diffQueryUnordered called with a moved observer!");var i=r?LocalCollection._deepcopy:_.identity;_.each(t,function(t){if(_.has(e,t._id)){var r=e[t._id];n.changed&&!_.isEqual(r,t)&&n.changed(i(t),r)}else n.added&&n.added(i(t))}),n.removed&&_.each(e,function(e){_.has(t,e._id)||n.removed(e)})}
;
Meteor._MethodInvocation=function(e){var t=this;this.isSimulation=e.isSimulation,this.is_simulation=this.isSimulation,this.unblock=e.unblock||function(){},this.userId=e.userId,this._setUserId=e.setUserId||function(){},this._sessionData=e.sessionData},_.extend(Meteor._MethodInvocation.prototype,{setUserId:function(e){this.userId=e,this._setUserId(e)}}),Meteor._CurrentInvocation=new Meteor.EnvironmentVariable,Meteor.Error=function(e,t,n){var r=this;r.error=e,r.reason=t,r.details=n},Meteor.Error.prototype=new Error
;
(function(){if(Meteor.isServer)var e=__meteor_bootstrap__.require(path.join("fibers","future"));var t=null;Meteor._LivedataConnection=function(e,t){var n=this;t=_.extend({reloadOnUpdate:!1,reloadWithOutstanding:!1},t),n.onReconnect=null,typeof e=="object"?n._stream=e:n._stream=new Meteor._Stream(e),n._lastSessionId=null,n._stores={},n._methodHandlers={},n._nextMethodId=1,n._methodInvokers={},n._outstandingMethodBlocks=[],n._documentsWrittenByStub={},n._serverDocuments={},n._afterUpdateCallbacks=[],n._messagesBufferedUntilQuiescence=[],n._methodsBlockingQuiescence={},n._subsBeingRevived={},n._resetStores=!1,n._updatesForUnknownStores={},n._retryMigrate=null,n._subCollection=new LocalCollection,n._subReadyCallbacks={},n._sessionData={},n._userId=null,n._userIdListeners=Meteor.deps&&new Meteor.deps._ContextSet,t.reloadWithOutstanding||Meteor._reload.onMigrate(function(e){if(!n._readyToMigrate()){if(n._retryMigrate)throw new Error("Two migrations in progress?");return n._retryMigrate=e,!1}return[!0]}),n._stream.on("message",function(e){try{var t=JSON.parse(e)}catch(r){Meteor._debug("discarding message with invalid JSON",e);return}if(typeof t!="object"||!t.msg){Meteor._debug("discarding invalid livedata message",t);return}t.msg==="connected"?n._livedata_connected(t):t.msg==="data"?n._livedata_data(t):t.msg==="nosub"?n._livedata_nosub(t):t.msg==="result"?n._livedata_result(t):t.msg==="error"?n._livedata_error(t):Meteor._debug("discarding unknown livedata message type",t)}),n._stream.on("reset",function(){var e={msg:"connect"};n._lastSessionId&&(e.session=n._lastSessionId),n._stream.send(JSON.stringify(e)),!_.isEmpty(n._outstandingMethodBlocks)&&_.isEmpty(n._outstandingMethodBlocks[0].methods)&&n._outstandingMethodBlocks.shift(),_.each(n._methodInvokers,function(e){e.sentMessage=!1}),n.onReconnect?n._callOnReconnectAndSendAppropriateOutstandingMethods():n._sendOutstandingMethods(),n._subCollection.find().forEach(function(e){n._stream.send(JSON.stringify({msg:"sub",id:e._id,name:e.name,params:e.args}))})}),t.reloadOnUpdate&&n._stream.on("update_available",function(){Meteor._reload.reload()}),n._subCollection.find({})._observeUnordered({added:function(e){n._stream.send(JSON.stringify({msg:"sub",id:e._id,name:e.name,params:e.args}))},changed:function(e){e.count<=0&&_.defer(function(){n._subCollection.remove({_id:e._id})})},removed:function(e){n._stream.send(JSON.stringify({msg:"unsub",id:e._id}))}})};var n=function(e){var t=this;t.methodId=e.methodId,t.sentMessage=!1,t._callback=e.callback,t._connection=e.connection,t._message=JSON.stringify(e.message),t._onResultReceived=e.onResultReceived||function(){},t._wait=e.wait,t._methodResult=null,t._dataVisible=!1,t._connection._methodInvokers[t.methodId]=t};_.extend(n.prototype,{sendMessage:function(){var e=this;if(e.gotResult())throw new Error("sendingMethod is called on method with result");e._dataVisible=!1,e.sentMessage=!0,e._wait&&(e._connection._methodsBlockingQuiescence[e.methodId]=!0),e._connection._stream.send(e._message)},_maybeInvokeCallback:function(){var e=this;e._methodResult&&e._dataVisible&&(e._callback(e._methodResult[0],e._methodResult[1]),delete e._connection._methodInvokers[e.methodId],e._connection._outstandingMethodFinished())},receiveResult:function(e,t){var n=this;if(n.gotResult())throw new Error("Methods should only receive results once");n._methodResult=[e,t],n._onResultReceived(e,t),n._maybeInvokeCallback()},dataVisible:function(){var e=this;e._dataVisible=!0,e._maybeInvokeCallback()},gotResult:function(){var e=this;return!!e._methodResult}}),_.extend(Meteor._LivedataConnection.prototype,{registerStore:function(e,t){var n=this;if(e in n._stores)return!1;var r={};_.each(["update","beginUpdate","endUpdate","saveOriginals","retrieveOriginals"],function(e){r[e]=function(){return t[e]?t[e].apply(t,arguments):undefined}}),n._stores[e]=r;var i=n._updatesForUnknownStores[e];return i&&(r.beginUpdate(i.length,!1),_.each(i,function(e){r.update(e)}),r.endUpdate(),delete n._updatesForUnknownStores[e]),!0},subscribe:function(e){var n=this,r,i=Array.prototype.slice.call(arguments,1);if(i.length&&typeof i[i.length-1]=="function")var s=i.pop();var o=n._subCollection.find({name:e,args:i,count:{$gt:0}},{reactive:!1}).fetch();o&&o[0]?(r=o[0]._id,n._subCollection.update({_id:r},{$inc:{count:1}}),s&&(n._subReadyCallbacks[r]?n._subReadyCallbacks[r].push(s):s())):(r=LocalCollection.uuid(),n._subCollection.insert({_id:r,name:e,args:i,count:1}),n._subReadyCallbacks[r]=[],s&&n._subReadyCallbacks[r].push(s));var u={stop:function(){if(!r)return;n._subCollection.update({_id:r},{$inc:{count:-1}})}};return t&&t.push(u),u},methods:function(e){var t=this;_.each(e,function(e,n){if(t._methodHandlers[n])throw new Error("A method named '"+n+"' is already defined");t._methodHandlers[n]=e})},call:function(e){var t=Array.prototype.slice.call(arguments,1);if(t.length&&typeof t[t.length-1]=="function")var n=t.pop();return this.apply(e,t,n)},apply:function(t,r,i,s){var o=this;!s&&typeof i=="function"&&(s=i,i={}),i=i||{},s&&(s=Meteor.bindEnvironment(s,function(e){Meteor._debug("Exception while delivering result of invoking '"+t+"'",e,e.stack)}));var u=function(){var e;return function(){return e===undefined&&(e=""+o._nextMethodId++),e}}();if(Meteor.isClient){var a=Meteor._CurrentInvocation.get(),f=a&&a.isSimulation,l=o._methodHandlers[t];if(l){var c=function(e){o.setUserId(e)},h=new Meteor._MethodInvocation({isSimulation:!0,userId:o.userId(),setUserId:c,sessionData:o._sessionData});f||o._saveOriginals();try{var p=Meteor._CurrentInvocation.withValue(h,function(){return l.apply(h,r)})}catch(d){var v=d}f||o._retrieveAndStoreOriginals(u())}if(f){if(s)return s(v,p),undefined;if(v)throw v;return p}v&&!v.expected&&Meteor._debug("Exception while simulating the effect of invoking '"+t+"'",v,v.stack)}if(!s)if(Meteor.isClient)s=function(){};else{var m=new e;s=function(e,t){m["return"]([e,t])}}var g=new n({methodId:u(),callback:s,connection:o,onResultReceived:i.onResultReceived,wait:!!i.wait,message:{msg:"method",method:t,params:r,id:u()}});i.wait?o._outstandingMethodBlocks.push({wait:!0,methods:[g]}):((_.isEmpty(o._outstandingMethodBlocks)||_.last(o._outstandingMethodBlocks).wait)&&o._outstandingMethodBlocks.push({wait:!1,methods:[]}),_.last(o._outstandingMethodBlocks).methods.push(g)),o._outstandingMethodBlocks.length===1&&g.sendMessage();if(m){var y=m.wait();if(y[0])throw y[0];return y[1]}return undefined},_saveOriginals:function(){var e=this;_.each(e._stores,function(e){e.saveOriginals()})},_retrieveAndStoreOriginals:function(e){var t=this;if(t._documentsWrittenByStub[e])throw new Error("Duplicate methodId in _retrieveAndStoreOriginals");var n=[];_.each(t._stores,function(r,i){var s=r.retrieveOriginals();_.each(s,function(r,s){n.push({collection:i,id:s});var o=Meteor._ensure(t._serverDocuments,i,s);o.writtenByStubs?o.writtenByStubs[e]=!0:(o.document=r,o.flushCallbacks=[],o.writtenByStubs={},o.writtenByStubs[e]=!0)})}),_.isEmpty(n)||(t._documentsWrittenByStub[e]=n)},status:function(){var e=this;return e._stream.status.apply(e._stream,arguments)},reconnect:function(){var e=this;return e._stream.reconnect.apply(e._stream,arguments)},userId:function(){var e=this;return e._userIdListeners&&e._userIdListeners.addCurrentContext(),e._userId},setUserId:function(e){var t=this;if(t._userId===e)return;t._userId=e,t._userIdListeners&&t._userIdListeners.invalidateAll()},_waitingForQuiescence:function(){var e=this;return!_.isEmpty(e._subsBeingRevived)||!_.isEmpty(e._methodsBlockingQuiescence)},_anyMethodsAreOutstanding:function(){var e=this;return _.any(_.pluck(e._methodInvokers,"sentMessage"))},_livedata_connected:function(e){var t=this;t._lastSessionId&&(t._resetStores=!0);if(typeof e.session=="string"){var n=t._lastSessionId===e.session;t._lastSessionId=e.session}if(n)return;t._updatesForUnknownStores={},t._documentsWrittenByStub={},t._serverDocuments={},t._afterUpdateCallbacks=[],t._subsBeingRevived={},t._subCollection.find({}).forEach(function(e){t._subReadyCallbacks[e._id]||(t._subsBeingRevived[e._id]=!0)}),t._methodsBlockingQuiescence={},t._resetStores&&_.each(t._methodInvokers,function(e){e.gotResult()?t._afterUpdateCallbacks.push(_.bind(e.dataVisible,e)):e.sentMessage&&(t._methodsBlockingQuiescence[e.methodId]=!0)}),t._messagesBufferedUntilQuiescence=[],t._waitingForQuiescence()||(t._resetStores&&(_.each(t._stores,function(e){e.beginUpdate(0,!0),e.endUpdate()}),t._resetStores=!1),t._runAfterUpdateCallbacks())},_livedata_data:function(e){var t=this,n={};if(t._waitingForQuiescence()){t._messagesBufferedUntilQuiescence.push(e),_.each(e.subs||[],function(e){delete t._subsBeingRevived[e]}),_.each(e.methods||[],function(e){delete t._methodsBlockingQuiescence[e]});if(t._waitingForQuiescence())return;_.each(t._messagesBufferedUntilQuiescence,function(e){t._processOneDataMessage(e,n)}),t._messagesBufferedUntilQuiescence=[]}else t._processOneDataMessage(e,n);if(t._resetStores||!_.isEmpty(n))_.each(t._stores,function(e,r){e.beginUpdate(_.has(n,r)?n[r].length:0,t._resetStores)}),t._resetStores=!1,_.each(n,function(e,n){var r=t._stores[n];r?_.each(e,function(e){r.update(e)}):(_.has(t._updatesForUnknownStores,n)||(t._updatesForUnknownStores[n]=[]),Array.prototype.push.apply(t._updatesForUnknownStores[n],e))}),_.each(t._stores,function(e){e.endUpdate()});t._runAfterUpdateCallbacks()},_runAfterUpdateCallbacks:function(){var e=this;_.each(e._afterUpdateCallbacks,function(e){e()}),e._afterUpdateCallbacks=[]},_processOneDataMessage:function(e,t){var n=this;if(e.collection&&e.id){var r=Meteor._get(n._serverDocuments,e.collection,e.id);r?(r.document&&_.each(e.unset,function(e){delete r.document[e]}),_.each(e.set,function(e,t){r.document||(r.document={}),r.document[t]=e}),r.document&&_.isEmpty(_.without(_.keys(r.document),"_id"))&&delete r.document):(t[e.collection]||(t[e.collection]=[]),t[e.collection].push(e))}_.each(e.methods,function(e){_.each(n._documentsWrittenByStub[e],function(r){var i=Meteor._get(n._serverDocuments,r.collection,r.id);if(!i)throw new Error("Lost serverDoc for "+JSON.stringify(r));if(!i.writtenByStubs[e])throw new Error("Doc "+JSON.stringify(r)+" not written by  method "+e);delete i.writtenByStubs[e],_.isEmpty(i.writtenByStubs)&&(t[r.collection]||(t[r.collection]=[]),t[r.collection].push({id:r.id,replace:i.document}),_.each(i.flushCallbacks,function(e){e()}),delete n._serverDocuments[r.collection][r.id])}),delete n._documentsWrittenByStub[e];var r=n._methodInvokers[e];if(!r)throw new Error("No callback invoker for method "+e);n._runWhenAllServerDocsAreFlushed(_.bind(r.dataVisible,r))}),_.each(e.subs,function(e){n._runWhenAllServerDocsAreFlushed(function(){_.each(n._subReadyCallbacks[e],function(e){e()}),delete n._subReadyCallbacks[e]})})},_runWhenAllServerDocsAreFlushed:function(e){var t=this,n=function(){t._afterUpdateCallbacks.push(e)},r=0,i=function(){--r,r===0&&n()};_.each(t._serverDocuments,function(e){_.each(e,function(e){++r,e.flushCallbacks.push(i)})}),r===0&&n()},_livedata_nosub:function(e){var t=this},_livedata_result:function(e){var t=this;if(_.isEmpty(t._outstandingMethodBlocks)){Meteor._debug("Received method result but no methods outstanding");return}var n=t._outstandingMethodBlocks[0].methods,r;for(var i=0;i<n.length;i++){r=n[i];if(r.methodId===e.id)break}if(!r){Meteor._debug("Can't match method response to original method call",e);return}n.splice(i,1),_.has(e,"error")?r.receiveResult(new Meteor.Error(e.error.error,e.error.reason,e.error.details)):r.receiveResult(undefined,e.result)},_outstandingMethodFinished:function(){var e=this;if(e._anyMethodsAreOutstanding())return;if(!_.isEmpty(e._outstandingMethodBlocks)){var t=e._outstandingMethodBlocks.shift();if(!_.isEmpty(t.methods))throw new Error("No methods outstanding but nonempty block: "+JSON.stringify(t));_.isEmpty(e._outstandingMethodBlocks)||e._sendOutstandingMethods()}e._maybeMigrate()},_sendOutstandingMethods:function(){var e=this;if(_.isEmpty(e._outstandingMethodBlocks))return;_.each(e._outstandingMethodBlocks[0].methods,function(e){e.sendMessage()})},_livedata_error:function(e){Meteor._debug("Received error from server: ",e.reason),e.offending_message&&Meteor._debug("For: ",e.offending_message)},_callOnReconnectAndSendAppropriateOutstandingMethods:function(){var e=this,t=e._outstandingMethodBlocks;e._outstandingMethodBlocks=[],e.onReconnect();if(_.isEmpty(t))return;if(_.isEmpty(e._outstandingMethodBlocks)){e._outstandingMethodBlocks=t,e._sendOutstandingMethods();return}!_.last(e._outstandingMethodBlocks).wait&&!t[0].wait&&(_.each(t[0].methods,function(t){_.last(e._outstandingMethodBlocks).methods.push(t),e._outstandingMethodBlocks.length===1&&t.sendMessage()}),t.shift()),_.each(t,function(t){e._outstandingMethodBlocks.push(t)})},_readyToMigrate:function(){var e=this;return _.isEmpty(e._methodInvokers)},_maybeMigrate:function(){var e=this;e._retryMigrate&&e._readyToMigrate()&&(e._retryMigrate(),e._retryMigrate=null)}}),_.extend(Meteor,{connect:function(e,t){var n=new Meteor._LivedataConnection(e,{reloadOnUpdate:t});return Meteor._LivedataConnection._allConnections.push(n),n},autosubscribe:function(e){var n=[],r=new Meteor.deps.Context;r.onInvalidate(function(){Meteor.autosubscribe(e),_.each(n,function(e){e.stop()})}),r.run(function(){if(t)throw new Error("Meteor.autosubscribe may not be called recursively");t=[];try{e()}finally{n=t,t=null}})}}),Meteor._LivedataConnection._allConnections=[],Meteor._LivedataConnection._allSubscriptionsReady=function(){return _.all(Meteor._LivedataConnection._allConnections,function(e){for(var t in e._subReadyCallbacks)return!1;return!0})}})()
;
(function(){var e="/";typeof __meteor_runtime_config__!="undefined"&&__meteor_runtime_config__.DDP_DEFAULT_CONNECTION_URL&&(e=__meteor_runtime_config__.DDP_DEFAULT_CONNECTION_URL),_.extend(Meteor,{default_connection:Meteor.connect(e,!0),refresh:function(e){}}),_.each(["subscribe","methods","call","apply","status","reconnect"],function(e){Meteor[e]=_.bind(Meteor.default_connection[e],Meteor.default_connection)})})()
;
Meteor._LocalCollectionDriver=function(){var e=this;e.collections={}},_.extend(Meteor._LocalCollectionDriver.prototype,{open:function(e){var t=this;return e?(e in t.collections||(t.collections[e]=new LocalCollection),t.collections[e]):new LocalCollection}}),Meteor._LocalCollectionDriver=new Meteor._LocalCollectionDriver
;
Meteor.Collection=function(e,t){var n=this;t&&t.methods&&(t={manager:t}),t=_.extend({manager:undefined,_driver:undefined,_preventAutopublish:!1},t),!e&&e!==null&&Meteor._debug("Warning: creating anonymous collection. It will not be saved or synchronized over the network. (Pass null for the collection name to turn off this warning.)"),n._manager=e&&(t.manager||(Meteor.isClient?Meteor.default_connection:Meteor.default_server)),t._driver||(e&&n._manager===Meteor.default_server&&Meteor._RemoteCollectionDriver?t._driver=Meteor._RemoteCollectionDriver:t._driver=Meteor._LocalCollectionDriver),n._collection=t._driver.open(e),n._name=e;if(e&&n._manager.registerStore){var r=n._manager.registerStore(e,{beginUpdate:function(e,t){(e>1||t)&&n._collection.pauseObservers(),t&&n._collection.remove({})},update:function(e){var t=n._collection.findOne(e.id);if(_.has(e,"replace")){var r=e.replace;r&&_.isEmpty(_.without(_.keys(r),"_id"))&&(r=undefined),r?t?n._collection.update(e.id,r):n._collection.insert(_.extend({_id:e.id},r)):t&&n._collection.remove(e.id);return}if(t&&!e.set&&_.difference(_.keys(t),e.unset,["_id"]).length===0)n._collection.remove(e.id);else if(t){var i={$set:e.set,$unset:{}};_.each(e.unset,function(e){i.$unset[e]=1}),n._collection.update(e.id,i)}else e.set&&n._collection.insert(_.extend({_id:e.id},e.set))},endUpdate:function(){n._collection.resumeObservers()},saveOriginals:function(){n._collection.saveOriginals()},retrieveOriginals:function(){return n._collection.retrieveOriginals()}});if(!r)throw new Error("There is already a collection named '"+e+"'")}n._defineMutationMethods(),!t._preventAutopublish&&n._manager&&n._manager.onAutopublish&&n._manager.onAutopublish(function(){var e=function(){return n.find()};n._manager.publish(null,e,{is_auto:!0})})},_.extend(Meteor.Collection.prototype,{find:function(){var e=this;return e._collection.find.apply(e._collection,_.toArray(arguments))},findOne:function(){var e=this;return e._collection.findOne.apply(e._collection,_.toArray(arguments))}}),Meteor.Collection._rewriteSelector=function(e){LocalCollection._selectorIsId(e)&&(e={_id:e});if(!e||"_id"in e&&!e._id)return{_id:Meteor.uuid()};var t={};return _.each(e,function(e,n){if(e instanceof RegExp){t[n]={$regex:e.source};var r="";e.ignoreCase&&(r+="i"),e.multiline&&(r+="m"),r&&(t[n].$options=r)}else t[n]=e}),t},_.each(["insert","update","remove"],function(e){Meteor.Collection.prototype[e]=function(){var t=this,n=_.toArray(arguments),r,i;n.length&&n[n.length-1]instanceof Function&&(r=n.pop()),Meteor.isClient&&!r&&(r=function(t){t&&Meteor._debug(e+" failed: "+(t.reason||t.stack))});if(e==="insert"){if(!n.length)throw new Error("insert requires an argument");n[0]=_.extend({},n[0]);if("_id"in n[0])throw new Error("Do not pass an _id to insert. Meteor will generate the _id for you.");i=n[0]._id=Meteor.uuid()}else n[0]=Meteor.Collection._rewriteSelector(n[0]);if(t._manager&&t._manager!==Meteor.default_server)r?t._manager.apply(t._prefix+e,n,function(e,t){r(e,!e&&i)}):t._manager.apply(t._prefix+e,n);else{try{t._collection[e].apply(t._collection,n)}catch(s){if(r)return r(s),null;throw s}r&&r(null,i)}return i}}),Meteor.Collection.prototype._ensureIndex=function(e,t){var n=this;if(!n._collection._ensureIndex)throw new Error("Can only call _ensureIndex on server collections");n._collection._ensureIndex(e,t)},function(){var e=function(e,t){var n=["insert","update","remove","fetch"];_.each(_.keys(t),function(t){if(!_.contains(n,t))throw new Error(e+": Invalid key: "+t)});var r=this;r._restricted=!0,_.each(["insert","update","remove"],function(n){if(t[n]){if(!(t[n]instanceof Function))throw new Error(e+": Value for `"+n+"` must be a function");r._validators[n][e].push(t[n])}});if(t.update||t.remove||t.fetch){if(!(!t.fetch||t.fetch instanceof Array))throw new Error(e+": Value for `fetch` must be an array");r._updateFetch(t.fetch)}};Meteor.Collection.prototype.allow=function(t){e.call(this,"allow",t)},Meteor.Collection.prototype.deny=function(t){e.call(this,"deny",t)}}(),Meteor.Collection.prototype._defineMutationMethods=function(){var e=this;e._restricted=!1,e._insecure=undefined,e._validators={insert:{allow:[],deny:[]},update:{allow:[],deny:[]},remove:{allow:[],deny:[]},fetch:[],fetchAllFields:!1};if(!e._name)return;e._prefix="/"+e._name+"/";if(e._manager){var t={};_.each(["insert","update","remove"],function(n){t[e._prefix+n]=function(){if(this.isSimulation||!e._restricted&&e._isInsecure())e._collection[n].apply(e._collection,_.toArray(arguments));else{if(!e._restricted)throw new Meteor.Error(403,"Access denied");if(e._validators[n].allow.length===0)throw new Meteor.Error(403,"Access denied. No allow validators set on restricted collection.");var t="_validated"+n.charAt(0).toUpperCase()+n.slice(1),r=[this.userId].concat(_.toArray(arguments));e[t].apply(e,r)}}}),e._manager.methods(t)}},Meteor.Collection.prototype._updateFetch=function(e){var t=this;t._validators.fetchAllFields||(e?t._validators.fetch=_.union(t._validators.fetch,e):(t._validators.fetchAllFields=!0,t._validators.fetch=null))},Meteor.Collection.prototype._isInsecure=function(){var e=this;return e._insecure===undefined?Meteor.Collection.insecure:e._insecure},Meteor.Collection.prototype._validatedInsert=function(e,t){var n=this;if(_.any(n._validators.insert.deny,function(n){return n(e,t)}))throw new Meteor.Error(403,"Access denied");if(_.all(n._validators.insert.allow,function(n){return!n(e,t)}))throw new Meteor.Error(403,"Access denied");n._collection.insert.call(n._collection,t)},Meteor.Collection.prototype._validatedUpdate=function(e,t,n,r){var i=this,s=[];_.each(n,function(e,t){if(t[0]!=="$")throw new Meteor.Error(403,"Access denied. Can't replace document in restricted collection.");_.each(_.keys(e),function(e){e.indexOf(".")!==-1&&(e=e.substring(0,e.indexOf("."))),_.contains(s,e)||s.push(e)})});var o={};i._validators.fetchAllFields||(o.fields={},_.each(i._validators.fetch,function(e){o.fields[e]=1}));var u;if(r&&r.multi){u=i._collection.find(t,o).fetch();if(u.length===0)return}else{var a=i._collection.findOne(t,o);if(!a)return;u=[a]}if(_.any(i._validators.update.deny,function(t){return t(e,u,s,n)}))throw new Meteor.Error(403,"Access denied");if(_.all(i._validators.update.allow,function(t){return!t(e,u,s,n)}))throw new Meteor.Error(403,"Access denied");var f={};f.$in=_.map(u,function(e){return e._id});var l={_id:f},c;if(LocalCollection._selectorIsId(t)){if(u.length!==1||u[0]._id!==t)throw new Error("Lookup by ID "+t+" found something else");c=t}else c={$and:[t,l]};i._collection.update.call(i._collection,c,n,r)},Meteor.Collection.prototype._validatedRemove=function(e,t){var n=this,r={};n._validators.fetchAllFields||(r.fields={},_.each(n._validators.fetch,function(e){r.fields[e]=1}));var i=n._collection.find(t,r).fetch();if(i.length===0)return;if(_.any(n._validators.remove.deny,function(t){return t(e,i)}))throw new Meteor.Error(403,"Access denied");if(_.all(n._validators.remove.allow,function(t){return!t(e,i)}))throw new Meteor.Error(403,"Access denied");var s={};s.$in=_.map(i,function(e){return e._id});var o={_id:s};n._collection.remove.call(n._collection,o)}
;
(function(e,t){function _(e){var t=M[e]={};return v.each(e.split(y),function(e,n){t[n]=!0}),t}function H(e,n,r){if(r===t&&e.nodeType===1){var i="data-"+n.replace(P,"-$1").toLowerCase();r=e.getAttribute(i);if(typeof r=="string"){try{r=r==="true"?!0:r==="false"?!1:r==="null"?null:+r+""===r?+r:D.test(r)?v.parseJSON(r):r}catch(s){}v.data(e,n,r)}else r=t}return r}function B(e){var t;for(t in e){if(t==="data"&&v.isEmptyObject(e[t]))continue;if(t!=="toJSON")return!1}return!0}function et(){return!1}function tt(){return!0}function ut(e){return!e||!e.parentNode||e.parentNode.nodeType===11}function at(e,t){do e=e[t];while(e&&e.nodeType!==1);return e}function ft(e,t,n){t=t||0;if(v.isFunction(t))return v.grep(e,function(e,r){var i=!!t.call(e,r,e);return i===n});if(t.nodeType)return v.grep(e,function(e,r){return e===t===n});if(typeof t=="string"){var r=v.grep(e,function(e){return e.nodeType===1});if(it.test(t))return v.filter(t,r,!n);t=v.filter(t,r)}return v.grep(e,function(e,r){return v.inArray(e,t)>=0===n})}function lt(e){var t=ct.split("|"),n=e.createDocumentFragment();if(n.createElement)while(t.length)n.createElement(t.pop());return n}function Lt(e,t){return e.getElementsByTagName(t)[0]||e.appendChild(e.ownerDocument.createElement(t))}function At(e,t){if(t.nodeType!==1||!v.hasData(e))return;var n,r,i,s=v._data(e),o=v._data(t,s),u=s.events;if(u){delete o.handle,o.events={};for(n in u)for(r=0,i=u[n].length;r<i;r++)v.event.add(t,n,u[n][r])}o.data&&(o.data=v.extend({},o.data))}function Ot(e,t){var n;if(t.nodeType!==1)return;t.clearAttributes&&t.clearAttributes(),t.mergeAttributes&&t.mergeAttributes(e),n=t.nodeName.toLowerCase(),n==="object"?(t.parentNode&&(t.outerHTML=e.outerHTML),v.support.html5Clone&&e.innerHTML&&!v.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):n==="input"&&Et.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):n==="option"?t.selected=e.defaultSelected:n==="input"||n==="textarea"?t.defaultValue=e.defaultValue:n==="script"&&t.text!==e.text&&(t.text=e.text),t.removeAttribute(v.expando)}function Mt(e){return typeof e.getElementsByTagName!="undefined"?e.getElementsByTagName("*"):typeof e.querySelectorAll!="undefined"?e.querySelectorAll("*"):[]}function _t(e){Et.test(e.type)&&(e.defaultChecked=e.checked)}function Qt(e,t){if(t in e)return t;var n=t.charAt(0).toUpperCase()+t.slice(1),r=t,i=Jt.length;while(i--){t=Jt[i]+n;if(t in e)return t}return r}function Gt(e,t){return e=t||e,v.css(e,"display")==="none"||!v.contains(e.ownerDocument,e)}function Yt(e,t){var n,r,i=[],s=0,o=e.length;for(;s<o;s++){n=e[s];if(!n.style)continue;i[s]=v._data(n,"olddisplay"),t?(!i[s]&&n.style.display==="none"&&(n.style.display=""),n.style.display===""&&Gt(n)&&(i[s]=v._data(n,"olddisplay",nn(n.nodeName)))):(r=Dt(n,"display"),!i[s]&&r!=="none"&&v._data(n,"olddisplay",r))}for(s=0;s<o;s++){n=e[s];if(!n.style)continue;if(!t||n.style.display==="none"||n.style.display==="")n.style.display=t?i[s]||"":"none"}return e}function Zt(e,t,n){var r=Rt.exec(t);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):t}function en(e,t,n,r){var i=n===(r?"border":"content")?4:t==="width"?1:0,s=0;for(;i<4;i+=2)n==="margin"&&(s+=v.css(e,n+$t[i],!0)),r?(n==="content"&&(s-=parseFloat(Dt(e,"padding"+$t[i]))||0),n!=="margin"&&(s-=parseFloat(Dt(e,"border"+$t[i]+"Width"))||0)):(s+=parseFloat(Dt(e,"padding"+$t[i]))||0,n!=="padding"&&(s+=parseFloat(Dt(e,"border"+$t[i]+"Width"))||0));return s}function tn(e,t,n){var r=t==="width"?e.offsetWidth:e.offsetHeight,i=!0,s=v.support.boxSizing&&v.css(e,"boxSizing")==="border-box";if(r<=0||r==null){r=Dt(e,t);if(r<0||r==null)r=e.style[t];if(Ut.test(r))return r;i=s&&(v.support.boxSizingReliable||r===e.style[t]),r=parseFloat(r)||0}return r+en(e,t,n||(s?"border":"content"),i)+"px"}function nn(e){if(Wt[e])return Wt[e];var t=v("<"+e+">").appendTo(i.body),n=t.css("display");t.remove();if(n==="none"||n===""){Pt=i.body.appendChild(Pt||v.extend(i.createElement("iframe"),{frameBorder:0,width:0,height:0}));if(!Ht||!Pt.createElement)Ht=(Pt.contentWindow||Pt.contentDocument).document,Ht.write("<!doctype html><html><body>"),Ht.close();t=Ht.body.appendChild(Ht.createElement(e)),n=Dt(t,"display"),i.body.removeChild(Pt)}return Wt[e]=n,n}function fn(e,t,n,r){var i;if(v.isArray(t))v.each(t,function(t,i){n||sn.test(e)?r(e,i):fn(e+"["+(typeof i=="object"?t:"")+"]",i,n,r)});else if(!n&&v.type(t)==="object")for(i in t)fn(e+"["+i+"]",t[i],n,r);else r(e,t)}function Cn(e){return function(t,n){typeof t!="string"&&(n=t,t="*");var r,i,s,o=t.toLowerCase().split(y),u=0,a=o.length;if(v.isFunction(n))for(;u<a;u++)r=o[u],s=/^\+/.test(r),s&&(r=r.substr(1)||"*"),i=e[r]=e[r]||[],i[s?"unshift":"push"](n)}}function kn(e,n,r,i,s,o){s=s||n.dataTypes[0],o=o||{},o[s]=!0;var u,a=e[s],f=0,l=a?a.length:0,c=e===Sn;for(;f<l&&(c||!u);f++)u=a[f](n,r,i),typeof u=="string"&&(!c||o[u]?u=t:(n.dataTypes.unshift(u),u=kn(e,n,r,i,u,o)));return(c||!u)&&!o["*"]&&(u=kn(e,n,r,i,"*",o)),u}function Ln(e,n){var r,i,s=v.ajaxSettings.flatOptions||{};for(r in n)n[r]!==t&&((s[r]?e:i||(i={}))[r]=n[r]);i&&v.extend(!0,e,i)}function An(e,n,r){var i,s,o,u,a=e.contents,f=e.dataTypes,l=e.responseFields;for(s in l)s in r&&(n[l[s]]=r[s]);while(f[0]==="*")f.shift(),i===t&&(i=e.mimeType||n.getResponseHeader("content-type"));if(i)for(s in a)if(a[s]&&a[s].test(i)){f.unshift(s);break}if(f[0]in r)o=f[0];else{for(s in r){if(!f[0]||e.converters[s+" "+f[0]]){o=s;break}u||(u=s)}o=o||u}if(o)return o!==f[0]&&f.unshift(o),r[o]}function On(e,t){var n,r,i,s,o=e.dataTypes.slice(),u=o[0],a={},f=0;e.dataFilter&&(t=e.dataFilter(t,e.dataType));if(o[1])for(n in e.converters)a[n.toLowerCase()]=e.converters[n];for(;i=o[++f];)if(i!=="*"){if(u!=="*"&&u!==i){n=a[u+" "+i]||a["* "+i];if(!n)for(r in a){s=r.split(" ");if(s[1]===i){n=a[u+" "+s[0]]||a["* "+s[0]];if(n){n===!0?n=a[r]:a[r]!==!0&&(i=s[0],o.splice(f--,0,i));break}}}if(n!==!0)if(n&&e["throws"])t=n(t);else try{t=n(t)}catch(l){return{state:"parsererror",error:n?l:"No conversion from "+u+" to "+i}}}u=i}return{state:"success",data:t}}function Fn(){try{return new e.XMLHttpRequest}catch(t){}}function In(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}function $n(){return setTimeout(function(){qn=t},0),qn=v.now()}function Jn(e,t){v.each(t,function(t,n){var r=(Vn[t]||[]).concat(Vn["*"]),i=0,s=r.length;for(;i<s;i++)if(r[i].call(e,t,n))return})}function Kn(e,t,n){var r,i=0,s=0,o=Xn.length,u=v.Deferred().always(function(){delete a.elem}),a=function(){var t=qn||$n(),n=Math.max(0,f.startTime+f.duration-t),r=1-(n/f.duration||0),i=0,s=f.tweens.length;for(;i<s;i++)f.tweens[i].run(r);return u.notifyWith(e,[f,r,n]),r<1&&s?n:(u.resolveWith(e,[f]),!1)},f=u.promise({elem:e,props:v.extend({},t),opts:v.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:qn||$n(),duration:n.duration,tweens:[],createTween:function(t,n,r){var i=v.Tween(e,f.opts,t,n,f.opts.specialEasing[t]||f.opts.easing);return f.tweens.push(i),i},stop:function(t){var n=0,r=t?f.tweens.length:0;for(;n<r;n++)f.tweens[n].run(1);return t?u.resolveWith(e,[f,t]):u.rejectWith(e,[f,t]),this}}),l=f.props;Qn(l,f.opts.specialEasing);for(;i<o;i++){r=Xn[i].call(f,e,l,f.opts);if(r)return r}return Jn(f,l),v.isFunction(f.opts.start)&&f.opts.start.call(e,f),v.fx.timer(v.extend(a,{anim:f,queue:f.opts.queue,elem:e})),f.progress(f.opts.progress).done(f.opts.done,f.opts.complete).fail(f.opts.fail).always(f.opts.always)}function Qn(e,t){var n,r,i,s,o;for(n in e){r=v.camelCase(n),i=t[r],s=e[n],v.isArray(s)&&(i=s[1],s=e[n]=s[0]),n!==r&&(e[r]=s,delete e[n]),o=v.cssHooks[r];if(o&&"expand"in o){s=o.expand(s),delete e[r];for(n in s)n in e||(e[n]=s[n],t[n]=i)}else t[r]=i}}function Gn(e,t,n){var r,i,s,o,u,a,f,l,c=this,h=e.style,p={},d=[],m=e.nodeType&&Gt(e);n.queue||(f=v._queueHooks(e,"fx"),f.unqueued==null&&(f.unqueued=0,l=f.empty.fire,f.empty.fire=function(){f.unqueued||l()}),f.unqueued++,c.always(function(){c.always(function(){f.unqueued--,v.queue(e,"fx").length||f.empty.fire()})})),e.nodeType===1&&("height"in t||"width"in t)&&(n.overflow=[h.overflow,h.overflowX,h.overflowY],v.css(e,"display")==="inline"&&v.css(e,"float")==="none"&&(!v.support.inlineBlockNeedsLayout||nn(e.nodeName)==="inline"?h.display="inline-block":h.zoom=1)),n.overflow&&(h.overflow="hidden",v.support.shrinkWrapBlocks||c.done(function(){h.overflow=n.overflow[0],h.overflowX=n.overflow[1],h.overflowY=n.overflow[2]}));for(r in t){s=t[r];if(Un.exec(s)){delete t[r];if(s===(m?"hide":"show"))continue;d.push(r)}}o=d.length;if(o){u=v._data(e,"fxshow")||v._data(e,"fxshow",{}),m?v(e).show():c.done(function(){v(e).hide()}),c.done(function(){var t;v.removeData(e,"fxshow",!0);for(t in p)v.style(e,t,p[t])});for(r=0;r<o;r++)i=d[r],a=c.createTween(i,m?u[i]:0),p[i]=u[i]||v.style(e,i),i in u||(u[i]=a.start,m&&(a.end=a.start,a.start=i==="width"||i==="height"?1:0))}}function Yn(e,t,n,r,i){return new Yn.prototype.init(e,t,n,r,i)}function Zn(e,t){var n,r={height:e},i=0;t=t?1:0;for(;i<4;i+=2-t)n=$t[i],r["margin"+n]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}function tr(e){return v.isWindow(e)?e:e.nodeType===9?e.defaultView||e.parentWindow:!1}var n,r,i=e.document,s=e.location,o=e.navigator,u=e.jQuery,a=e.$,f=Array.prototype.push,l=Array.prototype.slice,c=Array.prototype.indexOf,h=Object.prototype.toString,p=Object.prototype.hasOwnProperty,d=String.prototype.trim,v=function(e,t){return new v.fn.init(e,t,n)},m=/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source,g=/\S/,y=/\s+/,b=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,w=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,E=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,S=/^[\],:{}\s]*$/,x=/(?:^|:|,)(?:\s*\[)+/g,T=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,N=/"[^"\\\r\n]*"|true|false|null|-?(?:\d\d*\.|)\d+(?:[eE][\-+]?\d+|)/g,C=/^-ms-/,k=/-([\da-z])/gi,L=function(e,t){return(t+"").toUpperCase()},A=function(){i.addEventListener?(i.removeEventListener("DOMContentLoaded",A,!1),v.ready()):i.readyState==="complete"&&(i.detachEvent("onreadystatechange",A),v.ready())},O={};v.fn=v.prototype={constructor:v,init:function(e,n,r){var s,o,u,a;if(!e)return this;if(e.nodeType)return this.context=this[0]=e,this.length=1,this;if(typeof e=="string"){e.charAt(0)==="<"&&e.charAt(e.length-1)===">"&&e.length>=3?s=[null,e,null]:s=w.exec(e);if(s&&(s[1]||!n)){if(s[1])return n=n instanceof v?n[0]:n,a=n&&n.nodeType?n.ownerDocument||n:i,e=v.parseHTML(s[1],a,!0),E.test(s[1])&&v.isPlainObject(n)&&this.attr.call(e,n,!0),v.merge(this,e);o=i.getElementById(s[2]);if(o&&o.parentNode){if(o.id!==s[2])return r.find(e);this.length=1,this[0]=o}return this.context=i,this.selector=e,this}return!n||n.jquery?(n||r).find(e):this.constructor(n).find(e)}return v.isFunction(e)?r.ready(e):(e.selector!==t&&(this.selector=e.selector,this.context=e.context),v.makeArray(e,this))},selector:"",jquery:"1.8.2",length:0,size:function(){return this.length},toArray:function(){return l.call(this)},get:function(e){return e==null?this.toArray():e<0?this[this.length+e]:this[e]},pushStack:function(e,t,n){var r=v.merge(this.constructor(),e);return r.prevObject=this,r.context=this.context,t==="find"?r.selector=this.selector+(this.selector?" ":"")+n:t&&(r.selector=this.selector+"."+t+"("+n+")"),r},each:function(e,t){return v.each(this,e,t)},ready:function(e){return v.ready.promise().done(e),this},eq:function(e){return e=+e,e===-1?this.slice(e):this.slice(e,e+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(l.apply(this,arguments),"slice",l.call(arguments).join(","))},map:function(e){return this.pushStack(v.map(this,function(t,n){return e.call(t,n,t)}))},end:function(){return this.prevObject||this.constructor(null)},push:f,sort:[].sort,splice:[].splice},v.fn.init.prototype=v.fn,v.extend=v.fn.extend=function(){var e,n,r,i,s,o,u=arguments[0]||{},a=1,f=arguments.length,l=!1;typeof u=="boolean"&&(l=u,u=arguments[1]||{},a=2),typeof u!="object"&&!v.isFunction(u)&&(u={}),f===a&&(u=this,--a);for(;a<f;a++)if((e=arguments[a])!=null)for(n in e){r=u[n],i=e[n];if(u===i)continue;l&&i&&(v.isPlainObject(i)||(s=v.isArray(i)))?(s?(s=!1,o=r&&v.isArray(r)?r:[]):o=r&&v.isPlainObject(r)?r:{},u[n]=v.extend(l,o,i)):i!==t&&(u[n]=i)}return u},v.extend({noConflict:function(t){return e.$===v&&(e.$=a),t&&e.jQuery===v&&(e.jQuery=u),v},isReady:!1,readyWait:1,holdReady:function(e){e?v.readyWait++:v.ready(!0)},ready:function(e){if(e===!0?--v.readyWait:v.isReady)return;if(!i.body)return setTimeout(v.ready,1);v.isReady=!0;if(e!==!0&&--v.readyWait>0)return;r.resolveWith(i,[v]),v.fn.trigger&&v(i).trigger("ready").off("ready")},isFunction:function(e){return v.type(e)==="function"},isArray:Array.isArray||function(e){return v.type(e)==="array"},isWindow:function(e){return e!=null&&e==e.window},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},type:function(e){return e==null?String(e):O[h.call(e)]||"object"},isPlainObject:function(e){if(!e||v.type(e)!=="object"||e.nodeType||v.isWindow(e))return!1;try{if(e.constructor&&!p.call(e,"constructor")&&!p.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(n){return!1}var r;for(r in e);return r===t||p.call(e,r)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},error:function(e){throw new Error(e)},parseHTML:function(e,t,n){var r;return!e||typeof e!="string"?null:(typeof t=="boolean"&&(n=t,t=0),t=t||i,(r=E.exec(e))?[t.createElement(r[1])]:(r=v.buildFragment([e],t,n?null:[]),v.merge([],(r.cacheable?v.clone(r.fragment):r.fragment).childNodes)))},parseJSON:function(t){if(!t||typeof t!="string")return null;t=v.trim(t);if(e.JSON&&e.JSON.parse)return e.JSON.parse(t);if(S.test(t.replace(T,"@").replace(N,"]").replace(x,"")))return(new Function("return "+t))();v.error("Invalid JSON: "+t)},parseXML:function(n){var r,i;if(!n||typeof n!="string")return null;try{e.DOMParser?(i=new DOMParser,r=i.parseFromString(n,"text/xml")):(r=new ActiveXObject("Microsoft.XMLDOM"),r.async="false",r.loadXML(n))}catch(s){r=t}return(!r||!r.documentElement||r.getElementsByTagName("parsererror").length)&&v.error("Invalid XML: "+n),r},noop:function(){},globalEval:function(t){t&&g.test(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(C,"ms-").replace(k,L)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,n,r){var i,s=0,o=e.length,u=o===t||v.isFunction(e);if(r){if(u){for(i in e)if(n.apply(e[i],r)===!1)break}else for(;s<o;)if(n.apply(e[s++],r)===!1)break}else if(u){for(i in e)if(n.call(e[i],i,e[i])===!1)break}else for(;s<o;)if(n.call(e[s],s,e[s++])===!1)break;return e},trim:d&&!d.call("﻿ ")?function(e){return e==null?"":d.call(e)}:function(e){return e==null?"":(e+"").replace(b,"")},makeArray:function(e,t){var n,r=t||[];return e!=null&&(n=v.type(e),e.length==null||n==="string"||n==="function"||n==="regexp"||v.isWindow(e)?f.call(r,e):v.merge(r,e)),r},inArray:function(e,t,n){var r;if(t){if(c)return c.call(t,e,n);r=t.length,n=n?n<0?Math.max(0,r+n):n:0;for(;n<r;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,n){var r=n.length,i=e.length,s=0;if(typeof r=="number")for(;s<r;s++)e[i++]=n[s];else while(n[s]!==t)e[i++]=n[s++];return e.length=i,e},grep:function(e,t,n){var r,i=[],s=0,o=e.length;n=!!n;for(;s<o;s++)r=!!t(e[s],s),n!==r&&i.push(e[s]);return i},map:function(e,n,r){var i,s,o=[],u=0,a=e.length,f=e instanceof v||a!==t&&typeof a=="number"&&(a>0&&e[0]&&e[a-1]||a===0||v.isArray(e));if(f)for(;u<a;u++)i=n(e[u],u,r),i!=null&&(o[o.length]=i);else for(s in e)i=n(e[s],s,r),i!=null&&(o[o.length]=i);return o.concat.apply([],o)},guid:1,proxy:function(e,n){var r,i,s;return typeof n=="string"&&(r=e[n],n=e,e=r),v.isFunction(e)?(i=l.call(arguments,2),s=function(){return e.apply(n,i.concat(l.call(arguments)))},s.guid=e.guid=e.guid||v.guid++,s):t},access:function(e,n,r,i,s,o,u){var a,f=r==null,l=0,c=e.length;if(r&&typeof r=="object"){for(l in r)v.access(e,n,l,r[l],1,o,i);s=1}else if(i!==t){a=u===t&&v.isFunction(i),f&&(a?(a=n,n=function(e,t,n){return a.call(v(e),n)}):(n.call(e,i),n=null));if(n)for(;l<c;l++)n(e[l],r,a?i.call(e[l],l,n(e[l],r)):i,u);s=1}return s?e:f?n.call(e):c?n(e[0],r):o},now:function(){return(new Date).getTime()}}),v.ready.promise=function(t){if(!r){r=v.Deferred();if(i.readyState==="complete")setTimeout(v.ready,1);else if(i.addEventListener)i.addEventListener("DOMContentLoaded",A,!1),e.addEventListener("load",v.ready,!1);else{i.attachEvent("onreadystatechange",A),e.attachEvent("onload",v.ready);var n=!1;try{n=e.frameElement==null&&i.documentElement}catch(s){}n&&n.doScroll&&function o(){if(!v.isReady){try{n.doScroll("left")}catch(e){return setTimeout(o,50)}v.ready()}}()}}return r.promise(t)},v.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(e,t){O["[object "+t+"]"]=t.toLowerCase()}),n=v(i);var M={};v.Callbacks=function(e){e=typeof e=="string"?M[e]||_(e):v.extend({},e);var n,r,i,s,o,u,a=[],f=!e.once&&[],l=function(t){n=e.memory&&t,r=!0,u=s||0,s=0,o=a.length,i=!0;for(;a&&u<o;u++)if(a[u].apply(t[0],t[1])===!1&&e.stopOnFalse){n=!1;break}i=!1,a&&(f?f.length&&l(f.shift()):n?a=[]:c.disable())},c={add:function(){if(a){var t=a.length;(function r(t){v.each(t,function(t,n){var i=v.type(n);i==="function"&&(!e.unique||!c.has(n))?a.push(n):n&&n.length&&i!=="string"&&r(n)})})(arguments),i?o=a.length:n&&(s=t,l(n))}return this},remove:function(){return a&&v.each(arguments,function(e,t){var n;while((n=v.inArray(t,a,n))>-1)a.splice(n,1),i&&(n<=o&&o--,n<=u&&u--)}),this},has:function(e){return v.inArray(e,a)>-1},empty:function(){return a=[],this},disable:function(){return a=f=n=t,this},disabled:function(){return!a},lock:function(){return f=t,n||c.disable(),this},locked:function(){return!f},fireWith:function(e,t){return t=t||[],t=[e,t.slice?t.slice():t],a&&(!r||f)&&(i?f.push(t):l(t)),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!r}};return c},v.extend({Deferred:function(e){var t=[["resolve","done",v.Callbacks("once memory"),"resolved"],["reject","fail",v.Callbacks("once memory"),"rejected"],["notify","progress",v.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var e=arguments;return v.Deferred(function(n){v.each(t,function(t,r){var s=r[0],o=e[t];i[r[1]](v.isFunction(o)?function(){var e=o.apply(this,arguments);e&&v.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[s+"With"](this===i?n:this,[e])}:n[s])}),e=null}).promise()},promise:function(e){return e!=null?v.extend(e,r):r}},i={};return r.pipe=r.then,v.each(t,function(e,s){var o=s[2],u=s[3];r[s[1]]=o.add,u&&o.add(function(){n=u},t[e^1][2].disable,t[2][2].lock),i[s[0]]=o.fire,i[s[0]+"With"]=o.fireWith}),r.promise(i),e&&e.call(i,i),i},when:function(e){var t=0,n=l.call(arguments),r=n.length,i=r!==1||e&&v.isFunction(e.promise)?r:0,s=i===1?e:v.Deferred(),o=function(e,t,n){return function(r){t[e]=this,n[e]=arguments.length>1?l.call(arguments):r,n===u?s.notifyWith(t,n):--i||s.resolveWith(t,n)}},u,a,f;if(r>1){u=new Array(r),a=new Array(r),f=new Array(r);for(;t<r;t++)n[t]&&v.isFunction(n[t].promise)?n[t].promise().done(o(t,f,n)).fail(s.reject).progress(o(t,a,u)):--i}return i||s.resolveWith(f,n),s.promise()}}),v.support=function(){var t,n,r,s,o,u,a,f,l,c,h,p=i.createElement("div");p.setAttribute("className","t"),p.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",n=p.getElementsByTagName("*"),r=p.getElementsByTagName("a")[0],r.style.cssText="top:1px;float:left;opacity:.5";if(!n||!n.length)return{};s=i.createElement("select"),o=s.appendChild(i.createElement("option")),u=p.getElementsByTagName("input")[0],t={leadingWhitespace:p.firstChild.nodeType===3,tbody:!p.getElementsByTagName("tbody").length,htmlSerialize:!!p.getElementsByTagName("link").length,style:/top/.test(r.getAttribute("style")),hrefNormalized:r.getAttribute("href")==="/a",opacity:/^0.5/.test(r.style.opacity),cssFloat:!!r.style.cssFloat,checkOn:u.value==="on",optSelected:o.selected,getSetAttribute:p.className!=="t",enctype:!!i.createElement("form").enctype,html5Clone:i.createElement("nav").cloneNode(!0).outerHTML!=="<:nav></:nav>",boxModel:i.compatMode==="CSS1Compat",submitBubbles:!0,changeBubbles:!0,focusinBubbles:!1,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0,boxSizingReliable:!0,pixelPosition:!1},u.checked=!0,t.noCloneChecked=u.cloneNode(!0).checked,s.disabled=!0,t.optDisabled=!o.disabled;try{delete p.test}catch(d){t.deleteExpando=!1}!p.addEventListener&&p.attachEvent&&p.fireEvent&&(p.attachEvent("onclick",h=function(){t.noCloneEvent=!1}),p.cloneNode(!0).fireEvent("onclick"),p.detachEvent("onclick",h)),u=i.createElement("input"),u.value="t",u.setAttribute("type","radio"),t.radioValue=u.value==="t",u.setAttribute("checked","checked"),u.setAttribute("name","t"),p.appendChild(u),a=i.createDocumentFragment(),a.appendChild(p.lastChild),t.checkClone=a.cloneNode(!0).cloneNode(!0).lastChild.checked,t.appendChecked=u.checked,a.removeChild(u),a.appendChild(p);if(p.attachEvent)for(l in{submit:!0,change:!0,focusin:!0})f="on"+l,c=f in p,c||(p.setAttribute(f,"return;"),c=typeof p[f]=="function"),t[l+"Bubbles"]=c;return v(function(){var n,r,s,o,u="padding:0;margin:0;border:0;display:block;overflow:hidden;",a=i.getElementsByTagName("body")[0];if(!a)return;n=i.createElement("div"),n.style.cssText="visibility:hidden;border:0;width:0;height:0;position:static;top:0;margin-top:1px",a.insertBefore(n,a.firstChild),r=i.createElement("div"),n.appendChild(r),r.innerHTML="<table><tr><td></td><td>t</td></tr></table>",s=r.getElementsByTagName("td"),s[0].style.cssText="padding:0;margin:0;border:0;display:none",c=s[0].offsetHeight===0,s[0].style.display="",s[1].style.display="none",t.reliableHiddenOffsets=c&&s[0].offsetHeight===0,r.innerHTML="",r.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",t.boxSizing=r.offsetWidth===4,t.doesNotIncludeMarginInBodyOffset=a.offsetTop!==1,e.getComputedStyle&&(t.pixelPosition=(e.getComputedStyle(r,null)||{}).top!=="1%",t.boxSizingReliable=(e.getComputedStyle(r,null)||{width:"4px"}).width==="4px",o=i.createElement("div"),o.style.cssText=r.style.cssText=u,o.style.marginRight=o.style.width="0",r.style.width="1px",r.appendChild(o),t.reliableMarginRight=!parseFloat((e.getComputedStyle(o,null)||{}).marginRight)),typeof r.style.zoom!="undefined"&&(r.innerHTML="",r.style.cssText=u+"width:1px;padding:1px;display:inline;zoom:1",t.inlineBlockNeedsLayout=r.offsetWidth===3,r.style.display="block",r.style.overflow="visible",r.innerHTML="<div></div>",r.firstChild.style.width="5px",t.shrinkWrapBlocks=r.offsetWidth!==3,n.style.zoom=1),a.removeChild(n),n=r=s=o=null}),a.removeChild(p),n=r=s=o=u=a=p=null,t}();var D=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,P=/([A-Z])/g;v.extend({cache:{},deletedIds:[],uuid:0,expando:"jQuery"+(v.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(e){return e=e.nodeType?v.cache[e[v.expando]]:e[v.expando],!!e&&!B(e)},data:function(e,n,r,i){if(!v.acceptData(e))return;var s,o,u=v.expando,a=typeof n=="string",f=e.nodeType,l=f?v.cache:e,c=f?e[u]:e[u]&&u;if((!c||!l[c]||!i&&!l[c].data)&&a&&r===t)return;c||(f?e[u]=c=v.deletedIds.pop()||v.guid++:c=u),l[c]||(l[c]={},f||(l[c].toJSON=v.noop));if(typeof n=="object"||typeof n=="function")i?l[c]=v.extend(l[c],n):l[c].data=v.extend(l[c].data,n);return s=l[c],i||(s.data||(s.data={}),s=s.data),r!==t&&(s[v.camelCase(n)]=r),a?(o=s[n],o==null&&(o=s[v.camelCase(n)])):o=s,o},removeData:function(e,t,n){if(!v.acceptData(e))return;var r,i,s,o=e.nodeType,u=o?v.cache:e,a=o?e[v.expando]:v.expando;if(!u[a])return;if(t){r=n?u[a]:u[a].data;if(r){v.isArray(t)||(t in r?t=[t]:(t=v.camelCase(t),t in r?t=[t]:t=t.split(" ")));for(i=0,s=t.length;i<s;i++)delete r[t[i]];if(!(n?B:v.isEmptyObject)(r))return}}if(!n){delete u[a].data;if(!B(u[a]))return}o?v.cleanData([e],!0):v.support.deleteExpando||u!=u.window?delete u[a]:u[a]=null},_data:function(e,t,n){return v.data(e,t,n,!0)},acceptData:function(e){var t=e.nodeName&&v.noData[e.nodeName.toLowerCase()];return!t||t!==!0&&e.getAttribute("classid")===t}}),v.fn.extend({data:function(e,n){var r,i,s,o,u,a=this[0],f=0,l=null;if(e===t){if(this.length){l=v.data(a);if(a.nodeType===1&&!v._data(a,"parsedAttrs")){s=a.attributes;for(u=s.length;f<u;f++)o=s[f].name,o.indexOf("data-")||(o=v.camelCase(o.substring(5)),H(a,o,l[o]));v._data(a,"parsedAttrs",!0)}}return l}return typeof e=="object"?this.each(function(){v.data(this,e)}):(r=e.split(".",2),r[1]=r[1]?"."+r[1]:"",i=r[1]+"!",v.access(this,function(n){if(n===t)return l=this.triggerHandler("getData"+i,[r[0]]),l===t&&a&&(l=v.data(a,e),l=H(a,e,l)),l===t&&r[1]?this.data(r[0]):l;r[1]=n,this.each(function(){var t=v(this);t.triggerHandler("setData"+i,r),v.data(this,e,n),t.triggerHandler("changeData"+i,r)})},null,n,arguments.length>1,null,!1))},removeData:function(e){return this.each(function(){v.removeData(this,e)})}}),v.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=v._data(e,t),n&&(!r||v.isArray(n)?r=v._data(e,t,v.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=v.queue(e,t),r=n.length,i=n.shift(),s=v._queueHooks(e,t),o=function(){v.dequeue(e,t)};i==="inprogress"&&(i=n.shift(),r--),i&&(t==="fx"&&n.unshift("inprogress"),delete s.stop,i.call(e,o,s)),!r&&s&&s.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return v._data(e,n)||v._data(e,n,{empty:v.Callbacks("once memory").add(function(){v.removeData(e,t+"queue",!0),v.removeData(e,n,!0)})})}}),v.fn.extend({queue:function(e,n){var r=2;return typeof e!="string"&&(n=e,e="fx",r--),arguments.length<r?v.queue(this[0],e):n===t?this:this.each(function(){var t=v.queue(this,e,n);v._queueHooks(this,e),e==="fx"&&t[0]!=="inprogress"&&v.dequeue(this,e)})},dequeue:function(e){return this.each(function(){v.dequeue(this,e)})},delay:function(e,t){return e=v.fx?v.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var r=setTimeout(t,e);n.stop=function(){clearTimeout(r)}})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,n){var r,i=1,s=v.Deferred(),o=this,u=this.length,a=function(){--i||s.resolveWith(o,[o])};typeof e!="string"&&(n=e,e=t),e=e||"fx";while(u--)r=v._data(o[u],e+"queueHooks"),r&&r.empty&&(i++,r.empty.add(a));return a(),s.promise(n)}});var j,F,I,q=/[\t\r\n]/g,R=/\r/g,U=/^(?:button|input)$/i,z=/^(?:button|input|object|select|textarea)$/i,W=/^a(?:rea|)$/i,X=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,V=v.support.getSetAttribute;v.fn.extend({attr:function(e,t){return v.access(this,v.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){v.removeAttr(this,e)})},prop:function(e,t){return v.access(this,v.prop,e,t,arguments.length>1)},removeProp:function(e){return e=v.propFix[e]||e,this.each(function(){try{this[e]=t,delete this[e]}catch(n){}})},addClass:function(e){var t,n,r,i,s,o,u;if(v.isFunction(e))return this.each(function(t){v(this).addClass(e.call(this,t,this.className))});if(e&&typeof e=="string"){t=e.split(y);for(n=0,r=this.length;n<r;n++){i=this[n];if(i.nodeType===1)if(!i.className&&t.length===1)i.className=e;else{s=" "+i.className+" ";for(o=0,u=t.length;o<u;o++)s.indexOf(" "+t[o]+" ")<0&&(s+=t[o]+" ");i.className=v.trim(s)}}}return this},removeClass:function(e){var n,r,i,s,o,u,a;if(v.isFunction(e))return this.each(function(t){v(this).removeClass(e.call(this,t,this.className))});if(e&&typeof e=="string"||e===t){n=(e||"").split(y);for(u=0,a=this.length;u<a;u++){i=this[u];if(i.nodeType===1&&i.className){r=(" "+i.className+" ").replace(q," ");for(s=0,o=n.length;s<o;s++)while(r.indexOf(" "+n[s]+" ")>=0)r=r.replace(" "+n[s]+" "," ");i.className=e?v.trim(r):""}}}return this},toggleClass:function(e,t){var n=typeof e,r=typeof t=="boolean";return v.isFunction(e)?this.each(function(n){v(this).toggleClass(e.call(this,n,this.className,t),t)}):this.each(function(){if(n==="string"){var i,s=0,o=v(this),u=t,a=e.split(y);while(i=a[s++])u=r?u:!o.hasClass(i),o[u?"addClass":"removeClass"](i)}else if(n==="undefined"||n==="boolean")this.className&&v._data(this,"__className__",this.className),this.className=this.className||e===!1?"":v._data(this,"__className__")||""})},hasClass:function(e){var t=" "+e+" ",n=0,r=this.length;for(;n<r;n++)if(this[n].nodeType===1&&(" "+this[n].className+" ").replace(q," ").indexOf(t)>=0)return!0;return!1},val:function(e){var n,r,i,s=this[0];if(!arguments.length){if(s)return n=v.valHooks[s.type]||v.valHooks[s.nodeName.toLowerCase()],n&&"get"in n&&(r=n.get(s,"value"))!==t?r:(r=s.value,typeof r=="string"?r.replace(R,""):r==null?"":r);return}return i=v.isFunction(e),this.each(function(r){var s,o=v(this);if(this.nodeType!==1)return;i?s=e.call(this,r,o.val()):s=e,s==null?s="":typeof s=="number"?s+="":v.isArray(s)&&(s=v.map(s,function(e){return e==null?"":e+""})),n=v.valHooks[this.type]||v.valHooks[this.nodeName.toLowerCase()];if(!n||!("set"in n)||n.set(this,s,"value")===t)this.value=s})}}),v.extend({valHooks:{option:{get:function(e){var t=e.attributes.value;return!t||t.specified?e.value:e.text}},select:{get:function(e){var t,n,r,i,s=e.selectedIndex,o=[],u=e.options,a=e.type==="select-one";if(s<0)return null;n=a?s:0,r=a?s+1:u.length;for(;n<r;n++){i=u[n];if(i.selected&&(v.support.optDisabled?!i.disabled:i.getAttribute("disabled")===null)&&(!i.parentNode.disabled||!v.nodeName(i.parentNode,"optgroup"))){t=v(i).val();if(a)return t;o.push(t)}}return a&&!o.length&&u.length?v(u[s]).val():o},set:function(e,t){var n=v.makeArray(t);return v(e).find("option").each(function(){this.selected=v.inArray(v(this).val(),n)>=0}),n.length||(e.selectedIndex=-1),n}}},attrFn:{},attr:function(e,n,r,i){var s,o,u,a=e.nodeType;if(!e||a===3||a===8||a===2)return;if(i&&v.isFunction(v.fn[n]))return v(e)[n](r);if(typeof e.getAttribute=="undefined")return v.prop(e,n,r);u=a!==1||!v.isXMLDoc(e),u&&(n=n.toLowerCase(),o=v.attrHooks[n]||(X.test(n)?F:j));if(r!==t){if(r===null){v.removeAttr(e,n);return}return o&&"set"in o&&u&&(s=o.set(e,r,n))!==t?s:(e.setAttribute(n,r+""),r)}return o&&"get"in o&&u&&(s=o.get(e,n))!==null?s:(s=e.getAttribute(n),s===null?t:s)},removeAttr:function(e,t){var n,r,i,s,o=0;if(t&&e.nodeType===1){r=t.split(y);for(;o<r.length;o++)i=r[o],i&&(n=v.propFix[i]||i,s=X.test(i),s||v.attr(e,i,""),e.removeAttribute(V?i:n),s&&n in e&&(e[n]=!1))}},attrHooks:{type:{set:function(e,t){if(U.test(e.nodeName)&&e.parentNode)v.error("type property can't be changed");else if(!v.support.radioValue&&t==="radio"&&v.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}},value:{get:function(e,t){return j&&v.nodeName(e,"button")?j.get(e,t):t in e?e.value:null},set:function(e,t,n){if(j&&v.nodeName(e,"button"))return j.set(e,t,n);e.value=t}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(e,n,r){var i,s,o,u=e.nodeType;if(!e||u===3||u===8||u===2)return;return o=u!==1||!v.isXMLDoc(e),o&&(n=v.propFix[n]||n,s=v.propHooks[n]),r!==t?s&&"set"in s&&(i=s.set(e,r,n))!==t?i:e[n]=r:s&&"get"in s&&(i=s.get(e,n))!==null?i:e[n]},propHooks:{tabIndex:{get:function(e){var n=e.getAttributeNode("tabindex");return n&&n.specified?parseInt(n.value,10):z.test(e.nodeName)||W.test(e.nodeName)&&e.href?0:t}}}}),F={get:function(e,n){var r,i=v.prop(e,n);return i===!0||typeof i!="boolean"&&(r=e.getAttributeNode(n))&&r.nodeValue!==!1?n.toLowerCase():t},set:function(e,t,n){var r;return t===!1?v.removeAttr(e,n):(r=v.propFix[n]||n,r in e&&(e[r]=!0),e.setAttribute(n,n.toLowerCase())),n}},V||(I={name:!0,id:!0,coords:!0},j=v.valHooks.button={get:function(e,n){var r;return r=e.getAttributeNode(n),r&&(I[n]?r.value!=="":r.specified)?r.value:t},set:function(e,t,n){var r=e.getAttributeNode(n);return r||(r=i.createAttribute(n),e.setAttributeNode(r)),r.value=t+""}},v.each(["width","height"],function(e,t){v.attrHooks[t]=v.extend(v.attrHooks[t],{set:function(e,n){if(n==="")return e.setAttribute(t,"auto"),n}})}),v.attrHooks.contenteditable={get:j.get,set:function(e,t,n){t===""&&(t="false"),j.set(e,t,n)}}),v.support.hrefNormalized||v.each(["href","src","width","height"],function(e,n){v.attrHooks[n]=v.extend(v.attrHooks[n],{get:function(e){var r=e.getAttribute(n,2);return r===null?t:r}})}),v.support.style||(v.attrHooks.style={get:function(e){return e.style.cssText.toLowerCase()||t},set:function(e,t){return e.style.cssText=t+""}}),v.support.optSelected||(v.propHooks.selected=v.extend(v.propHooks.selected,{get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}})),v.support.enctype||(v.propFix.enctype="encoding"),v.support.checkOn||v.each(["radio","checkbox"],function(){v.valHooks[this]={get:function(e){return e.getAttribute("value")===null?"on":e.value}}}),v.each(["radio","checkbox"],function(){v.valHooks[this]=v.extend(v.valHooks[this],{set:function(e,t){if(v.isArray(t))return e.checked=v.inArray(v(e).val(),t)>=0}})});var $=/^(?:textarea|input|select)$/i,J=/^([^\.]*|)(?:\.(.+)|)$/,K=/(?:^|\s)hover(\.\S+|)\b/,Q=/^key/,G=/^(?:mouse|contextmenu)|click/,Y=/^(?:focusinfocus|focusoutblur)$/,Z=function(e){return v.event.special.hover?e:e.replace(K,"mouseenter$1 mouseleave$1")};v.event={add:function(e,n,r,i,s){var o,u,a,f,l,c,h,p,d,m,g;if(e.nodeType===3||e.nodeType===8||!n||!r||!(o=v._data(e)))return;r.handler&&(d=r,r=d.handler,s=d.selector),r.guid||(r.guid=v.guid++),a=o.events,a||(o.events=a={}),u=o.handle,u||(o.handle=u=function(e){return typeof v=="undefined"||!!e&&v.event.triggered===e.type?t:v.event.dispatch.apply(u.elem,arguments)},u.elem=e),n=v.trim(Z(n)).split(" ");for(f=0;f<n.length;f++){l=J.exec(n[f])||[],c=l[1],h=(l[2]||"").split(".").sort(),g=v.event.special[c]||{},c=(s?g.delegateType:g.bindType)||c,g=v.event.special[c]||{},p=v.extend({type:c,origType:l[1],data:i,handler:r,guid:r.guid,selector:s,needsContext:s&&v.expr.match.needsContext.test(s),namespace:h.join(".")},d),m=a[c];if(!m){m=a[c]=[],m.delegateCount=0;if(!g.setup||g.setup.call(e,i,h,u)===!1)e.addEventListener?e.addEventListener(c,u,!1):e.attachEvent&&e.attachEvent("on"+c,u)}g.add&&(g.add.call(e,p),p.handler.guid||(p.handler.guid=r.guid)),s?m.splice(m.delegateCount++,0,p):m.push(p),v.event.global[c]=!0}e=null},global:{},remove:function(e,t,n,r,i){var s,o,u,a,f,l,c,h,p,d,m,g=v.hasData(e)&&v._data(e);if(!g||!(h=g.events))return;t=v.trim(Z(t||"")).split(" ");for(s=0;s<t.length;s++){o=J.exec(t[s])||[],u=a=o[1],f=o[2];if(!u){for(u in h)v.event.remove(e,u+t[s],n,r,!0);continue}p=v.event.special[u]||{},u=(r?p.delegateType:p.bindType)||u,d=h[u]||[],l=d.length,f=f?new RegExp("(^|\\.)"+f.split(".").sort().join("\\.(?:.*\\.|)")+"(\\.|$)"):null;for(c=0;c<d.length;c++)m=d[c],(i||a===m.origType)&&(!n||n.guid===m.guid)&&(!f||f.test(m.namespace))&&(!r||r===m.selector||r==="**"&&m.selector)&&(d.splice(c--,1),m.selector&&d.delegateCount--,p.remove&&p.remove.call(e,m));d.length===0&&l!==d.length&&((!p.teardown||p.teardown.call(e,f,g.handle)===!1)&&v.removeEvent(e,u,g.handle),delete h[u])}v.isEmptyObject(h)&&(delete g.handle,v.removeData(e,"events",!0))},customEvent:{getData:!0,setData:!0,changeData:!0},trigger:function(n,r,s,o){if(!s||s.nodeType!==3&&s.nodeType!==8){var u,a,f,l,c,h,p,d,m,g,y=n.type||n,b=[];if(Y.test(y+v.event.triggered))return;y.indexOf("!")>=0&&(y=y.slice(0,-1),a=!0),y.indexOf(".")>=0&&(b=y.split("."),y=b.shift(),b.sort());if((!s||v.event.customEvent[y])&&!v.event.global[y])return;n=typeof n=="object"?n[v.expando]?n:new v.Event(y,n):new v.Event(y),n.type=y,n.isTrigger=!0,n.exclusive=a,n.namespace=b.join("."),n.namespace_re=n.namespace?new RegExp("(^|\\.)"+b.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,h=y.indexOf(":")<0?"on"+y:"";if(!s){u=v.cache;for(f in u)u[f].events&&u[f].events[y]&&v.event.trigger(n,r,u[f].handle.elem,!0);return}n.result=t,n.target||(n.target=s),r=r!=null?v.makeArray(r):[],r.unshift(n),p=v.event.special[y]||{};if(p.trigger&&p.trigger.apply(s,r)===!1)return;m=[[s,p.bindType||y]];if(!o&&!p.noBubble&&!v.isWindow(s)){g=p.delegateType||y,l=Y.test(g+y)?s:s.parentNode;for(c=s;l;l=l.parentNode)m.push([l,g]),c=l;c===(s.ownerDocument||i)&&m.push([c.defaultView||c.parentWindow||e,g])}for(f=0;f<m.length&&!n.isPropagationStopped();f++)l=m[f][0],n.type=m[f][1],d=(v._data(l,"events")||{})[n.type]&&v._data(l,"handle"),d&&d.apply(l,r),d=h&&l[h],d&&v.acceptData(l)&&d.apply&&d.apply(l,r)===!1&&n.preventDefault();return n.type=y,!o&&!n.isDefaultPrevented()&&(!p._default||p._default.apply(s.ownerDocument,r)===!1)&&(y!=="click"||!v.nodeName(s,"a"))&&v.acceptData(s)&&h&&s[y]&&(y!=="focus"&&y!=="blur"||n.target.offsetWidth!==0)&&!v.isWindow(s)&&(c=s[h],c&&(s[h]=null),v.event.triggered=y,s[y](),v.event.triggered=t,c&&(s[h]=c)),n.result}return},dispatch:function(n){n=v.event.fix(n||e.event);var r,i,s,o,u,a,f,c,h,p,d=(v._data(this,"events")||{})[n.type]||[],m=d.delegateCount,g=l.call(arguments),y=!n.exclusive&&!n.namespace,b=v.event.special[n.type]||{},w=[];g[0]=n,n.delegateTarget=this;if(b.preDispatch&&b.preDispatch.call(this,n)===!1)return;if(m&&(!n.button||n.type!=="click"))for(s=n.target;s!=this;s=s.parentNode||this)if(s.disabled!==!0||n.type!=="click"){u={},f=[];for(r=0;r<m;r++)c=d[r],h=c.selector,u[h]===t&&(u[h]=c.needsContext?v(h,this).index(s)>=0:v.find(h,this,null,[s]).length),u[h]&&f.push(c);f.length&&w.push({elem:s,matches:f})}d.length>m&&w.push({elem:this,matches:d.slice(m)});for(r=0;r<w.length&&!n.isPropagationStopped();r++){a=w[r],n.currentTarget=a.elem;for(i=0;i<a.matches.length&&!n.isImmediatePropagationStopped();i++){c=a.matches[i];if(y||!n.namespace&&!c.namespace||n.namespace_re&&n.namespace_re.test(c.namespace))n.data=c.data,n.handleObj=c,o=((v.event.special[c.origType]||{}).handle||c.handler).apply(a.elem,g),o!==t&&(n.result=o,o===!1&&(n.preventDefault(),n.stopPropagation()))}}return b.postDispatch&&b.postDispatch.call(this,n),n.result},props:"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return e.which==null&&(e.which=t.charCode!=null?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,n){var r,s,o,u=n.button,a=n.fromElement;return e.pageX==null&&n.clientX!=null&&(r=e.target.ownerDocument||i,s=r.documentElement,o=r.body,e.pageX=n.clientX+(s&&s.scrollLeft||o&&o.scrollLeft||0)-(s&&s.clientLeft||o&&o.clientLeft||0),e.pageY=n.clientY+(s&&s.scrollTop||o&&o.scrollTop||0)-(s&&s.clientTop||o&&o.clientTop||0)),!e.relatedTarget&&a&&(e.relatedTarget=a===e.target?n.toElement:a),!e.which&&u!==t&&(e.which=u&1?1:u&2?3:u&4?2:0),e}},fix:function(e){if(e[v.expando])return e;var t,n,r=e,s=v.event.fixHooks[e.type]||{},o=s.props?this.props.concat(s.props):this.props;e=v.Event(r);for(t=o.length;t;)n=o[--t],e[n]=r[n];return e.target||(e.target=r.srcElement||i),e.target.nodeType===3&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,s.filter?s.filter(e,r):e},special:{load:{noBubble:!0},focus:{delegateType:"focusin"},blur:{delegateType:"focusout"},beforeunload:{setup:function(e,t,n){v.isWindow(this)&&(this.onbeforeunload=n)},teardown:function(e,t){this.onbeforeunload===t&&(this.onbeforeunload=null)}}},simulate:function(e,t,n,r){var i=v.extend(new v.Event,n,{type:e,isSimulated:!0,originalEvent:{}});r?v.event.trigger(i,null,t):v.event.dispatch.call(t,i),i.isDefaultPrevented()&&n.preventDefault()}},v.event.handle=v.event.dispatch,v.removeEvent=i.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)}:function(e,t,n){var r="on"+t;e.detachEvent&&(typeof e[r]=="undefined"&&(e[r]=null),e.detachEvent(r,n))},v.Event=function(e,t){if(!(this instanceof v.Event))return new v.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||e.returnValue===!1||e.getPreventDefault&&e.getPreventDefault()?tt:et):this.type=e,t&&v.extend(this,t),this.timeStamp=e&&e.timeStamp||v.now(),this[v.expando]=!0},v.Event.prototype={preventDefault:function(){this.isDefaultPrevented=tt;var e=this.originalEvent;if(!e)return;e.preventDefault?e.preventDefault():e.returnValue=!1},stopPropagation:function(){this.isPropagationStopped=tt;var e=this.originalEvent;if(!e)return;e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=tt,this.stopPropagation()},isDefaultPrevented:et,isPropagationStopped:et,isImmediatePropagationStopped:et},v.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,t){v.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,s=e.handleObj,o=s.selector;if(!i||i!==r&&!v.contains(r,i))e.type=s.origType,n=s.handler.apply(this,arguments),e.type=t;return n}}}),v.support.submitBubbles||(v.event.special.submit={setup:function(){if(v.nodeName(this,"form"))return!1;v.event.add(this,"click._submit keypress._submit",function(e){var n=e.target,r=v.nodeName(n,"input")||v.nodeName(n,"button")?n.form:t;r&&!v._data(r,"_submit_attached")&&(v.event.add(r,"submit._submit",function(e){e._submit_bubble=!0}),v._data(r,"_submit_attached",!0))})},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&v.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){if(v.nodeName(this,"form"))return!1;v.event.remove(this,"._submit")}}),v.support.changeBubbles||(v.event.special.change={setup:function(){if($.test(this.nodeName)){if(this.type==="checkbox"||this.type==="radio")v.event.add(this,"propertychange._change",function(e){e.originalEvent.propertyName==="checked"&&(this._just_changed=!0)}),v.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1),v.event.simulate("change",this,e,!0)});return!1}v.event.add(this,"beforeactivate._change",function(e){var t=e.target;$.test(t.nodeName)&&!v._data(t,"_change_attached")&&(v.event.add(t,"change._change",function(e){this.parentNode&&!e.isSimulated&&!e.isTrigger&&v.event.simulate("change",this.parentNode,e,!0)}),v._data(t,"_change_attached",!0))})},handle:function(e){var t=e.target;if(this!==t||e.isSimulated||e.isTrigger||t.type!=="radio"&&t.type!=="checkbox")return e.handleObj.handler.apply(this,arguments)},teardown:function(){return v.event.remove(this,"._change"),!$.test(this.nodeName)}}),v.support.focusinBubbles||v.each({focus:"focusin",blur:"focusout"},function(e,t){var n=0,r=function(e){v.event.simulate(t,e.target,v.event.fix(e),!0)};v.event.special[t]={setup:function(){n++===0&&i.addEventListener(e,r,!0)},teardown:function(){--n===0&&i.removeEventListener(e,r,!0)}}}),v.fn.extend({on:function(e,n,r,i,s){var o,u;if(typeof e=="object"){typeof n!="string"&&(r=r||n,n=t);for(u in e)this.on(u,n,r,e[u],s);return this}r==null&&i==null?(i=n,r=n=t):i==null&&(typeof n=="string"?(i=r,r=t):(i=r,r=n,n=t));if(i===!1)i=et;else if(!i)return this;return s===1&&(o=i,i=function(e){return v().off(e),o.apply(this,arguments)},i.guid=o.guid||(o.guid=v.guid++)),this.each(function(){v.event.add(this,e,i,r,n)})},one:function(e,t,n,r){return this.on(e,t,n,r,1)},off:function(e,n,r){var i,s;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,v(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if(typeof e=="object"){for(s in e)this.off(s,n,e[s]);return this}if(n===!1||typeof n=="function")r=n,n=t;return r===!1&&(r=et),this.each(function(){v.event.remove(this,e,r,n)})},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},live:function(e,t,n){return v(this.context).on(e,this.selector,t,n),this},die:function(e,t){return v(this.context).off(e,this.selector||"**",t),this},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return arguments.length===1?this.off(e,"**"):this.off(t,e||"**",n)},trigger:function(e,t){return this.each(function(){v.event.trigger(e,t,this)})},triggerHandler:function(e,t){if(this[0])return v.event.trigger(e,t,this[0],!0)},toggle:function(e){var t=arguments,n=e.guid||v.guid++,r=0,i=function(n){var i=(v._data(this,"lastToggle"+e.guid)||0)%r;return v._data(this,"lastToggle"+e.guid,i+1),n.preventDefault(),t[i].apply(this,arguments)||!1};i.guid=n;while(r<t.length)t[r++].guid=n;return this.click(i)},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),v.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){v.fn[t]=function(e,n){return n==null&&(n=e,e=null),arguments.length>0?this.on(t,null,e,n):this.trigger(t)},Q.test(t)&&(v.event.fixHooks[t]=v.event.keyHooks),G.test(t)&&(v.event.fixHooks[t]=v.event.mouseHooks)}),function(e,t){function nt(e,t,n,r){n=n||[],t=t||g;var i,s,a,f,l=t.nodeType;if(!e||typeof e!="string")return n;if(l!==1&&l!==9)return[];a=o(t);if(!a&&!r)if(i=R.exec(e))if(f=i[1]){if(l===9){s=t.getElementById(f);if(!s||!s.parentNode)return n;if(s.id===f)return n.push(s),n}else if(t.ownerDocument&&(s=t.ownerDocument.getElementById(f))&&u(t,s)&&s.id===f)return n.push(s),n}else{if(i[2])return S.apply(n,x.call(t.getElementsByTagName(e),0)),n;if((f=i[3])&&Z&&t.getElementsByClassName)return S.apply(n,x.call(t.getElementsByClassName(f),0)),n}return vt(e.replace(j,"$1"),t,n,r,a)}function rt(e){return function(t){var n=t.nodeName.toLowerCase();return n==="input"&&t.type===e}}function it(e){return function(t){var n=t.nodeName.toLowerCase();return(n==="input"||n==="button")&&t.type===e}}function st(e){return N(function(t){return t=+t,N(function(n,r){var i,s=e([],n.length,t),o=s.length;while(o--)n[i=s[o]]&&(n[i]=!(r[i]=n[i]))})})}function ot(e,t,n){if(e===t)return n;var r=e.nextSibling;while(r){if(r===t)return-1;r=r.nextSibling}return 1}function ut(e,t){var n,r,s,o,u,a,f,l=L[d][e];if(l)return t?0:l.slice(0);u=e,a=[],f=i.preFilter;while(u){if(!n||(r=F.exec(u)))r&&(u=u.slice(r[0].length)),a.push(s=[]);n=!1;if(r=I.exec(u))s.push(n=new m(r.shift())),u=u.slice(n.length),n.type=r[0].replace(j," ");for(o in i.filter)(r=J[o].exec(u))&&(!f[o]||(r=f[o](r,g,!0)))&&(s.push(n=new m(r.shift())),u=u.slice(n.length),n.type=o,n.matches=r);if(!n)break}return t?u.length:u?nt.error(e):L(e,a).slice(0)}function at(e,t,r){var i=t.dir,s=r&&t.dir==="parentNode",o=w++;return t.first?function(t,n,r){while(t=t[i])if(s||t.nodeType===1)return e(t,n,r)}:function(t,r,u){if(!u){var a,f=b+" "+o+" ",l=f+n;while(t=t[i])if(s||t.nodeType===1){if((a=t[d])===l)return t.sizset;if(typeof a=="string"&&a.indexOf(f)===0){if(t.sizset)return t}else{t[d]=l;if(e(t,r,u))return t.sizset=!0,t;t.sizset=!1}}}else while(t=t[i])if(s||t.nodeType===1)if(e(t,r,u))return t}}function ft(e){return e.length>1?function(t,n,r){var i=e.length;while(i--)if(!e[i](t,n,r))return!1;return!0}:e[0]}function lt(e,t,n,r,i){var s,o=[],u=0,a=e.length,f=t!=null;for(;u<a;u++)if(s=e[u])if(!n||n(s,r,i))o.push(s),f&&t.push(u);return o}function ct(e,t,n,r,i,s){return r&&!r[d]&&(r=ct(r)),i&&!i[d]&&(i=ct(i,s)),N(function(s,o,u,a){if(s&&i)return;var f,l,c,h=[],p=[],d=o.length,v=s||dt(t||"*",u.nodeType?[u]:u,[],s),m=e&&(s||!t)?lt(v,h,e,u,a):v,g=n?i||(s?e:d||r)?[]:o:m;n&&n(m,g,u,a);if(r){c=lt(g,p),r(c,[],u,a),f=c.length;while(f--)if(l=c[f])g[p[f]]=!(m[p[f]]=l)}if(s){f=e&&g.length;while(f--)if(l=g[f])s[h[f]]=!(o[h[f]]=l)}else g=lt(g===o?g.splice(d,g.length):g),i?i(null,o,g,a):S.apply(o,g)})}function ht(e){var t,n,r,s=e.length,o=i.relative[e[0].type],u=o||i.relative[" "],a=o?1:0,f=at(function(e){return e===t},u,!0),l=at(function(e){return T.call(t,e)>-1},u,!0),h=[function(e,n,r){return!o&&(r||n!==c)||((t=n).nodeType?f(e,n,r):l(e,n,r))}];for(;a<s;a++)if(n=i.relative[e[a].type])h=[at(ft(h),n)];else{n=i.filter[e[a].type].apply(null,e[a].matches);if(n[d]){r=++a;for(;r<s;r++)if(i.relative[e[r].type])break;return ct(a>1&&ft(h),a>1&&e.slice(0,a-1).join("").replace(j,"$1"),n,a<r&&ht(e.slice(a,r)),r<s&&ht(e=e.slice(r)),r<s&&e.join(""))}h.push(n)}return ft(h)}function pt(e,t){var r=t.length>0,s=e.length>0,o=function(u,a,f,l,h){var p,d,v,m=[],y=0,w="0",x=u&&[],T=h!=null,N=c,C=u||s&&i.find.TAG("*",h&&a.parentNode||a),k=b+=N==null?1:Math.E;T&&(c=a!==g&&a,n=o.el);for(;(p=C[w])!=null;w++){if(s&&p){for(d=0;v=e[d];d++)if(v(p,a,f)){l.push(p);break}T&&(b=k,n=++o.el)}r&&((p=!v&&p)&&y--,u&&x.push(p))}y+=w;if(r&&w!==y){for(d=0;v=t[d];d++)v(x,m,a,f);if(u){if(y>0)while(w--)!x[w]&&!m[w]&&(m[w]=E.call(l));m=lt(m)}S.apply(l,m),T&&!u&&m.length>0&&y+t.length>1&&nt.uniqueSort(l)}return T&&(b=k,c=N),x};return o.el=0,r?N(o):o}function dt(e,t,n,r){var i=0,s=t.length;for(;i<s;i++)nt(e,t[i],n,r);return n}function vt(e,t,n,r,s){var o,u,f,l,c,h=ut(e),p=h.length;if(!r&&h.length===1){u=h[0]=h[0].slice(0);if(u.length>2&&(f=u[0]).type==="ID"&&t.nodeType===9&&!s&&i.relative[u[1].type]){t=i.find.ID(f.matches[0].replace($,""),t,s)[0];if(!t)return n;e=e.slice(u.shift().length)}for(o=J.POS.test(e)?-1:u.length-1;o>=0;o--){f=u[o];if(i.relative[l=f.type])break;if(c=i.find[l])if(r=c(f.matches[0].replace($,""),z.test(u[0].type)&&t.parentNode||t,s)){u.splice(o,1),e=r.length&&u.join("");if(!e)return S.apply(n,x.call(r,0)),n;break}}}return a(e,h)(r,t,s,n,z.test(e)),n}function mt(){}var n,r,i,s,o,u,a,f,l,c,h=!0,p="undefined",d=("sizcache"+Math.random()).replace(".",""),m=String,g=e.document,y=g.documentElement,b=0,w=0,E=[].pop,S=[].push,x=[].slice,T=[].indexOf||function(e){var t=0,n=this.length;for(;t<n;t++)if(this[t]===e)return t;return-1},N=function(e,t){return e[d]=t==null||t,e},C=function(){var e={},t=[];return N(function(n,r){return t.push(n)>i.cacheLength&&delete e[t.shift()],e[n]=r},e)},k=C(),L=C(),A=C(),O="[\\x20\\t\\r\\n\\f]",M="(?:\\\\.|[-\\w]|[^\\x00-\\xa0])+",_=M.replace("w","w#"),D="([*^$|!~]?=)",P="\\["+O+"*("+M+")"+O+"*(?:"+D+O+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+_+")|)|)"+O+"*\\]",H=":("+M+")(?:\\((?:(['\"])((?:\\\\.|[^\\\\])*?)\\2|([^()[\\]]*|(?:(?:"+P+")|[^:]|\\\\.)*|.*))\\)|)",B=":(even|odd|eq|gt|lt|nth|first|last)(?:\\("+O+"*((?:-\\d)?\\d*)"+O+"*\\)|)(?=[^-]|$)",j=new RegExp("^"+O+"+|((?:^|[^\\\\])(?:\\\\.)*)"+O+"+$","g"),F=new RegExp("^"+O+"*,"+O+"*"),I=new RegExp("^"+O+"*([\\x20\\t\\r\\n\\f>+~])"+O+"*"),q=new RegExp(H),R=/^(?:#([\w\-]+)|(\w+)|\.([\w\-]+))$/,U=/^:not/,z=/[\x20\t\r\n\f]*[+~]/,W=/:not\($/,X=/h\d/i,V=/input|select|textarea|button/i,$=/\\(?!\\)/g,J={ID:new RegExp("^#("+M+")"),CLASS:new RegExp("^\\.("+M+")"),NAME:new RegExp("^\\[name=['\"]?("+M+")['\"]?\\]"),TAG:new RegExp("^("+M.replace("w","w*")+")"),ATTR:new RegExp("^"+P),PSEUDO:new RegExp("^"+H),POS:new RegExp(B,"i"),CHILD:new RegExp("^:(only|nth|first|last)-child(?:\\("+O+"*(even|odd|(([+-]|)(\\d*)n|)"+O+"*(?:([+-]|)"+O+"*(\\d+)|))"+O+"*\\)|)","i"),needsContext:new RegExp("^"+O+"*[>+~]|"+B,"i")},K=function(e){var t=g.createElement("div");try{return e(t)}catch(n){return!1}finally{t=null}},Q=K(function(e){return e.appendChild(g.createComment("")),!e.getElementsByTagName("*").length}),G=K(function(e){return e.innerHTML="<a href='#'></a>",e.firstChild&&typeof e.firstChild.getAttribute!==p&&e.firstChild.getAttribute("href")==="#"}),Y=K(function(e){e.innerHTML="<select></select>";var t=typeof e.lastChild.getAttribute("multiple");return t!=="boolean"&&t!=="string"}),Z=K(function(e){return e.innerHTML="<div class='hidden e'></div><div class='hidden'></div>",!e.getElementsByClassName||!e.getElementsByClassName("e").length?!1:(e.lastChild.className="e",e.getElementsByClassName("e").length===2)}),et=K(function(e){e.id=d+0,e.innerHTML="<a name='"+d+"'></a><div name='"+d+"'></div>",y.insertBefore(e,y.firstChild);var t=g.getElementsByName&&g.getElementsByName(d).length===2+g.getElementsByName(d+0).length;return r=!g.getElementById(d),y.removeChild(e),t});try{x.call(y.childNodes,0)[0].nodeType}catch(tt){x=function(e){var t,n=[];for(;t=this[e];e++)n.push(t);return n}}nt.matches=function(e,t){return nt(e,null,null,t)},nt.matchesSelector=function(e,t){return nt(t,null,null,[e]).length>0},s=nt.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(i===1||i===9||i===11){if(typeof e.textContent=="string")return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=s(e)}else if(i===3||i===4)return e.nodeValue}else for(;t=e[r];r++)n+=s(t);return n},o=nt.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?t.nodeName!=="HTML":!1},u=nt.contains=y.contains?function(e,t){var n=e.nodeType===9?e.documentElement:e,r=t&&t.parentNode;return e===r||!!(r&&r.nodeType===1&&n.contains&&n.contains(r))}:y.compareDocumentPosition?function(e,t){return t&&!!(e.compareDocumentPosition(t)&16)}:function(e,t){while(t=t.parentNode)if(t===e)return!0;return!1},nt.attr=function(e,t){var n,r=o(e);return r||(t=t.toLowerCase()),(n=i.attrHandle[t])?n(e):r||Y?e.getAttribute(t):(n=e.getAttributeNode(t),n?typeof e[t]=="boolean"?e[t]?t:null:n.specified?n.value:null:null)},i=nt.selectors={cacheLength:50,createPseudo:N,match:J,attrHandle:G?{}:{href:function(e){return e.getAttribute("href",2)},type:function(e){return e.getAttribute("type")}},find:{ID:r?function(e,t,n){if(typeof t.getElementById!==p&&!n){var r=t.getElementById(e);return r&&r.parentNode?[r]:[]}}:function(e,n,r){if(typeof n.getElementById!==p&&!r){var i=n.getElementById(e);return i?i.id===e||typeof i.getAttributeNode!==p&&i.getAttributeNode("id").value===e?[i]:t:[]}},TAG:Q?function(e,t){if(typeof t.getElementsByTagName!==p)return t.getElementsByTagName(e)}:function(e,t){var n=t.getElementsByTagName(e);if(e==="*"){var r,i=[],s=0;for(;r=n[s];s++)r.nodeType===1&&i.push(r);return i}return n},NAME:et&&function(e,t){if(typeof t.getElementsByName!==p)return t.getElementsByName(name)},CLASS:Z&&function(e,t,n){if(typeof t.getElementsByClassName!==p&&!n)return t.getElementsByClassName(e)}},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace($,""),e[3]=(e[4]||e[5]||"").replace($,""),e[2]==="~="&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),e[1]==="nth"?(e[2]||nt.error(e[0]),e[3]=+(e[3]?e[4]+(e[5]||1):2*(e[2]==="even"||e[2]==="odd")),e[4]=+(e[6]+e[7]||e[2]==="odd")):e[2]&&nt.error(e[0]),e},PSEUDO:function(e){var t,n;if(J.CHILD.test(e[0]))return null;if(e[3])e[2]=e[3];else if(t=e[4])q.test(t)&&(n=ut(t,!0))&&(n=t.indexOf(")",t.length-n)-t.length)&&(t=t.slice(0,n),e[0]=e[0].slice(0,n)),e[2]=t;return e.slice(0,3)}},filter:{ID:r?function(e){return e=e.replace($,""),function(t){return t.getAttribute("id")===e}}:function(e){return e=e.replace($,""),function(t){var n=typeof t.getAttributeNode!==p&&t.getAttributeNode("id");return n&&n.value===e}},TAG:function(e){return e==="*"?function(){return!0}:(e=e.replace($,"").toLowerCase(),function(t){return t.nodeName&&t.nodeName.toLowerCase()===e})},CLASS:function(e){var t=k[d][e];return t||(t=k(e,new RegExp("(^|"+O+")"+e+"("+O+"|$)"))),function(e){return t.test(e.className||typeof e.getAttribute!==p&&e.getAttribute("class")||"")}},ATTR:function(e,t,n){return function(r,i){var s=nt.attr(r,e);return s==null?t==="!=":t?(s+="",t==="="?s===n:t==="!="?s!==n:t==="^="?n&&s.indexOf(n)===0:t==="*="?n&&s.indexOf(n)>-1:t==="$="?n&&s.substr(s.length-n.length)===n:t==="~="?(" "+s+" ").indexOf(n)>-1:t==="|="?s===n||s.substr(0,n.length+1)===n+"-":!1):!0}},CHILD:function(e,t,n,r){return e==="nth"?function(e){var t,i,s=e.parentNode;if(n===1&&r===0)return!0;if(s){i=0;for(t=s.firstChild;t;t=t.nextSibling)if(t.nodeType===1){i++;if(e===t)break}}return i-=r,i===n||i%n===0&&i/n>=0}:function(t){var n=t;switch(e){case"only":case"first":while(n=n.previousSibling)if(n.nodeType===1)return!1;if(e==="first")return!0;n=t;case"last":while(n=n.nextSibling)if(n.nodeType===1)return!1;return!0}}},PSEUDO:function(e,t){var n,r=i.pseudos[e]||i.setFilters[e.toLowerCase()]||nt.error("unsupported pseudo: "+e);return r[d]?r(t):r.length>1?(n=[e,e,"",t],i.setFilters.hasOwnProperty(e.toLowerCase())?N(function(e,n){var i,s=r(e,t),o=s.length;while(o--)i=T.call(e,s[o]),e[i]=!(n[i]=s[o])}):function(e){return r(e,0,n)}):r}},pseudos:{not:N(function(e){var t=[],n=[],r=a(e.replace(j,"$1"));return r[d]?N(function(e,t,n,i){var s,o=r(e,null,i,[]),u=e.length;while(u--)if(s=o[u])e[u]=!(t[u]=s)}):function(e,i,s){return t[0]=e,r(t,null,s,n),!n.pop()}}),has:N(function(e){return function(t){return nt(e,t).length>0}}),contains:N(function(e){return function(t){return(t.textContent||t.innerText||s(t)).indexOf(e)>-1}}),enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return t==="input"&&!!e.checked||t==="option"&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},parent:function(e){return!i.pseudos.empty(e)},empty:function(e){var t;e=e.firstChild;while(e){if(e.nodeName>"@"||(t=e.nodeType)===3||t===4)return!1;e=e.nextSibling}return!0},header:function(e){return X.test(e.nodeName)},text:function(e){var t,n;return e.nodeName.toLowerCase()==="input"&&(t=e.type)==="text"&&((n=e.getAttribute("type"))==null||n.toLowerCase()===t)},radio:rt("radio"),checkbox:rt("checkbox"),file:rt("file"),password:rt("password"),image:rt("image"),submit:it("submit"),reset:it("reset"),button:function(e){var t=e.nodeName.toLowerCase();return t==="input"&&e.type==="button"||t==="button"},input:function(e){return V.test(e.nodeName)},focus:function(e){var t=e.ownerDocument;return e===t.activeElement&&(!t.hasFocus||t.hasFocus())&&(!!e.type||!!e.href)},active:function(e){return e===e.ownerDocument.activeElement},first:st(function(e,t,n){return[0]}),last:st(function(e,t,n){return[t-1]}),eq:st(function(e,t,n){return[n<0?n+t:n]}),even:st(function(e,t,n){for(var r=0;r<t;r+=2)e.push(r);return e}),odd:st(function(e,t,n){for(var r=1;r<t;r+=2)e.push(r);return e}),lt:st(function(e,t,n){for(var r=n<0?n+t:n;--r>=0;)e.push(r);return e}),gt:st(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}},f=y.compareDocumentPosition?function(e,t){return e===t?(l=!0,0):(!e.compareDocumentPosition||!t.compareDocumentPosition?e.compareDocumentPosition:e.compareDocumentPosition(t)&4)?-1:1}:function(e,t){if(e===t)return l=!0,0;if(e.sourceIndex&&t.sourceIndex)return e.sourceIndex-t.sourceIndex;var n,r,i=[],s=[],o=e.parentNode,u=t.parentNode,a=o;if(o===u)return ot(e,t);if(!o)return-1;if(!u)return 1;while(a)i.unshift(a),a=a.parentNode;a=u;while(a)s.unshift(a),a=a.parentNode;n=i.length,r=s.length;for(var f=0;f<n&&f<r;f++)if(i[f]!==s[f])return ot(i[f],s[f]);return f===n?ot(e,s[f],-1):ot(i[f],t,1)},[0,0].sort(f),h=!l,nt.uniqueSort=function(e){var t,n=1;l=h,e.sort(f);if(l)for(;t=e[n];n++)t===e[n-1]&&e.splice(n--,1);return e},nt.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},a=nt.compile=function(e,t){var n,r=[],i=[],s=A[d][e];if(!s){t||(t=ut(e)),n=t.length;while(n--)s=ht(t[n]),s[d]?r.push(s):i.push(s);s=A(e,pt(i,r))}return s},g.querySelectorAll&&function(){var e,t=vt,n=/'|\\/g,r=/\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,i=[":focus"],s=[":active",":focus"],u=y.matchesSelector||y.mozMatchesSelector||y.webkitMatchesSelector||y.oMatchesSelector||y.msMatchesSelector;K(function(e){e.innerHTML="<select><option selected=''></option></select>",e.querySelectorAll("[selected]").length||i.push("\\["+O+"*(?:checked|disabled|ismap|multiple|readonly|selected|value)"),e.querySelectorAll(":checked").length||i.push(":checked")}),K(function(e){e.innerHTML="<p test=''></p>",e.querySelectorAll("[test^='']").length&&i.push("[*^$]="+O+"*(?:\"\"|'')"),e.innerHTML="<input type='hidden'/>",e.querySelectorAll(":enabled").length||i.push(":enabled",":disabled")}),i=new RegExp(i.join("|")),vt=function(e,r,s,o,u){if(!o&&!u&&(!i||!i.test(e))){var a,f,l=!0,c=d,h=r,p=r.nodeType===9&&e;if(r.nodeType===1&&r.nodeName.toLowerCase()!=="object"){a=ut(e),(l=r.getAttribute("id"))?c=l.replace(n,"\\$&"):r.setAttribute("id",c),c="[id='"+c+"'] ",f=a.length;while(f--)a[f]=c+a[f].join("");h=z.test(e)&&r.parentNode||r,p=a.join(",")}if(p)try{return S.apply(s,x.call(h.querySelectorAll(p),0)),s}catch(v){}finally{l||r.removeAttribute("id")}}return t(e,r,s,o,u)},u&&(K(function(t){e=u.call(t,"div");try{u.call(t,"[test!='']:sizzle"),s.push("!=",H)}catch(n){}}),s=new RegExp(s.join("|")),nt.matchesSelector=function(t,n){n=n.replace(r,"='$1']");if(!o(t)&&!s.test(n)&&(!i||!i.test(n)))try{var a=u.call(t,n);if(a||e||t.document&&t.document.nodeType!==11)return a}catch(f){}return nt(n,null,null,[t]).length>0})}(),i.pseudos.nth=i.pseudos.eq,i.filters=mt.prototype=i.pseudos,i.setFilters=new mt,nt.attr=v.attr,v.find=nt,v.expr=nt.selectors,v.expr[":"]=v.expr.pseudos,v.unique=nt.uniqueSort,v.text=nt.getText,v.isXMLDoc=nt.isXML,v.contains=nt.contains}(e);var nt=/Until$/,rt=/^(?:parents|prev(?:Until|All))/,it=/^.[^:#\[\.,]*$/,st=v.expr.match.needsContext,ot={children:!0,contents:!0,next:!0,prev:!0};v.fn.extend({find:function(e){var t,n,r,i,s,o,u=this;if(typeof e!="string")return v(e).filter(function(){for(t=0,n=u.length;t<n;t++)if(v.contains(u[t],this))return!0});o=this.pushStack("","find",e);for(t=0,n=this.length;t<n;t++){r=o.length,v.find(e,this[t],o);if(t>0)for(i=r;i<o.length;i++)for(s=0;s<r;s++)if(o[s]===o[i]){o.splice(i--,1);break}}return o},has:function(e){var t,n=v(e,this),r=n.length;return this.filter(function(){for(t=0;t<r;t++)if(v.contains(this,n[t]))return!0})},not:function(e){return this.pushStack(ft(this,e,!1),"not",e)},filter:function(e){return this.pushStack(ft(this,e,!0),"filter",e)},is:function(e){return!!e&&(typeof e=="string"?st.test(e)?v(e,this.context).index(this[0])>=0:v.filter(e,this).length>0:this.filter(e).length>0)},closest:function(e,t){var n,r=0,i=this.length,s=[],o=st.test(e)||typeof e!="string"?v(e,t||this.context):0;for(;r<i;r++){n=this[r];while(n&&n.ownerDocument&&n!==t&&n.nodeType!==11){if(o?o.index(n)>-1:v.find.matchesSelector(n,e)){s.push(n);break}n=n.parentNode}}return s=s.length>1?v.unique(s):s,this.pushStack(s,"closest",e)},index:function(e){return e?typeof e=="string"?v.inArray(this[0],v(e)):v.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.prevAll().length:-1},add:function(e,t){var n=typeof e=="string"?v(e,t):v.makeArray(e&&e.nodeType?[e]:e),r=v.merge(this.get(),n);return this.pushStack(ut(n[0])||ut(r[0])?r:v.unique(r))},addBack:function(e){return this.add(e==null?this.prevObject:this.prevObject.filter(e))}}),v.fn.andSelf=v.fn.addBack,v.each({parent:function(e){var t=e.parentNode;return t&&t.nodeType!==11?t:null},parents:function(e){return v.dir(e,"parentNode")},parentsUntil:function(e,t,n){return v.dir(e,"parentNode",n)},next:function(e){return at(e,"nextSibling")},prev:function(e){return at(e,"previousSibling")},nextAll:function(e){return v.dir(e,"nextSibling")},prevAll:function(e){return v.dir(e,"previousSibling")},nextUntil:function(e,t,n){return v.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return v.dir(e,"previousSibling",n)},siblings:function(e){return v.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return v.sibling(e.firstChild)},contents:function(e){return v.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:v.merge([],e.childNodes)}},function(e,t){v.fn[e]=function(n,r){var i=v.map(this,t,n);return nt.test(e)||(r=n),r&&typeof r=="string"&&(i=v.filter(r,i)),i=this.length>1&&!ot[e]?v.unique(i):i,this.length>1&&rt.test(e)&&(i=i.reverse()),this.pushStack(i,e,l.call(arguments).join(","))}}),v.extend({filter:function(e,t,n){return n&&(e=":not("+e+")"),t.length===1?v.find.matchesSelector(t[0],e)?[t[0]]:[]:v.find.matches(e,t)},dir:function(e,n,r){var i=[],s=e[n];while(s&&s.nodeType!==9&&(r===t||s.nodeType!==1||!v(s).is(r)))s.nodeType===1&&i.push(s),s=s[n];return i},sibling:function(e,t){var n=[];for(;e;e=e.nextSibling)e.nodeType===1&&e!==t&&n.push(e);return n}});var ct="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",ht=/ jQuery\d+="(?:null|\d+)"/g,pt=/^\s+/,dt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,vt=/<([\w:]+)/,mt=/<tbody/i,gt=/<|&#?\w+;/,yt=/<(?:script|style|link)/i,bt=/<(?:script|object|embed|option|style)/i,wt=new RegExp("<(?:"+ct+")[\\s/>]","i"),Et=/^(?:checkbox|radio)$/,St=/checked\s*(?:[^=]|=\s*.checked.)/i,xt=/\/(java|ecma)script/i,Tt=/^\s*<!(?:\[CDATA\[|\-\-)|[\]\-]{2}>\s*$/g,Nt={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]},Ct=lt(i),kt=Ct.appendChild(i.createElement("div"));Nt.optgroup=Nt.option,Nt.tbody=Nt.tfoot=Nt.colgroup=Nt.caption=Nt.thead,Nt.th=Nt.td,v.support.htmlSerialize||(Nt._default=[1,"X<div>","</div>"]),v.fn.extend({text:function(e){return v.access(this,function(e){return e===t?v.text(this):this.empty().append((this[0]&&this[0].ownerDocument||i).createTextNode(e))},null,e,arguments.length)},wrapAll:function(e){if(v.isFunction(e))return this.each(function(t){v(this).wrapAll(e.call(this,t))});if(this[0]){var t=v(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){var e=this;while(e.firstChild&&e.firstChild.nodeType===1)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return v.isFunction(e)?this.each(function(t){v(this).wrapInner(e.call(this,t))}):this.each(function(){var t=v(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=v.isFunction(e);return this.each(function(n){v(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){v.nodeName(this,"body")||v(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(e){(this.nodeType===1||this.nodeType===11)&&this.appendChild(e)})},prepend:function(){return this.domManip(arguments,!0,function(e){(this.nodeType===1||this.nodeType===11)&&this.insertBefore(e,this.firstChild)})},before:function(){if(!ut(this[0]))return this.domManip(arguments,!1,function(e){this.parentNode.insertBefore(e,this)});if(arguments.length){var e=v.clean(arguments);return this.pushStack(v.merge(e,this),"before",this.selector)}},after:function(){if(!ut(this[0]))return this.domManip(arguments,!1,function(e){this.parentNode.insertBefore(e,this.nextSibling)});if(arguments.length){var e=v.clean(arguments);return this.pushStack(v.merge(this,e),"after",this.selector)}},remove:function(e,t){var n,r=0;for(;(n=this[r])!=null;r++)if(!e||v.filter(e,[n]).length)!t&&n.nodeType===1&&(v.cleanData(n.getElementsByTagName("*")),v.cleanData([n])),n.parentNode&&n.parentNode.removeChild(n);return this},empty:function(){var e,t=0;for(;(e=this[t])!=null;t++){e.nodeType===1&&v.cleanData(e.getElementsByTagName("*"));while(e.firstChild)e.removeChild(e.firstChild)}return this},clone:function(e,t){return e=e==null?!1:e,t=t==null?e:t,this.map(function(){return v.clone(this,e,t)})},html:function(e){return v.access(this,function(e){var n=this[0]||{},r=0,i=this.length;if(e===t)return n.nodeType===1?n.innerHTML.replace(ht,""):t;if(typeof e=="string"&&!yt.test(e)&&(v.support.htmlSerialize||!wt.test(e))&&(v.support.leadingWhitespace||!pt.test(e))&&!Nt[(vt.exec(e)||["",""])[1].toLowerCase()]){e=e.replace(dt,"<$1></$2>");try{for(;r<i;r++)n=this[r]||{},n.nodeType===1&&(v.cleanData(n.getElementsByTagName("*")),n.innerHTML=e);n=0}catch(s){}}n&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(e){return ut(this[0])?this.length?this.pushStack(v(v.isFunction(e)?e():e),"replaceWith",e):this:v.isFunction(e)?this.each(function(t){var n=v(this),r=n.html();n.replaceWith(e.call(this,t,r))}):(typeof e!="string"&&(e=v(e).detach()),this.each(function(){var t=this.nextSibling,n=this.parentNode;v(this).remove(),t?v(t).before(e):v(n).append(e)}))},detach:function(e){return this.remove(e,!0)},domManip:function(e,n,r){e=[].concat.apply([],e);var i,s,o,u,a=0,f=e[0],l=[],c=this.length;if(!v.support.checkClone&&c>1&&typeof f=="string"&&St.test(f))return this.each(function(){v(this).domManip(e,n,r)});if(v.isFunction(f))return this.each(function(i){var s=v(this);e[0]=f.call(this,i,n?s.html():t),s.domManip(e,n,r)});if(this[0]){i=v.buildFragment(e,this,l),o=i.fragment,s=o.firstChild,o.childNodes.length===1&&(o=s);if(s){n=n&&v.nodeName(s,"tr");for(u=i.cacheable||c-1;a<c;a++)r.call(n&&v.nodeName(this[a],"table")?Lt(this[a],"tbody"):this[a],a===u?o:v.clone(o,!0,!0))}o=s=null,l.length&&v.each(l,function(e,t){t.src?v.ajax?v.ajax({url:t.src,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0}):v.error("no ajax"):v.globalEval((t.text||t.textContent||t.innerHTML||"").replace(Tt,"")),t.parentNode&&t.parentNode.removeChild(t)})}return this}}),v.buildFragment=function(e,n,r){var s,o,u,a=e[0];return n=n||i,n=!n.nodeType&&n[0]||n,n=n.ownerDocument||n,e.length===1&&typeof a=="string"&&a.length<512&&n===i&&a.charAt(0)==="<"&&!bt.test(a)&&(v.support.checkClone||!St.test(a))&&(v.support.html5Clone||!wt.test(a))&&(o=!0,s=v.fragments[a],u=s!==t),s||(s=n.createDocumentFragment(),v.clean(e,n,s,r),o&&(v.fragments[a]=u&&s)),{fragment:s,cacheable:o}},v.fragments={},v.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){v.fn[e]=function(n){var r,i=0,s=[],o=v(n),u=o.length,a=this.length===1&&this[0].parentNode;if((a==null||a&&a.nodeType===11&&a.childNodes.length===1)&&u===1)return o[t](this[0]),this;for(;i<u;i++)r=(i>0?this.clone(!0):this).get(),v(o[i])[t](r),s=s.concat(r);return this.pushStack(s,e,o.selector)}}),v.extend({clone:function(e,t,n){var r,i,s,o;v.support.html5Clone||v.isXMLDoc(e)||!wt.test("<"+e.nodeName+">")?o=e.cloneNode(!0):(kt.innerHTML=e.outerHTML,kt.removeChild(o=kt.firstChild));if((!v.support.noCloneEvent||!v.support.noCloneChecked)&&(e.nodeType===1||e.nodeType===11)&&!v.isXMLDoc(e)){Ot(e,o),r=Mt(e),i=Mt(o);for(s=0;r[s];++s)i[s]&&Ot(r[s],i[s])}if(t){At(e,o);if(n){r=Mt(e),i=Mt(o);for(s=0;r[s];++s)At(r[s],i[s])}}return r=i=null,o},clean:function(e,t,n,r){var s,o,u,a,f,l,c,h,p,d,m,g,y=t===i&&Ct,b=[];if(!t||typeof t.createDocumentFragment=="undefined")t=i;for(s=0;(u=e[s])!=null;s++){typeof u=="number"&&(u+="");if(!u)continue;if(typeof u=="string")if(!gt.test(u))u=t.createTextNode(u);else{y=y||lt(t),c=t.createElement("div"),y.appendChild(c),u=u.replace(dt,"<$1></$2>"),a=(vt.exec(u)||["",""])[1].toLowerCase(),f=Nt[a]||Nt._default,l=f[0],c.innerHTML=f[1]+u+f[2];while(l--)c=c.lastChild;if(!v.support.tbody){h=mt.test(u),p=a==="table"&&!h?c.firstChild&&c.firstChild.childNodes:f[1]==="<table>"&&!h?c.childNodes:[];for(o=p.length-1;o>=0;--o)v.nodeName(p[o],"tbody")&&!p[o].childNodes.length&&p[o].parentNode.removeChild(p[o])}!v.support.leadingWhitespace&&pt.test(u)&&c.insertBefore(t.createTextNode(pt.exec(u)[0]),c.firstChild),u=c.childNodes,c.parentNode.removeChild(c)}u.nodeType?b.push(u):v.merge(b,u)}c&&(u=c=y=null);if(!v.support.appendChecked)for(s=0;(u=b[s])!=null;s++)v.nodeName(u,"input")?_t(u):typeof u.getElementsByTagName!="undefined"&&v.grep(u.getElementsByTagName("input"),_t);if(n){m=function(e){if(!e.type||xt.test(e.type))return r?r.push(e.parentNode?e.parentNode.removeChild(e):e):n.appendChild(e)};for(s=0;(u=b[s])!=null;s++)if(!v.nodeName(u,"script")||!m(u))n.appendChild(u),typeof u.getElementsByTagName!="undefined"&&(g=v.grep(v.merge([],u.getElementsByTagName("script")),m),b.splice.apply(b,[s+1,0].concat(g)),s+=g.length)}return b},cleanData:function(e,t){var n,r,i,s,o=0,u=v.expando,a=v.cache,f=v.support.deleteExpando,l=v.event.special;for(;(i=e[o])!=null;o++)if(t||v.acceptData(i)){r=i[u],n=r&&a[r];if(n){if(n.events)for(s in n.events)l[s]?v.event.remove(i,s):v.removeEvent(i,s,n.handle);a[r]&&(delete a[r],f?delete i[u]:i.removeAttribute?i.removeAttribute(u):i[u]=null,v.deletedIds.push(r))}}}}),function(){var e,t;v.uaMatch=function(e){e=e.toLowerCase();var t=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:t[1]||"",version:t[2]||"0"}},e=v.uaMatch(o.userAgent),t={},e.browser&&(t[e.browser]=!0,t.version=e.version),t.chrome?t.webkit=!0:t.webkit&&(t.safari=!0),v.browser=t,v.sub=function(){function e(t,n){return new e.fn.init(t,n)}v.extend(!0,e,this),e.superclass=this,e.fn=e.prototype=this(),e.fn.constructor=e,e.sub=this.sub,e.fn.init=function(r,i){return i&&i instanceof v&&!(i instanceof e)&&(i=e(i)),v.fn.init.call(this,r,i,t)},e.fn.init.prototype=e.fn;var t=e(i);return e}}();var Dt,Pt,Ht,Bt=/alpha\([^)]*\)/i,jt=/opacity=([^)]*)/,Ft=/^(top|right|bottom|left)$/,It=/^(none|table(?!-c[ea]).+)/,qt=/^margin/,Rt=new RegExp("^("+m+")(.*)$","i"),Ut=new RegExp("^("+m+")(?!px)[a-z%]+$","i"),zt=new RegExp("^([-+])=("+m+")","i"),Wt={},Xt={position:"absolute",visibility:"hidden",display:"block"},Vt={letterSpacing:0,fontWeight:400},$t=["Top","Right","Bottom","Left"],Jt=["Webkit","O","Moz","ms"],Kt=v.fn.toggle;v.fn.extend({css:function(e,n){return v.access(this,function(e,n,r){return r!==t?v.style(e,n,r):v.css(e,n)},e,n,arguments.length>1)},show:function(){return Yt(this,!0)},hide:function(){return Yt(this)},toggle:function(e,t){var n=typeof e=="boolean";return v.isFunction(e)&&v.isFunction(t)?Kt.apply(this,arguments):this.each(function(){(n?e:Gt(this))?v(this).show():v(this).hide()})}}),v.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Dt(e,"opacity");return n===""?"1":n}}}},cssNumber:{fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":v.support.cssFloat?"cssFloat":"styleFloat"},style:function(e,n,r,i){if(!e||e.nodeType===3||e.nodeType===8||!e.style)return;var s,o,u,a=v.camelCase(n),f=e.style;n=v.cssProps[a]||(v.cssProps[a]=Qt(f,a)),u=v.cssHooks[n]||v.cssHooks[a];if(r===t)return u&&"get"in u&&(s=u.get(e,!1,i))!==t?s:f[n];o=typeof r,o==="string"&&(s=zt.exec(r))&&(r=(s[1]+1)*s[2]+parseFloat(v.css(e,n)),o="number");if(r==null||o==="number"&&isNaN(r))return;o==="number"&&!v.cssNumber[a]&&(r+="px");if(!u||!("set"in u)||(r=u.set(e,r,i))!==t)try{f[n]=r}catch(l){}},css:function(e,n,r,i){var s,o,u,a=v.camelCase(n);return n=v.cssProps[a]||(v.cssProps[a]=Qt(e.style,a)),u=v.cssHooks[n]||v.cssHooks[a],u&&"get"in u&&(s=u.get(e,!0,i)),s===t&&(s=Dt(e,n)),s==="normal"&&n in Vt&&(s=Vt[n]),r||i!==t?(o=parseFloat(s),r||v.isNumeric(o)?o||0:s):s},swap:function(e,t,n){var r,i,s={};for(i in t)s[i]=e.style[i],e.style[i]=t[i];r=n.call(e);for(i in t)e.style[i]=s[i];return r}}),e.getComputedStyle?Dt=function(t,n){var r,i,s,o,u=e.getComputedStyle(t,null),a=t.style;return u&&(r=u[n],r===""&&!v.contains(t.ownerDocument,t)&&(r=v.style(t,n)),Ut.test(r)&&qt.test(n)&&(i=a.width,s=a.minWidth,o=a.maxWidth,a.minWidth=a.maxWidth=a.width=r,r=u.width,a.width=i,a.minWidth=s,a.maxWidth=o)),r}:i.documentElement.currentStyle&&(Dt=function(e,t){var n,r,i=e.currentStyle&&e.currentStyle[t],s=e.style;return i==null&&s&&s[t]&&(i=s[t]),Ut.test(i)&&!Ft.test(t)&&(n=s.left,r=e.runtimeStyle&&e.runtimeStyle.left,r&&(e.runtimeStyle.left=e.currentStyle.left),s.left=t==="fontSize"?"1em":i,i=s.pixelLeft+"px",s.left=n,r&&(e.runtimeStyle.left=r)),i===""?"auto":i}),v.each(["height","width"],function(e,t){v.cssHooks[t]={get:function(e,n,r){if(n)return e.offsetWidth===0&&It.test(Dt(e,"display"))?v.swap(e,Xt,function(){return tn(e,t,r)}):tn(e,t,r)},set:function(e,n,r){return Zt(e,n,r?en(e,t,r,v.support.boxSizing&&v.css(e,"boxSizing")==="border-box"):0)}}}),v.support.opacity||(v.cssHooks.opacity={get:function(e,t){return jt.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var n=e.style,r=e.currentStyle,i=v.isNumeric(t)?"alpha(opacity="+t*100+")":"",s=r&&r.filter||n.filter||"";n.zoom=1;if(t>=1&&v.trim(s.replace(Bt,""))===""&&n.removeAttribute){n.removeAttribute("filter");if(r&&!r.filter)return}n.filter=Bt.test(s)?s.replace(Bt,i):s+" "+i}}),v(function(){v.support.reliableMarginRight||(v.cssHooks.marginRight={get:function(e,t){return v.swap(e,{display:"inline-block"},function(){if(t)return Dt(e,"marginRight")})}}),!v.support.pixelPosition&&v.fn.position&&v.each(["top","left"],function(e,t){v.cssHooks[t]={get:function(e,n){if(n){var r=Dt(e,t);return Ut.test(r)?v(e).position()[t]+"px":r}}}})}),v.expr&&v.expr.filters&&(v.expr.filters.hidden=function(e){return e.offsetWidth===0&&e.offsetHeight===0||!v.support.reliableHiddenOffsets&&(e.style&&e.style.display||Dt(e,"display"))==="none"},v.expr.filters.visible=function(e){return!v.expr.filters.hidden(e)}),v.each({margin:"",padding:"",border:"Width"},function(e,t){v.cssHooks[e+t]={expand:function(n){var r,i=typeof n=="string"?n.split(" "):[n],s={};for(r=0;r<4;r++)s[e+$t[r]+t]=i[r]||i[r-2]||i[0];return s}},qt.test(e)||(v.cssHooks[e+t].set=Zt)});var rn=/%20/g,sn=/\[\]$/,on=/\r?\n/g,un=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,an=/^(?:select|textarea)/i;v.fn.extend({serialize:function(){return v.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?v.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||an.test(this.nodeName)||un.test(this.type))}).map(function(e,t){var n=v(this).val();return n==null?null:v.isArray(n)?v.map(n,function(e,n){return{name:t.name,value:e.replace(on,"\r\n")}}):{name:t.name,value:n.replace(on,"\r\n")}}).get()}}),v.param=function(e,n){var r,i=[],s=function(e,t){t=v.isFunction(t)?t():t==null?"":t,i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};n===t&&(n=v.ajaxSettings&&v.ajaxSettings.traditional);if(v.isArray(e)||e.jquery&&!v.isPlainObject(e))v.each(e,function(){s(this.name,this.value)});else for(r in e)fn(r,e[r],n,s);return i.join("&").replace(rn,"+")};var ln,cn,hn=/#.*$/,pn=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,dn=/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/,vn=/^(?:GET|HEAD)$/,mn=/^\/\//,gn=/\?/,yn=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,bn=/([?&])_=[^&]*/,wn=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,En=v.fn.load,Sn={},xn={},Tn=["*/"]+["*"];try{cn=s.href}catch(Nn){cn=i.createElement("a"),cn.href="",cn=cn.href}ln=wn.exec(cn.toLowerCase())||[],v.fn.load=function(e,n,r){if(typeof e!="string"&&En)return En.apply(this,arguments);if(!this.length)return this;var i,s,o,u=this,a=e.indexOf(" ");return a>=0&&(i=e.slice(a,e.length),e=e.slice(0,a)),v.isFunction(n)?(r=n,n=t):n&&typeof n=="object"&&(s="POST"),v.ajax({url:e,type:s,dataType:"html",data:n,complete:function(e,t){r&&u.each(r,o||[e.responseText,t,e])}}).done(function(e){o=arguments,u.html(i?v("<div>").append(e.replace(yn,"")).find(i):e)}),this},v.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(e,t){v.fn[t]=function(e){return this.on(t,e)}}),v.each(["get","post"],function(e,n){v[n]=function(e,r,i,s){return v.isFunction(r)&&(s=s||i,i=r,r=t),v.ajax({type:n,url:e,data:r,success:i,dataType:s})}}),v.extend({getScript:function(e,n){return v.get(e,t,n,"script")},getJSON:function(e,t,n){return v.get(e,t,n,"json")},ajaxSetup:function(e,t){return t?Ln(e,v.ajaxSettings):(t=e,e=v.ajaxSettings),Ln(e,t),e},ajaxSettings:{url:cn,isLocal:dn.test(ln[1]),global:!0,type:"GET",contentType:"application/x-www-form-urlencoded; charset=UTF-8",processData:!0,async:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":Tn},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":e.String,"text html":!0,"text json":v.parseJSON,"text xml":v.parseXML},flatOptions:{context:!0,url:!0}},ajaxPrefilter:Cn(Sn),ajaxTransport:Cn(xn),ajax:function(e,n){function T(e,n,s,a){var l,y,b,w,S,T=n;if(E===2)return;E=2,u&&clearTimeout(u),o=t,i=a||"",x.readyState=e>0?4:0,s&&(w=An(c,x,s));if(e>=200&&e<300||e===304)c.ifModified&&(S=x.getResponseHeader("Last-Modified"),S&&(v.lastModified[r]=S),S=x.getResponseHeader("Etag"),S&&(v.etag[r]=S)),e===304?(T="notmodified",l=!0):(l=On(c,w),T=l.state,y=l.data,b=l.error,l=!b);else{b=T;if(!T||e)T="error",e<0&&(e=0)}x.status=e,x.statusText=(n||T)+"",l?d.resolveWith(h,[y,T,x]):d.rejectWith(h,[x,T,b]),x.statusCode(g),g=t,f&&p.trigger("ajax"+(l?"Success":"Error"),[x,c,l?y:b]),m.fireWith(h,[x,T]),f&&(p.trigger("ajaxComplete",[x,c]),--v.active||v.event.trigger("ajaxStop"))}typeof e=="object"&&(n=e,e=t),n=n||{};var r,i,s,o,u,a,f,l,c=v.ajaxSetup({},n),h=c.context||c,p=h!==c&&(h.nodeType||h instanceof v)?v(h):v.event,d=v.Deferred(),m=v.Callbacks("once memory"),g=c.statusCode||{},b={},w={},E=0,S="canceled",x={readyState:0,setRequestHeader:function(e,t){if(!E){var n=e.toLowerCase();e=w[n]=w[n]||e,b[e]=t}return this},getAllResponseHeaders:function(){return E===2?i:null},getResponseHeader:function(e){var n;if(E===2){if(!s){s={};while(n=pn.exec(i))s[n[1].toLowerCase()]=n[2]}n=s[e.toLowerCase()]}return n===t?null:n},overrideMimeType:function(e){return E||(c.mimeType=e),this},abort:function(e){return e=e||S,o&&o.abort(e),T(0,e),this}};d.promise(x),x.success=x.done,x.error=x.fail,x.complete=m.add,x.statusCode=function(e){if(e){var t;if(E<2)for(t in e)g[t]=[g[t],e[t]];else t=e[x.status],x.always(t)}return this},c.url=((e||c.url)+"").replace(hn,"").replace(mn,ln[1]+"//"),c.dataTypes=v.trim(c.dataType||"*").toLowerCase().split(y),c.crossDomain==null&&(a=wn.exec(c.url.toLowerCase())||!1,c.crossDomain=a&&a.join(":")+(a[3]?"":a[1]==="http:"?80:443)!==ln.join(":")+(ln[3]?"":ln[1]==="http:"?80:443)),c.data&&c.processData&&typeof c.data!="string"&&(c.data=v.param(c.data,c.traditional)),kn(Sn,c,n,x);if(E===2)return x;f=c.global,c.type=c.type.toUpperCase(),c.hasContent=!vn.test(c.type),f&&v.active++===0&&v.event.trigger("ajaxStart");if(!c.hasContent){c.data&&(c.url+=(gn.test(c.url)?"&":"?")+c.data,delete c.data),r=c.url;if(c.cache===!1){var N=v.now(),C=c.url.replace(bn,"$1_="+N);c.url=C+(C===c.url?(gn.test(c.url)?"&":"?")+"_="+N:"")}}(c.data&&c.hasContent&&c.contentType!==!1||n.contentType)&&x.setRequestHeader("Content-Type",c.contentType),c.ifModified&&(r=r||c.url,v.lastModified[r]&&x.setRequestHeader("If-Modified-Since",v.lastModified[r]),v.etag[r]&&x.setRequestHeader("If-None-Match",v.etag[r])),x.setRequestHeader("Accept",c.dataTypes[0]&&c.accepts[c.dataTypes[0]]?c.accepts[c.dataTypes[0]]+(c.dataTypes[0]!=="*"?", "+Tn+"; q=0.01":""):c.accepts["*"]);for(l in c.headers)x.setRequestHeader(l,c.headers[l]);if(!c.beforeSend||c.beforeSend.call(h,x,c)!==!1&&E!==2){S="abort";for(l in{success:1,error:1,complete:1})x[l](c[l]);o=kn(xn,c,n,x);if(!o)T(-1,"No Transport");else{x.readyState=1,f&&p.trigger("ajaxSend",[x,c]),c.async&&c.timeout>0&&(u=setTimeout(function(){x.abort("timeout")},c.timeout));try{E=1,o.send(b,T)}catch(k){if(!(E<2))throw k;T(-1,k)}}return x}return x.abort()},active:0,lastModified:{},etag:{}});var Mn=[],_n=/\?/,Dn=/(=)\?(?=&|$)|\?\?/,Pn=v.now();v.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Mn.pop()||v.expando+"_"+Pn++;return this[e]=!0,e}}),v.ajaxPrefilter("json jsonp",function(n,r,i){var s,o,u,a=n.data,f=n.url,l=n.jsonp!==!1,c=l&&Dn.test(f),h=l&&!c&&typeof a=="string"&&!(n.contentType||"").indexOf("application/x-www-form-urlencoded")&&Dn.test(a);if(n.dataTypes[0]==="jsonp"||c||h)return s=n.jsonpCallback=v.isFunction(n.jsonpCallback)?n.jsonpCallback():n.jsonpCallback,o=e[s],c?n.url=f.replace(Dn,"$1"+s):h?n.data=a.replace(Dn,"$1"+s):l&&(n.url+=(_n.test(f)?"&":"?")+n.jsonp+"="+s),n.converters["script json"]=function(){return u||v.error(s+" was not called"),u[0]},n.dataTypes[0]="json",e[s]=function(){u=arguments},i.always(function(){e[s]=o,n[s]&&(n.jsonpCallback=r.jsonpCallback,Mn.push(s)),u&&v.isFunction(o)&&o(u[0]),u=o=t}),"script"}),v.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(e){return v.globalEval(e),e}}}),v.ajaxPrefilter("script",function(e){e.cache===t&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),v.ajaxTransport("script",function(e){if(e.crossDomain){var n,r=i.head||i.getElementsByTagName("head")[0]||i.documentElement;return{send:function(s,o){n=i.createElement("script"),n.async="async",e.scriptCharset&&(n.charset=e.scriptCharset),n.src=e.url,n.onload=n.onreadystatechange=function(e,i){if(i||!n.readyState||/loaded|complete/.test(n.readyState))n.onload=n.onreadystatechange=null,r&&n.parentNode&&r.removeChild(n),n=t,i||o(200,"success")},r.insertBefore(n,r.firstChild)},abort:function(){n&&n.onload(0,1)}}}});var Hn,Bn=e.ActiveXObject?function(){for(var e in Hn)Hn[e](0,1)}:!1,jn=0;v.ajaxSettings.xhr=e.ActiveXObject?function(){return!this.isLocal&&Fn()||In()}:Fn,function(e){v.extend(v.support,{ajax:!!e,cors:!!e&&"withCredentials"in e})}(v.ajaxSettings.xhr()),v.support.ajax&&v.ajaxTransport(function(n){if(!n.crossDomain||v.support.cors){var r;return{send:function(i,s){var o,u,a=n.xhr();n.username?a.open(n.type,n.url,n.async,n.username,n.password):a.open(n.type,n.url,n.async);if(n.xhrFields)for(u in n.xhrFields)a[u]=n.xhrFields[u];n.mimeType&&a.overrideMimeType&&a.overrideMimeType(n.mimeType),!n.crossDomain&&!i["X-Requested-With"]&&(i["X-Requested-With"]="XMLHttpRequest");try{for(u in i)a.setRequestHeader(u,i[u])}catch(f){}a.send(n.hasContent&&n.data||null),r=function(e,i){var u,f,l,c,h;try{if(r&&(i||a.readyState===4)){r=t,o&&(a.onreadystatechange=v.noop,Bn&&delete Hn[o]);if(i)a.readyState!==4&&a.abort();else{u=a.status,l=a.getAllResponseHeaders(),c={},h=a.responseXML,h&&h.documentElement&&(c.xml=h);try{c.text=a.responseText}catch(e){}try{f=a.statusText}catch(p){f=""}!u&&n.isLocal&&!n.crossDomain?u=c.text?200:404:u===1223&&(u=204)}}}catch(d){i||s(-1,d)}c&&s(u,f,c,l)},n.async?a.readyState===4?setTimeout(r,0):(o=++jn,Bn&&(Hn||(Hn={},v(e).unload(Bn)),Hn[o]=r),a.onreadystatechange=r):r()},abort:function(){r&&r(0,1)}}}});var qn,Rn,Un=/^(?:toggle|show|hide)$/,zn=new RegExp("^(?:([-+])=|)("+m+")([a-z%]*)$","i"),Wn=/queueHooks$/,Xn=[Gn],Vn={"*":[function(e,t){var n,r,i=this.createTween(e,t),s=zn.exec(t),o=i.cur(),u=+o||0,a=1,f=20;if(s){n=+s[2],r=s[3]||(v.cssNumber[e]?"":"px");if(r!=="px"&&u){u=v.css(i.elem,e,!0)||n||1;do a=a||".5",u/=a,v.style(i.elem,e,u+r);while(a!==(a=i.cur()/o)&&a!==1&&--f)}i.unit=r,i.start=u,i.end=s[1]?u+(s[1]+1)*n:n}return i}]};v.Animation=v.extend(Kn,{tweener:function(e,t){v.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");var n,r=0,i=e.length;for(;r<i;r++)n=e[r],Vn[n]=Vn[n]||[],Vn[n].unshift(t)},prefilter:function(e,t){t?Xn.unshift(e):Xn.push(e)}}),v.Tween=Yn,Yn.prototype={constructor:Yn,init:function(e,t,n,r,i,s){this.elem=e,this.prop=n,this.easing=i||"swing",this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=s||(v.cssNumber[n]?"":"px")},cur:function(){var e=Yn.propHooks[this.prop];return e&&e.get?e.get(this):Yn.propHooks._default.get(this)},run:function(e){var t,n=Yn.propHooks[this.prop];return this.options.duration?this.pos=t=v.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):Yn.propHooks._default.set(this),this}},Yn.prototype.init.prototype=Yn.prototype,Yn.propHooks={_default:{get:function(e){var t;return e.elem[e.prop]==null||!!e.elem.style&&e.elem.style[e.prop]!=null?(t=v.css(e.elem,e.prop,!1,""),!t||t==="auto"?0:t):e.elem[e.prop]},set:function(e){v.fx.step[e.prop]?v.fx.step[e.prop](e):e.elem.style&&(e.elem.style[v.cssProps[e.prop]]!=null||v.cssHooks[e.prop])?v.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},Yn.propHooks.scrollTop=Yn.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},v.each(["toggle","show","hide"],function(e,t){var n=v.fn[t];v.fn[t]=function(r,i,s){return r==null||typeof r=="boolean"||!e&&v.isFunction(r)&&v.isFunction(i)?n.apply(this,arguments):this.animate(Zn(t,!0),r,i,s)}}),v.fn.extend({fadeTo:function(e,t,n,r){return this.filter(Gt).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=v.isEmptyObject(e),s=v.speed(t,n,r),o=function(){var t=Kn(this,v.extend({},e),s);i&&t.stop(!0)};return i||s.queue===!1?this.each(o):this.queue(s.queue,o)},stop:function(e,n,r){var i=function(e){var t=e.stop;delete e.stop,t(r)};return typeof e!="string"&&(r=n,n=e,e=t),n&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,n=e!=null&&e+"queueHooks",s=v.timers,o=v._data(this);if(n)o[n]&&o[n].stop&&i(o[n]);else for(n in o)o[n]&&o[n].stop&&Wn.test(n)&&i(o[n]);for(n=s.length;n--;)s[n].elem===this&&(e==null||s[n].queue===e)&&(s[n].anim.stop(r),t=!1,s.splice(n,1));(t||!r)&&v.dequeue(this,e)})}}),v.each({slideDown:Zn("show"),slideUp:Zn("hide"),slideToggle:Zn("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){v.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),v.speed=function(e,t,n){var r=e&&typeof e=="object"?v.extend({},e):{complete:n||!n&&t||v.isFunction(e)&&e,duration:e,easing:n&&t||t&&!v.isFunction(t)&&t};r.duration=v.fx.off?0:typeof r.duration=="number"?r.duration:r.duration in v.fx.speeds?v.fx.speeds[r.duration]:v.fx.speeds._default;if(r.queue==null||r.queue===!0)r.queue="fx";return r.old=r.complete,r.complete=function(){v.isFunction(r.old)&&r.old.call(this),r.queue&&v.dequeue(this,r.queue)},r},v.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},v.timers=[],v.fx=Yn.prototype.init,v.fx.tick=function(){var e,t=v.timers,n=0;for(;n<t.length;n++)e=t[n],!e()&&t[n]===e&&t.splice(n--,1);t.length||v.fx.stop()},v.fx.timer=function(e){e()&&v.timers.push(e)&&!Rn&&(Rn=setInterval(v.fx.tick,v.fx.interval))},v.fx.interval=13,v.fx.stop=function(){clearInterval(Rn),Rn=null},v.fx.speeds={slow:600,fast:200,_default:400},v.fx.step={},v.expr&&v.expr.filters&&(v.expr.filters.animated=function(e){return v.grep(v.timers,function(t){return e===t.elem}).length});var er=/^(?:body|html)$/i;v.fn.offset=function(e){if(arguments.length)return e===t?this:this.each(function(t){v.offset.setOffset(this,e,t)});var n,r,i,s,o,u,a,f={top:0,left:0},l=this[0],c=l&&l.ownerDocument;if(!c)return;return(r=c.body)===l?v.offset.bodyOffset(l):(n=c.documentElement,v.contains(n,l)?(typeof l.getBoundingClientRect!="undefined"&&(f=l.getBoundingClientRect()),i=tr(c),s=n.clientTop||r.clientTop||0,o=n.clientLeft||r.clientLeft||0,u=i.pageYOffset||n.scrollTop,a=i.pageXOffset||n.scrollLeft,{top:f.top+u-s,left:f.left+a-o}):f)},v.offset={bodyOffset:function(e){var t=e.offsetTop,n=e.offsetLeft;return v.support.doesNotIncludeMarginInBodyOffset&&(t+=parseFloat(v.css(e,"marginTop"))||0,n+=parseFloat(v.css(e,"marginLeft"))||0),{top:t,left:n}},setOffset:function(e,t,n){var r=v.css(e,"position");r==="static"&&(e.style.position="relative");var i=v(e),s=i.offset(),o=v.css(e,"top"),u=v.css(e,"left"),a=(r==="absolute"||r==="fixed")&&v.inArray("auto",[o,u])>-1,f={},l={},c,h;a?(l=i.position(),c=l.top,h=l.left):(c=parseFloat(o)||0,h=parseFloat(u)||0),v.isFunction(t)&&(t=t.call(e,n,s)),t.top!=null&&(f.top=t.top-s.top+c),t.left!=null&&(f.left=t.left-s.left+h),"using"in t?t.using.call(e,f):i.css(f)}},v.fn.extend({position:function(){if(!this[0])return;var e=this[0],t=this.offsetParent(),n=this.offset(),r=er.test(t[0].nodeName)?{top:0,left:0}:t.offset();return n.top-=parseFloat(v.css(e,"marginTop"))||0,n.left-=parseFloat(v.css(e,"marginLeft"))||0,r.top+=parseFloat(v.css(t[0],"borderTopWidth"))||0,r.left+=parseFloat(v.css(t[0],"borderLeftWidth"))||0,{top:n.top-r.top,left:n.left-r.left}},offsetParent:function(){return this.map(function(){var e=this.offsetParent||i.body;while(e&&!er.test(e.nodeName)&&v.css(e,"position")==="static")e=e.offsetParent;return e||i.body})}}),v.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,n){var r=/Y/.test(n);v.fn[e]=function(i){return v.access(this,function(e,i,s){var o=tr(e);if(s===t)return o?n in o?o[n]:o.document.documentElement[i]:e[i];o?o.scrollTo(r?v(o).scrollLeft():s,r?s:v(o).scrollTop()):e[i]=s},e,i,arguments.length,null)}}),v.each({Height:"height",Width:"width"},function(e,n){v.each({padding:"inner"+e,content:n,"":"outer"+e},function(r,i){v.fn[i]=function(i,s){var o=arguments.length&&(r||typeof i!="boolean"),u=r||(i===!0||s===!0?"margin":"border");return v.access(this,function(n,r,i){var s;return v.isWindow(n)?n.document.documentElement["client"+e]:n.nodeType===9?(s=n.documentElement,Math.max(n.body["scroll"+e],s["scroll"+e],n.body["offset"+e],s["offset"+e],s["client"+e])):i===t?v.css(n,r,i,u):v.style(n,r,i,u)},n,o?i:t,o,null)}})}),e.jQuery=e.$=v,typeof define=="function"&&define.amd&&define.amd.jQuery&&define("jquery",[],function(){return v})})(window)
;
DomUtils={},function(){var e=function(e,t){if(!document.querySelectorAll)throw new Error("This browser doesn't support querySelectorAll.");var n=t;return p(t,"DomUtils_findAllBySelector_scope",function(t){var r=_.map(e.split(","),function(e){return t+" "+e}).join(",");return n.querySelectorAll(r)})},t=window.Sizzle||window.jQuery&&window.jQuery.find||e,n=document.createElement("div");n.innerHTML="   <link/><table></table><select><!----></select>";var r=document.createElement("div");r.innerHTML="<select><option selected>Foo</option></select>",r.firstChild.setAttribute("name","myname");var i={leadingWhitespaceKilled:n.firstChild.nodeType!==3,tbodyInsertion:n.getElementsByTagName("tbody").length>0,tagsLost:n.getElementsByTagName("link").length===0,commentsLost:!n.getElementsByTagName("select")[0].firstChild,selectValueMustBeFromAttribute:r.firstChild.value!=="Foo",mustSetNameInCreateElement:r.firstChild.outerHTML&&r.firstChild.outerHTML.indexOf("myname")===-1},s={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]};_.extend(s,{optgroup:s.option,tbody:s.thead,tfoot:s.thead,colgroup:s.thead,caption:s.thead,th:s.td}),i.tagsLost&&(s._default=[1,"div<div>","</div>"]);var o=/^\s+/,u=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,a=/<([\w:]+)/,f=/<tbody/i,l=/<|&#?\w+;/,c=/<(?:script|style)/i;DomUtils.htmlToFragment=function(e){var t=document,n=t.createDocumentFragment();if(!!e.length)if(!l.test(e))n.appendChild(t.createTextNode(e));else{e=e.replace(u,"<$1></$2>");var r=a.exec(e),c=r?r[1].toLowerCase():"",h=s[c]||s._default,p=h[1]+e+h[2];i.commentsLost&&(p=p.replace(/<\s*(select|option)\b/ig,'<ins domutilsrealtagname="$1"'),p=p.replace(/<\/\s*(select|option)\b/ig,"</ins"));var d=t.createElement("div");d.innerHTML=p;var v=h[0];while(v--)d=d.lastChild;if(i.tbodyInsertion&&!f.test(e)){var m=d.getElementsByTagName("tbody");_.each(m,function(e){e.firstChild||e.parentNode.removeChild(e)})}if(i.leadingWhitespaceKilled){var g=o.exec(e);g&&d.insertBefore(t.createTextNode(g[0]),d.firstChild)}if(i.commentsLost){var y=[];_.each(d.getElementsByTagName("ins"),function(e){e.getAttribute("domutilsrealtagname")&&y.push(e)}),_.each(y,function(e){var t=e.getAttribute("domutilsrealtagname");i.mustSetNameInCreateElement&&e.getAttribute("name")&&(t="<"+t+" name='"+_.escape(e.getAttribute("name"))+"'/>");var n=document.createElement(t);e.removeAttribute("domutilsrealtagname");var r=e.attributes;for(var s=0;s<r.length;++s){var o=r.item(s);if(o.specified){var u=o.name.toLowerCase(),a=String(o.value);u==="selected"&&a===""&&(a="selected"),n.setAttribute(u,a)}}while(e.firstChild)n.appendChild(e.firstChild);e.parentNode.replaceChild(n,e)})}while(d.firstChild)n.appendChild(d.firstChild)}return n},DomUtils.fragmentToHtml=function(e){return e=e.cloneNode(!0),DomUtils.fragmentToContainer(e).innerHTML},DomUtils.fragmentToContainer=function(e){var t=document,n=e.firstChild;while(n&&n.nodeType!==1)n=n.nextSibling;var r=t.createElement("div");if(!n)r.appendChild(e);else{var i=n.nodeName,o=s[i]||s._default;r.innerHTML=o[1]+o[2];var u=o[0];while(u--)r=r.lastChild;r.appendChild(e)}return r},DomUtils.elementContains=function(e,t){return e.nodeType!==1?!1:e===t?!1:e.compareDocumentPosition?e.compareDocumentPosition(t)&16:(t=t.parentNode,!t||t.nodeType!==1?!1:e===t?!0:e.contains(t))},DomUtils.findAll=function(e,n){if(e.nodeType===11){var r=e,i=DomUtils.fragmentToContainer(r),s=t(n,i);while(i.firstChild)r.appendChild(i.firstChild);return s}return t(n,e)},DomUtils.find=function(e,t){var n=DomUtils.findAll(e,t);return n.length?n[0]:null};var h=function(e,t,n){return DomUtils.elementContains(e,t)?!1:DomUtils.compareElementIndex(t,e)<=0&&DomUtils.compareElementIndex(e,n)<=0};DomUtils.findAllClipped=function(e,t,n,r){while(n!==r&&n.nodeType!==1)n=n.nextSibling;while(n!==r&&r.nodeType!==1)r=r.previousSibling;if(n.nodeType!==1)return[];var i=DomUtils.findAll(e,t);return _.reject(i,function(e){return!h(e,n,r)})},DomUtils.findClipped=function(e,t,n,r){var i=DomUtils.findAllClipped(e,t,n,r);return i.length?i[0]:null};var p=function(e,t,n){var r=!1;e.id||(e.setAttribute("id",t),r=!0);try{var i=e.id.replace(/'/g,"\\$&");return n("[id='"+i+"']")}finally{r&&e.removeAttribute("id")}},d=function(e,t,n,r,i){var s=n.split(",");for(var o=0,u=s.length;o<u;o++){var a=p(e,"DomUtils_matchesSelector_target",function(s){var o=n.match(/\S.*?(?=\s*$)/)[0],u=o+s,a;return r?a=DomUtils.findClipped(t,u,r,i):a=DomUtils.find(t,u),a===e});if(a)return!0}return!1};DomUtils.matchesSelector=function(e,t,n){return d(e,t,n)},DomUtils.matchesSelectorClipped=function(e,t,n,r,i){return d(e,t,n,r,i)},DomUtils.compareElementIndex=function(e,t){if(e===t)return 0;if(e.compareDocumentPosition){var n=e.compareDocumentPosition(t);return n&24?0:n&4?-1:1}return e.contains(t)||t.contains(e)?0:e.sourceIndex<t.sourceIndex?-1:1},DomUtils.wrapFragmentForContainer=function(e,t){if(t&&t.nodeName==="TABLE"&&_.any(e.childNodes,function(e){return e.nodeName==="TR"})){var n=document.createElement("TBODY");n.appendChild(e),e.appendChild(n)}},DomUtils.isInDocument=function(e){return e===document?!0:(e.nodeType!==1&&(e=e.parentNode),!e||e.nodeType!==1?!1:e===document.body?!0:DomUtils.elementContains(document.body,e))},DomUtils.rangeToHtml=function(e,t){var n=document.createDocumentFragment();for(var r=e,i=t.nextSibling;r&&r!==i;r=r.nextSibling)n.appendChild(r.cloneNode(!0));return DomUtils.fragmentToHtml(n)},DomUtils.outerHtml=function(e){return DomUtils.rangeToHtml(e,e)},DomUtils.setElementValue=function(e,t){e.value=t;if(e.value===t||e.nodeName!=="SELECT")return;var n=DomUtils.findAll(e,"option");for(var r=0;r<n.length;++r)if(DomUtils.getElementValue(n[r])===t){n[r].selected=!0;return}},DomUtils.getElementValue=function(e){if(!i.selectValueMustBeFromAttribute)return e.value;if(e.nodeName==="OPTION"){var t=e.attributes.value;return!t||t.specified?e.value:e.text}return e.nodeName==="SELECT"?e.selectedIndex<0?null:DomUtils.getElementValue(e.options[e.selectedIndex]):e.value}}()
;
(function(){var e=function(){var e=document.createTextNode(""),t;try{e.test=123}catch(t){}return e.test!==123?!1:document.documentMode?!1:!0}(),t=function(t,n){if(e)return[t,n];if(t.nodeType===3){var r=document.createComment("IE");t.parentNode.insertBefore(r,t),t=r}if(n.nodeType===3){var r=document.createComment("IE");n.parentNode.insertBefore(r,n.nextSibling),n=r}return[t,n]};LiveRange=function(e,r,i,s){if(r.nodeType===11)i=r.lastChild,r=r.firstChild;else if(!r.parentNode)throw new Error("LiveRange start and end must have a parent");i=i||r,this.tag=e;var o=t(r,i);r=this._ensureTag(o[0]),i=this._ensureTag(o[1]);var u=n(r[e][0],!0,i,r,s),a=n(i[e][1],!1,r,i,s);this._insertEntries(r,0,u,[this]),this._insertEntries(i,1,a,[this])};var n=function(e,t,n,r,i){var s,o=t?n.parentNode.lastChild:r,u=t?!i:i;for(var a=0,f=o;a<=e.length;a++){var l=e[a],c=l&&(t?l._end:l._start);while(f!==c&&f!==n)f=f.previousSibling;if(c===n){s=a;if(u)break}else if(f===n){s=a;break}}return s};LiveRange.prototype._ensureTag=function(e){return this.tag in e||(e[this.tag]=[[],[]]),e};var r=function(){var e=document.createElement("DIV"),t,n=!1;try{e.test=12,delete e.test,n=!0}catch(t){}return n}();LiveRange._cleanNode=function(e,t,n){var i=t[e];i&&(!(i[0].length+i[1].length)||n)&&(r?delete t[e]:t.removeAttribute(e))},LiveRange.prototype.destroy=function(e){var t=this;if(e){this.visit(function(e,t){e&&(t._start=null,t._end=null)},function(e,n){if(!e)for(var r=n.firstChild;r;r=r.nextSibling)LiveRange._cleanNode(t.tag,r,!0)}),this._removeEntries(this._start,0,this._startIndex),this._removeEntries(this._end,1,0,this._endIndex+1);if(this._start!==this._end){for(var n=this._start.nextSibling;n!==this._end;n=n.nextSibling)LiveRange._cleanNode(t.tag,n,!0);this._start[t.tag]&&this._removeEntries(this._start,1),this._end[t.tag]&&this._removeEntries(this._end,0)}this._start=this._end=null}else this._removeEntries(this._start,0,this._startIndex,this._startIndex+1),this._removeEntries(this._end,1,this._endIndex,this._endIndex+1),this._start=this._end=null},LiveRange.prototype.firstNode=function(){return this._start},LiveRange.prototype.lastNode=function(){return this._end},LiveRange.prototype.containerNode=function(){return this._start.parentNode},LiveRange.prototype.visit=function(e,t){e=e||function(){},t=t||function(){};var n=this.tag,r=function(i,s,o){var u=o||0,a=s.nextSibling;for(var f=i;f&&f!==a;f=f.nextSibling){var l=f[n]&&f[n][0];if(l&&u<l.length){var c=l[u],h=c._start,p=c._end;e(!0,c)!==!1&&r(h,p,u+1),e(!1,c),f=p}else t(!0,f)!==!1&&f.firstChild&&r(f.firstChild,f.lastChild),t(!1,f);u=0}};r(this._start,this._end,this._startIndex+1)},LiveRange.prototype._removeEntries=function(e,t,n,r){var i=e[this.tag][t];n=n||0,r=r||r===0?r:i.length;var s=i.splice(n,r-n);for(var o=n;o<i.length;o++)t?i[o]._endIndex=o:i[o]._startIndex=o;return i.length||LiveRange._cleanNode(this.tag,e),s},LiveRange.prototype._insertEntries=function(e,t,n,r){var i=e[this.tag][t];Array.prototype.splice.apply(i,[n,0].concat(r));for(var s=n;s<i.length;s++)t?(i[s]._end=e,i[s]._endIndex=s):(i[s]._start=e,i[s]._startIndex=s)},LiveRange.prototype.replaceContents=function(e){if(!e.firstChild)throw new Error("replaceContents requires non-empty fragment");return this.operate(function(t,n){t.parentNode.insertBefore(e,t);var r=t.ownerDocument.createDocumentFragment(),i=t;for(;;){var s=i.nextSibling;r.appendChild(i);if(i===n)break;i=s;if(!i)throw new Error("LiveRanges must begin and end on siblings in order")}return r})},LiveRange.prototype.operate=function(e){var n=this._start,r=this._end,i=this._removeEntries(n,0,0,this._startIndex+1),s=this._removeEntries(r,1,this._endIndex),o=n.parentNode,u=n.previousSibling,a=r.nextSibling,f=null;f=e(n,r);var l=u?u.nextSibling:o.firstChild,c=a?a.previousSibling:o.lastChild;if(!l||l===a)throw new Error("Ranges must contain at least one element");var h=t(l,c);return l=this._ensureTag(h[0]),c=this._ensureTag(h[1]),this._insertEntries(l,0,0,i),this._insertEntries(c,1,c[this.tag][1].length,s),f},LiveRange.transplantTag=function(e,t,n){if(!n[e])return;t[e]=n[e],n[e]=null;var r=t[e][0],i=t[e][1];for(var s=0;s<r.length;s++)r[s]._start=t;for(var s=0;s<i.length;s++)i[s]._end=t},LiveRange.transplantRange=function(e,t,n){n._ensureTag(e),t!==e&&n._ensureTag(t),n._insertEntries(e,0,0,n._start[n.tag][0].slice(0,n._startIndex+1)),n._insertEntries(t,1,0,n._end[n.tag][1].slice(n._endIndex))},LiveRange.prototype.insertBefore=function(e){var t=e.firstChild;if(!t)return;this._start.parentNode.insertBefore(e,this._start),this._ensureTag(t),this._insertEntries(t,0,0,this._removeEntries(this._start,0,0,this._startIndex))},LiveRange.prototype.insertAfter=function(e){var t=e.lastChild;if(!t)return;this._end.parentNode.insertBefore(e,this._end.nextSibling),this._ensureTag(t),this._insertEntries(t,1,t[this.tag][1].length,this._removeEntries(this._end,1,this._endIndex+1))},LiveRange.prototype.extract=function(){if(this._startIndex>0&&this._start[this.tag][0][this._startIndex-1]._end===this._end)return null;var e=this._start.previousSibling,t=this._end.nextSibling,n=this._start.parentNode;this._startIndex>0&&(this._ensureTag(t),this._insertEntries(t,0,0,this._removeEntries(this._start,0,0,this._startIndex))),this._endIndex<this._end[this.tag][1].length-1&&(this._ensureTag(e),this._insertEntries(e,1,e[this.tag][1].length,this._removeEntries(this._end,1,this._endIndex+1)));var r=document.createDocumentFragment();for(var i;i=e?e.nextSibling:n.firstChild,i&&i!==t;)r.appendChild(i);return r},LiveRange.prototype.findParent=function(e){var t=i(this.tag,this._end,this._endIndex);return t?t:e?null:LiveRange.findRange(this.tag,this.containerNode())},LiveRange.findRange=function(e,t){var n=i(e,t);return n?n:t.parentNode?LiveRange.findRange(e,t.parentNode):null};var i=function(e,t,n){typeof n=="undefined"&&(n=-1);if(t[e]&&n+1<t[e][1].length)return t[e][1][n+1];var r=t.nextSibling;while(r){var n=0,i=r[e]&&r[e][0];if(i&&i.length){var s=i[0];r=s._end,n=s._endIndex+1}if(r[e]&&n<r[e][1].length)return r[e][1][n];r=r.nextSibling}return null}})()
;
(function(){var e=[],t=function(){return!1},n=function(){return!0},r=function(e){var r=e.stopPropagation,i=e.preventDefault;e.isPropagationStopped=t,e.isImmediatePropagationStopped=t,e.isDefaultPrevented=t,e.stopPropagation=function(){e.isPropagationStopped=n,r?r.call(e):e.cancelBubble=!0},e.preventDefault=function(){e.isDefaultPrevented=n,i?i.call(e):e.returnValue=!1},e.stopImmediatePropagation=function(){e.stopPropagation(),e.isImmediatePropagationStopped=n};var s=e.type;e.metaKey===undefined&&(e.metaKey=e.ctrlKey);if(/^key/.test(s))e.which==null&&(e.which=e.charCode!=null?e.charCode:e.keyCode);else if(/^(?:mouse|contextmenu)|click/.test(s)){!e.relatedTarget&&e.fromElement&&(e.relatedTarget=e.fromElement===e.target?e.toElement:e.fromElement);if(!e.which&&e.button!==undefined){var o=e.button;e.which=o&1?1:o&2?3:o&4?2:0}}return e},i=function(t){t=r(t),_.each(e,function(e){e.types[t.type]&&(!e._checkIECompliance||!!t.currentTarget["_uevents_test_eventtype_"+t.type])&&e.handler.call(null,t)})},s,o=function(){return s||(s=document.addEventListener?new UniversalEventListener._impl.w3c(i):new UniversalEventListener._impl.ie(i)),s},u={};UniversalEventListener=function(t,n){this.handler=t,this.types={},this.impl=o(),this._checkIECompliance=n,e.push(this)},_.extend(UniversalEventListener.prototype,{addType:function(e){this.types[e]||(this.types[e]=!0,u[e]=(u[e]||0)+1,u[e]===1&&this.impl.addType(e))},removeType:function(e){this.types[e]&&(delete this.types[e],u[e]--,u[e]||this.impl.removeType(e))},installHandler:function(e,t){if(e.nodeType!==1)return;this.impl.installHandler(e,t),this._checkIECompliance&&(e["_uevents_test_eventtype_"+t]=e,e.firstChild&&_.each(e.getElementsByTagName("*"),function(e){e["_uevents_test_eventtype_"+t]=e}))},destroy:function(){var t=this;e=_.without(e,t),_.each(_.keys(t.types),function(e){t.removeType(e)})}})})()
;
(function(){var e=0,t=1,n=2;UniversalEventListener._impl=UniversalEventListener._impl||{},UniversalEventListener._impl.w3c=function(t){this.deliver=t,this.typeCounts={},this.boundHandler=_.bind(this.handler,this),this.boundCapturer=_.bind(this.capturer,this),this.focusBlurMode="onfocusin"in document.createElement("DIV")?e:n,this.simulateMouseEnterLeave=!window.opera},_.extend(UniversalEventListener._impl.w3c.prototype,{addType:function(e){this._listen(this._expandEventType(e))},removeType:function(e){this._unlisten(this._expandEventType(e))},installHandler:function(e,t){},_expandEventType:function(e){var r=[e];return this.focusBlurMode===t?e==="focus"?r.push("focusin"):e==="blur"&&r.push("focusout"):this.focusBlurMode===n&&(e==="focusin"?r.push("focus"):e==="focusout"&&r.push("blur")),this.simulateMouseEnterLeave&&(e==="mouseenter"?r.push("mouseover"):e==="mouseleave"&&r.push("mouseout")),r},_listen:function(e){var t=this;_.each(e,function(e){(t.typeCounts[e]=(t.typeCounts[e]||0)+1)===1&&document.addEventListener(e,t.boundCapturer,!0)})},_unlisten:function(e){var t=this;_.each(e,function(e){--t.typeCounts[e]||document.removeEventListener(e,t.boundCapturer,!0)})},capturer:function(e){e.target.nodeType===3&&(e.target=e.target.parentNode);var t=e.type,n=e.bubbles,r=e.target;r.addEventListener(t,this.boundHandler,!1);var i;if(n){i=[];for(var s=r.parentNode;s;s=s.parentNode)s.addEventListener(t,this.boundHandler,!1),i.push(s)}setTimeout(function(){r.removeEventListener(t,this.boundHandler,!1),n&&_.each(i,function(e){e.removeEventListener(t,this.boundHandler,!1)})},0)},handler:function(e){var r=function(e,t,n,r,i){var s=document.createEvent("UIEvents");s.initUIEvent(e,n,r,window,i),s.synthetic=!0,t.dispatchEvent(s)};e.currentTarget===e.target&&(this.focusBlurMode===t?e.type==="focusin"?r("focus",e.target,!1):e.type==="focusout"&&r("blur",e.target,!1):this.focusBlurMode===n&&(e.type==="focus"?r("focusin",e.target,!0):e.type==="blur"&&r("focusout",e.target,!0)));if(this.focusBlurMode===t){if(e.type==="focus"||e.type==="blur")if(!e.synthetic)return}else if(this.focusBlurMode===n&&(e.type==="focusin"||e.type==="focusout")&&!e.synthetic)return;if(this.simulateMouseEnterLeave&&(e.type==="mouseenter"||e.type==="mouseleave")&&!e.synthetic)return;this.deliver(e),this.simulateMouseEnterLeave&&(!e.relatedTarget||e.currentTarget!==e.relatedTarget&&!DomUtils.elementContains(e.currentTarget,e.relatedTarget))&&(e.type==="mouseover"?r("mouseenter",e.currentTarget,!1):e.type==="mouseout"&&r("mouseleave",e.currentTarget,!1))}})})()
;
UniversalEventListener._impl=UniversalEventListener._impl||{},UniversalEventListener._impl.ie=function(e){var t=this;this.deliver=e,this.curriedHandler=function(){t.handler.call(this,t)},document.attachEvent("ondatasetcomplete",function(){var e=window.event,t=e&&e.srcElement;e.synthetic&&t&&t.nodeName==="FORM"&&e.returnValue!==!1&&t.submit()})},_.extend(UniversalEventListener._impl.ie.prototype,{addType:function(e){},removeType:function(e){},installHandler:function(e,t){var n="on"+t;if(e.nodeType===1){this._install(e,n);var r=e.getElementsByTagName("*");for(var i=0,s=r.length;i<s;i++)this._install(r[i],n)}},_install:function(e,t){var n=[t];t==="onfocus"?n.push("onfocusin"):t==="onblur"?n.push("onfocusout"):t==="onchange"?(e.nodeName==="INPUT"&&(e.type==="checkbox"||e.type==="radio")&&(n=["onpropertychange"]),n.push("oncellchange")):t==="onsubmit"&&n.push(e,"ondatasetcomplete");for(var r=0;r<n.length;r++)e[n[r]]=this.curriedHandler},handler:function(e){var t=function(e,t){var n=document.createEventObject();return n.synthetic=!0,t.fireEvent(e,n),n.returnValue},n=window.event,r=n.type,i=n.srcElement||document;n.target=i;if(this.nodeType!==1)return;n.currentTarget=this;var s=this;s===i&&!n.synthetic&&(r==="focusin"?t("onfocus",s):r==="focusout"?t("onblur",s):r==="change"?t("oncellchange",s):r==="propertychange"?n.propertyName==="checked"&&t("oncellchange",s):r==="submit"&&t("ondatasetcomplete",s));if((r==="focus"||n.type==="blur"||n.type==="change"||n.type==="submit")&&!n.synthetic){n.type==="submit"&&(n.returnValue=!1);return}r==="cellchange"&&n.synthetic&&(r=n.type="change"),r==="datasetcomplete"&&n.synthetic&&(r=n.type="submit"),e.deliver(n)}})
;
(function(){Spark={},Spark._currentRenderer=function(){var e=null;return{get:function(){return e},withValue:function(t,n){var r=e;e=t;try{return n()}finally{e=r}}}}(),Spark._TAG="_spark_"+Meteor.uuid(),Spark._ANNOTATION_NOTIFY="notify",Spark._ANNOTATION_DATA="data",Spark._ANNOTATION_ISOLATE="isolate",Spark._ANNOTATION_EVENTS="events",Spark._ANNOTATION_WATCH="watch",Spark._ANNOTATION_LABEL="label",Spark._ANNOTATION_LANDMARK="landmark",Spark._ANNOTATION_LIST="list",Spark._ANNOTATION_LIST_ITEM="item",Spark._checkIECompliance=!1,Spark._globalPreserves={};var e=function(e,t,n,r){var i=new LiveRange(Spark._TAG,t,n,r);return i.type=e,i},t=function(e,t){var n=LiveRange.findRange(Spark._TAG,t);while(n&&n.type!==e)n=n.findParent();return n},n=function(e,t){do t=t.findParent();while(t&&t.type!==e);return t},r=function(e,t){var n=new LiveRange(Spark._TAG,e,t,!0);for(var r=n;r;r=r.findParent())r.type===Spark._ANNOTATION_WATCH&&r.notify();n.destroy()},i=!1,s=function(e){var t=i;i=!0;try{return e()}finally{i=t}};Spark._createId=function(){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+_",t="";for(var n=0;n<8;n++)t+=e.substr(Math.floor(Meteor.random()*64),1);return t},Spark._Renderer=function(){this.annotations={},this._branchNotes={},this.currentBranch=this.newLabelStack(),this.landmarkRanges=[],this.pc=new a},_.extend(Spark._Renderer.prototype,{annotate:function(t,n,r){if(typeof r!="function"){var i=r;r=function(e){e&&_.extend(e,i)}}var s=(n||"")+":"+Spark._createId();return this.annotations[s]=function(t,i){if(!t||!n){r(null);return}var s=e(n,t,i);r(s)},"<$"+s+">"+t+"</$"+s+">"},newLabelStack:function(){var e=[this._branchNotes];return{pushLabel:function(t){var n=e[e.length-1],r="_"+t;e.push(n[r]=n[r]||{})},popLabel:function(){e.pop()},getNotes:function(){var t=e[e.length-1];return t},mark:function(t){for(var n=e.length-1;n>=0&&!e[n][t];n--)e[n][t]=!0}}},materialize:function(e){var t=this,n=Spark._currentRenderer.withValue(t,e);n=t.annotate(n);var r={},i=function(e){var t=e.firstChild;while(t){var n=t.nextSibling;if(t.nodeType===8){var s=r[t.nodeValue];if(s===!1)throw new Error("Spark HTML fragments may only be used once. Second use in "+DomUtils.fragmentToHtml(e));s&&(r[t.nodeValue]=!1,DomUtils.wrapFragmentForContainer(s,t.parentNode),t.parentNode.replaceChild(s,t))}else t.nodeType===1&&i(t);t=n}},s=[[]],o=[],a,f=/<(\/?)\$([^<>]+)>|<|[^<]+/g;f.lastIndex=0;var l;while(l=f.exec(n)){var c=!l[1],h=l[2],p=t.annotations[h];if(p===!1)throw new Error("Spark HTML fragments may be used only once. Second use of: "+DomUtils.fragmentToHtml(r[h]));if(!p)s[s.length-1].push(l[0]);else if(c)o.push(h),s.push([]);else{var d=o.pop();if(d!==h)throw new Error("Range mismatch: "+d+" / "+h);var v=DomUtils.htmlToFragment(s.pop().join(""));i(v),v.firstChild||v.appendChild(document.createComment("empty")),p(v.firstChild,v.lastChild),t.annotations[h]=!1;if(!o.length){a=v;break}r[h]=v,s[s.length-1].push("<!--"+h+"-->")}}return u(a,t.landmarkRanges),t.landmarkRanges=[],_.each(t.annotations,function(e){e&&e()}),t.annotations={},_.each(DomUtils.findAll(a,"[value], textarea, select"),function(e){e._sparkOriginalRenderedValue=[DomUtils.getElementValue(e)]}),_.each(DomUtils.findAll(a,"input[type=checkbox], input[type=radio]"),function(e){e._sparkOriginalRenderedChecked=[!!e.checked]}),a}});var o=function(e){return function(){var t=Spark._currentRenderer.get(),n=_.toArray(arguments);return t?(n.push(t),e.apply(null,n)):n.pop()}},u=function(e,t){var i=new LiveRange(Spark._TAG,e),s=!1;i.finalize=function(){s=!0},Meteor._atFlush(function(){if(s)return;if(!DomUtils.isInDocument(i.firstNode())){var e=i.firstNode();while(e.parentNode)e=e.parentNode;if(!e._protect){Spark.finalize(e);return}}_.each(t,function(e){e.isPreservedConstant||e.rendered.call(e.landmark)});var o=i;while(o=n(Spark._ANNOTATION_LANDMARK,o))o.rendered.call(o.landmark);r(i.firstNode(),i.lastNode()),i.destroy()})};Spark.render=function(e){var t=new Spark._Renderer,n=t.materialize(e);return n};var a=function(){this.roots=[],this.regionPreservations=[]};_.extend(a.prototype,{addRoot:function(e,t,n,r){var i=this;i.roots.push({context:r,preserve:e,fromRange:t,toRange:n})},addConstantRegion:function(e,t){var n=this;n.regionPreservations.push({type:"region",fromStart:e.firstNode(),fromEnd:e.lastNode(),newRange:t})},computePreservations:function(e,t){var n=this,r=_.clone(n.regionPreservations),i=function(e,t,n,r,i){e=e||t.containerNode();var s=DomUtils.findAllClipped(e,r,t.firstNode(),t.lastNode());_.each(s,function(e){var t=n(e);t&&i(e,t)})};_.each(n.roots,function(e){e.fromNodesByLabel={},_.each(e.preserve,function(t,n){e.fromNodesByLabel[n]={},i(e.context,e.fromRange,t,n,function(t,r){e.fromNodesByLabel[n][r]=t})})});var s=new LiveRange(Spark._TAG,t.firstNode(),t.lastNode()),o=document.createDocumentFragment();o.appendChild(document.createComment(""));var u=s.replaceContents(o),a=new LiveRange(Spark._TAG,u);e.insertBefore(u),_.each(n.roots,function(e){_.each(e.preserve,function(t,n){i(e.context,e.toRange,t,n,function(t,i){var s=e.fromNodesByLabel[n][i];s&&(r.push({type:"node",from:s,to:t}),e.fromNodesByLabel[n][i]=null)})})});var f=a.extract();return a.destroy(),s.replaceContents(f),s.destroy(),r}});var f=function(e){var t=[],e;while(e=n(Spark._ANNOTATION_LABEL,e))t.unshift(e.label);return t.join(" :: ")};Spark.renderToRange=function(e,t){var n=e.firstNode();if(!n||!n.parentNode)return;var r=new Spark._Renderer,i=function(e,t){var n=r.newLabelStack();e.visit(function(e,r){r.type===Spark._ANNOTATION_LABEL?e?n.pushLabel(r.label):n.popLabel():r.type===Spark._ANNOTATION_LANDMARK&&e&&t(r,n.getNotes())})};i(e,function(e,t){t.originalRange=e});var o=DomUtils.findAllClipped(e.containerNode(),"input[type=radio]",e.firstNode(),e.lastNode());_.each(o,function(e){e._currentChecked=[!!e.checked]});var u=r.materialize(t);DomUtils.wrapFragmentForContainer(u,e.containerNode());var a=new LiveRange(Spark._TAG,u),f=r.pc;i(a,function(e,t){t.originalRange&&(e.constant&&f.addConstantRegion(t.originalRange,e),f.addRoot(e.preserve,t.originalRange,e))});var l=e;while(l=l.findParent()){if(!l.firstNode().parentNode)break;(l.type===Spark._ANNOTATION_LANDMARK,l)&&f.addRoot(l.preserve,e,a,l.containerNode())}f.addRoot(Spark._globalPreserves,e,a);var c=f.computePreservations(e,a);a.destroy();var h={};s(function(){e.operate(function(e,t){Spark.finalize(e,t),Spark._patch(e.parentNode,u,e.previousSibling,t.nextSibling,c,h)})}),_.each(h.regionPreservations,function(e){e.isPreservedConstant=!0})},Spark.finalize=function(e,t){if(!e.parentNode&&e.nodeType!==11){var n=document.createDocumentFragment();n.appendChild(e),e=n,t=null}var r=new LiveRange(Spark._TAG,e,t);r.visit(function(e,t){e&&t.finalize&&t.finalize()}),r.destroy(!0)},Spark.setDataContext=o(function(e,t,n){return n.annotate(t,Spark._ANNOTATION_DATA,{data:e})}),Spark.getDataContext=function(e){var n=t(Spark._ANNOTATION_DATA,e);return n&&n.data};var l=null,c=function(){return l||(l=new UniversalEventListener(function(e){if(i)return;var r=[],s=t(Spark._ANNOTATION_EVENTS,e.currentTarget);while(s)r.push(s),s=n(Spark._ANNOTATION_EVENTS,s);_.each(r,function(t){t.handler(e)})},Spark._checkIECompliance)),l};Spark.attachEvents=o(function(e,t,r){var i=c(),s={};_.each(e,function(e,t){var n=t.split(/,\s+/);_.each(n,function(t){var n=t.split(/\s+/);if(n.length===0)return;var r=n.shift(),i=n.join(" ");s[r]=s[r]||[],s[r].push({selector:i,callback:e})})});var o=_.keys(s),u=function(e){_.each(o,function(t){for(var n=e.firstNode(),r=e.lastNode().nextSibling;n&&n!==r;n=n.nextSibling)i.installHandler(n,t)})};t=r.annotate(t,Spark._ANNOTATION_WATCH,{notify:function(){u(this)}});var a=!1;return t=r.annotate(t,Spark._ANNOTATION_EVENTS,function(e){if(!e)return;_.each(o,function(e){i.addType(e)}),u(e),e.finalize=function(){a=!0},e.handler=function(t){var r=s[t.type]||[];for(var i=0;i<r.length;i++){if(a||t.isImmediatePropagationStopped())return;var o=r[i],u=o.callback,f=o.selector;if(f){if(!DomUtils.matchesSelectorClipped(t.currentTarget,e.containerNode(),f,e.firstNode(),e.lastNode()))continue}else if(t.currentTarget!==t.target)continue;var l=Spark.getDataContext(t.currentTarget),c=n(Spark._ANNOTATION_LANDMARK,e),h=c&&c.landmark,p=u.call(l,t,h);p===!1&&(t.stopImmediatePropagation(),t.preventDefault())}}}),t}),Spark.isolate=function(e){var t=Spark._currentRenderer.get();if(!t)return e();var n,r=!0,i;return Meteor.autorun(function(s){r?(i=t.annotate(e(),Spark._ANNOTATION_ISOLATE,function(e){e?(n=e,n.finalize=function(){s.stop()}):s.stop()}),r=!1):Spark.renderToRange(n,e)}),i},Spark.list=function(t,r,i){i=i||function(){return""};var o={},u={};_.each(["added","removed","moved","changed"],function(e){u[e]=function(){return o[e].apply(null,arguments)}});var a=[];_.extend(o,{added:function(e,t){a.splice(t,0,e)}});var f=t.observe(u),l=Spark._currentRenderer.get(),c=l?_.bind(l.annotate,l):function(e){return e},h="",p,d=[];if(!a.length)h=i();else for(var v=0;v<a.length;v++)(function(e){h+=c(r(a[e]),Spark._ANNOTATION_LIST_ITEM,function(t){d[e]=t})})(v);a=null;var m=!1,g=function(){f.stop(),m=!0};h=c(h,Spark._ANNOTATION_LIST,function(e){e?(p=e,p.finalize=g):g()}),l||g();var y=function(){var e=p;while(e=n(Spark._ANNOTATION_LANDMARK,e))e.rendered.call(e.landmark)},b=function(e){Meteor._atFlush(function(){m||s(e)})};return _.extend(o,{added:function(t,n){b(function(){var i=Spark.render(_.bind(r,null,t));DomUtils.wrapFragmentForContainer(i,p.containerNode());var s=e(Spark._ANNOTATION_LIST_ITEM,i);d.length?n===d.length?d[d.length-1].insertAfter(i):d[n].insertBefore(i):Spark.finalize(p.replaceContents(i)),d.splice(n,0,s)})},removed:function(e,t){b(function(){if(d.length===1){var e=Spark.render(i);DomUtils.wrapFragmentForContainer(e,p.containerNode()),Spark.finalize(p.replaceContents(e))}else Spark.finalize(d[t].extract());d.splice(t,1),y()})},moved:function(e,t,n){b(function(){if(t===n)return;var e=d[t].extract(),r=d.splice(t,1)[0];n===d.length?d[d.length-1].insertAfter(e):d[n].insertBefore(e),d.splice(n,0,r),y()})},changed:function(e,t){b(function(){Spark.renderToRange(d[t],_.bind(r,null,e))})}}),h};var h=1;Spark.Landmark=function(){this.id=h++,this._range=null},_.extend(Spark.Landmark.prototype,{firstNode:function(){return this._range.firstNode()},lastNode:function(){return this._range.lastNode()},find:function(e){var t=this._range;return DomUtils.findClipped(t.containerNode(),e,t.firstNode(),t.lastNode())},findAll:function(e){var t=this._range;return DomUtils.findAllClipped(t.containerNode(),e,t.firstNode(),t.lastNode())},hasDom:function(){return!!this._range}}),Spark.UNIQUE_LABEL=["UNIQUE_LABEL"],Spark.labelBranch=function(e,t){var n=Spark._currentRenderer.get();if(!n||e===null)return t();e===Spark.UNIQUE_LABEL&&(e=Spark._createId()),n.currentBranch.pushLabel(e);var r=t(),i=n.currentBranch.getNotes().occupied;return n.currentBranch.popLabel(),i?n.annotate(r,Spark._ANNOTATION_LABEL,{label:e}):r},Spark.createLandmark=function(e,t){var n=Spark._currentRenderer.get();if(!n){var r=new Spark.Landmark;e.created&&e.created.call(r);var i=t(r);return e.destroyed&&e.destroyed.call(r),i}var s={};_.isArray(e.preserve)?_.each(e.preserve,function(e){s[e]=!0}):s=e.preserve||{};for(var o in s)typeof s[o]!="function"&&(s[o]=function(){return!0});n.currentBranch.mark("occupied");var u=n.currentBranch.getNotes(),r;if(u.originalRange){if(u.originalRange.superceded)throw new Error("Can't create second landmark in same branch");u.originalRange.superceded=!0,r=u.originalRange.landmark}else{r=new Spark.Landmark;if(e.created){var a=Meteor.deps.Context.current;Meteor.deps.Context.current=null;try{e.created.call(r)}finally{Meteor.deps.Context.current=a}}}u.landmark=r;var i=t(r);return n.annotate(i,Spark._ANNOTATION_LANDMARK,function(t){if(!t){e.destroyed&&e.destroyed.call(r);return}_.extend(t,{preserve:s,constant:!!e.constant,rendered:e.rendered||function(){},destroyed:e.destroyed||function(){},landmark:r,finalize:function(){this.superceded||(this.landmark._range=null,this.destroyed.call(this.landmark))}}),r._range=t,n.landmarkRanges.push(t)})},Spark._getEnclosingLandmark=function(e){var n=t(Spark._ANNOTATION_LANDMARK,e);return n?n.landmark:null}})()
;
Spark._patch=function(e,t,n,r,i,s){var o=function(e,t){LiveRange.transplantTag(Spark._TAG,e,t)},u=new Spark._Patcher(e,t,n,r),a=function(e,t,n,r){for(var i=t?t.nextSibling:e.firstChild;i&&i!==n;i=i.nextSibling)r(i)!==!1&&i.firstChild&&a(i,null,null,r)};s=s||{};var f=s.regionPreservations=s.regionPreservations||[],l=null;return a(t,null,null,function(e){var t=_.find(i,function(t){return t.type==="region"&&t.newRange.firstNode()===e})||_.find(i,function(t){return t.type==="node"&&t.to===e});if(t){var n=t.type==="region"?t.fromStart:t.from;if(!l||DomUtils.compareElementIndex(l,n)<0)if(t.type==="region")u.match(t.fromStart,t.newRange.firstNode(),o,!0)&&(u.skipToSiblings(t.fromEnd,t.newRange.lastNode()),LiveRange.transplantRange(t.fromStart,t.fromEnd,t.newRange),f.push(t.newRange));else if(t.type==="node"&&u.match(n,e,o))return l=n,(n.firstChild||e.firstChild)&&n.nodeName!=="TEXTAREA"&&n.nodeName!=="SELECT"&&Spark._patch(n,e,null,null,i),!1}return!0}),u.finish(),s},Spark._Patcher=function(e,t,n,r){this.tgtParent=e,this.srcParent=t,this.tgtBefore=n,this.tgtAfter=r,this.lastKeptTgtNode=null,this.lastKeptSrcNode=null},Spark._Patcher.prototype.match=function(e,t,n,r){var i=this.lastKeptTgtNode,s=this.lastKeptSrcNode,o=e,u=t;if(!o!=!u)return!1;var a=!i,f=!o;if(!a){while(i.parentNode!==this.tgtParent&&(!o||!DomUtils.elementContains(i.parentNode,o)))this._replaceNodes(i,null,s,null),i=i.parentNode,s=s.parentNode;this.lastKeptTgtNode=i,this.lastKeptSrcNode=s;if(!f&&(DomUtils.elementContains(s,u)||s.parentNode!==this.srcParent&&!DomUtils.elementContains(s.parentNode,u)))return!1}if(f)this._replaceNodes(i,null,s,null,this.tgtParent,this.srcParent);else{if(!r&&o.nodeName!==u.nodeName)return!1;for(var l=o.parentNode,c=u.parentNode;l!==(a?this.tgtParent:i.parentNode);l=l.parentNode,c=c.parentNode){if(c===(a?this.srcParent:s.parentNode))return!1;if(l.nodeName!==c.nodeName)return!1}if(c!==(a?this.srcParent:s.parentNode))return!1;var h=!0;for(;;){if(!h||!r)o.nodeType===1&&Spark._Patcher._copyAttributes(o,u),n&&n(o,u);h=!1;if((a?this.tgtParent:i.parentNode)===o.parentNode){this._replaceNodes(i,o,s,u);break}this._replaceNodes(null,o,null,u),o=o.parentNode,u=u.parentNode}}return this.lastKeptTgtNode=e,this.lastKeptSrcNode=t,!0},Spark._Patcher.prototype.skipToSiblings=function(e,t){var n=this.lastKeptTgtNode,r=this.lastKeptSrcNode;return!n||n.parentNode!==e.parentNode?!1:!r||r.parentNode!==t.parentNode?!1:(this.lastKeptTgtNode=e,this.lastKeptSrcNode=t,!0)},Spark._Patcher.prototype.finish=function(){return this.match(null,null)},Spark._Patcher.prototype._replaceNodes=function(e,t,n,r,i,s){var o=i||(e||t).parentNode,u=s||(n||r).parentNode;o===this.tgtParent&&(e=e||this.tgtBefore,t=t||this.tgtAfter),u===this.srcParent&&(n=n||this.srcBefore,r=r||this.srcAfter);var a;while((a=e?e.nextSibling:o.firstChild)&&a!==t)o.removeChild(a);var f;while((f=n?n.nextSibling:u.firstChild)&&f!==r)o.insertBefore(f,t||null)},Spark._Patcher._copyAttributes=function(e,t){var n=t.attributes,r=e.attributes,i=e===document.activeElement;e.style.cssText&&(e.style.cssText="");var s=!1,o=null;if(e.nodeName==="INPUT"){s=e.type==="radio";if(s||e.type==="checkbox"){var u=!!e._sparkOriginalRenderedChecked&&e._sparkOriginalRenderedChecked[0],a=!!t._sparkOriginalRenderedChecked&&t._sparkOriginalRenderedChecked[0],f=e._currentChecked?e._currentChecked[0]:e.checked;u===a?o=f:(o=a,e._sparkOriginalRenderedChecked=[o])}}for(var l=r.length-1;l>=0;l--){var c=r[l];if(!c.specified)continue;var h=c.name;if(!r[h])continue;if(h==="id"||h==="type")continue;if(s&&h==="name")continue;if(h==="value")continue;if(h==="src")continue;var p=e[h];if(p&&(typeof p=="object"||/^jQuery/.test(h)))continue;e.removeAttributeNode(c)}if(e.mergeAttributes){var d=t._sparkOriginalRenderedValue;t.removeAttribute("_sparkOriginalRenderedValue"),e.mergeAttributes(t),d&&(t._sparkOriginalRenderedValue=d),t.name&&(e.name=t.name)}else for(var l=0,v=n.length;l<v;l++){var m=n.item(l);if(m.specified){var h=m.name.toLowerCase(),g=String(m.value);if(h!=="type"&&h!=="checked")if(h==="style")e.style.cssText=t.style.cssText;else if(h==="class")e.className=t.className;else if(h!=="value")if(h==="src")t.src!==e.src&&(e.src=t.src);else try{e.setAttribute(h,g)}catch(y){throw new Error("Error copying attribute '"+h+"': "+y)}}}var b=function(e){return e._sparkOriginalRenderedValue?e._sparkOriginalRenderedValue[0]:null},w=b(t),E=b(e),S=DomUtils.getElementValue(e);if(e.nodeName==="SELECT"){while(e.firstChild)e.removeChild(e.firstChild);while(t.firstChild)e.insertBefore(t.firstChild,null);DomUtils.setElementValue(e,S)}w!==E&&(S===w||!i)&&(S!==w&&DomUtils.setElementValue(e,w),e._sparkOriginalRenderedValue=[w]),o!==null&&(e.checked!==o&&(e.checked=o),e.defaultChecked=o,o?e.setAttribute("checked","checked"):e.removeAttribute("checked"))}
;
Meteor.render=function(e){return Spark.render(function(){return Spark.isolate(typeof e=="function"?e:function(){return String(e)})})},Meteor.renderList=function(e,t,n){return Spark.render(function(){return Spark.list(e,function(e){return Spark.labelBranch(e._id||null,function(){return Spark.isolate(_.bind(t,null,e))})},function(){return n?Spark.isolate(n):""})})}
;
(function(){Spark._labelFromIdOrName=function(e){var t=null;if(e.nodeType===1)if(e.id)t="#"+e.id;else if(e.getAttribute("name")){t=e.getAttribute("name"),e.nodeName==="INPUT"&&(e.type==="radio"||e.type==="checkbox")&&e.value&&(t=t+":"+e.value);while(e.parentNode&&e.parentNode.nodeType===1){e=e.parentNode;if(e.id){t="#"+e.id+"/"+t;break}e.getAttribute("name")&&(t=e.getAttribute("name")+"/"+t)}}return t}})()
;
(function(){Meteor._partials={},Meteor._hook_handlebars=function(){Meteor._hook_handlebars=function(){};var e=Handlebars._default_helpers.each;Handlebars._default_helpers.each=function(t,n){return t&&"observe"in t?Spark.list(t,function(e){return Spark.labelBranch(e._id||Spark.UNIQUE_LABEL,function(){var t=Spark.isolate(_.bind(n.fn,null,e));return Spark.setDataContext(e,t)})},function(){return n.inverse?Spark.isolate(n.inverse):""}):e.call(this,t,n)},_.extend(Handlebars._default_helpers,{isolate:function(e){var t=this;return Spark.isolate(function(){return e.fn(t)})},constant:function(e){var t=this;return Spark.createLandmark({constant:!0},function(){return e.fn(t)})}})};var e={},t=function(t){var n=e[t.id]||(e[t.id]={find:function(e){if(!t.hasDom())throw new Error("Template not in DOM");return t.find(e)},findAll:function(e){if(!t.hasDom())throw new Error("Template not in DOM");return t.findAll(e)}});return n.firstNode=t.hasDom()?t.firstNode():null,n.lastNode=t.hasDom()?t.lastNode():null,n};Meteor._template_decl_methods={_tmpl_data:null,events:function(e){var t=this._tmpl_data.events=this._tmpl_data.events||{};_.extend(t,e)},preserve:function(e){var t=this._tmpl_data.preserve=this._tmpl_data.preserve||{};_.isArray(e)?_.each(e,function(e){t[e]=!0}):_.extend(t,e)},helpers:function(e){var t=this._tmpl_data.helpers=this._tmpl_data.helpers||{};for(var n in e)t[n]=e[n]}},Meteor._def_template=function(n,r){Meteor._hook_handlebars(),window.Template=window.Template||{};var i=function(s){var o=n&&Template[n]||{},u=o._tmpl_data||{},a=Spark.labelBranch("Template."+n,function(){var a=Spark.createLandmark({preserve:u.preserve||{},created:function(){var e=t(this);e.data=s,o.created&&o.created.call(e)},rendered:function(){var e=t(this);e.data=s,o.rendered&&o.rendered.call(e)},destroyed:function(){o.destroyed&&o.destroyed.call(t(this)),delete e[this.id]}},function(e){var a=Spark.isolate(function(){return r(s,{helpers:_.extend({},i,u.helpers||{}),partials:Meteor._partials,name:n})}),f=function(e){var n={};return _.each(e,function(e,r){n[r]=function(n,r){return e.call(this,n,t(r))}}),n},l=o.events!==Meteor._template_decl_methods.events?o.events:u.events;return o.events&&(a=Spark.attachEvents(f(l),a)),a});return a=Spark.setDataContext(s,a),a});return a};_.extend(i,Handlebars.helpers);if(n){if(Template[n])throw new Error("There are multiple templates named '"+n+"'. Each template needs a unique name.");Template[n]=i,_.extend(i,Meteor._template_decl_methods),i._tmpl_data={},Meteor._partials[n]=i}return i}})()
;
(function(){var e=[],t=document.readyState==="loaded"||document.readyState=="complete",n=function(){t=!0;while(e.length)e.shift()()};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):(document.attachEvent("onreadystatechange",function(){document.readyState==="complete"&&n()}),window.attachEvent("load",n)),Meteor.startup=function(n){var r=!document.addEventListener&&document.documentElement.doScroll;if(!r||window!==top)t?n():e.push(n);else{try{r("left")}catch(i){setTimeout(function(){Meteor.startup(n)},50);return}n()}}})()
;
Handlebars={},Handlebars.json_ast_to_func=function(e){return function(t,n){return Handlebars.evaluate(e,t,n)}},Handlebars._default_helpers={"with":function(e,t){return t.fn(e)},each:function(e,t){var n=this;return e&&e.length>0?_.map(e,function(e,n){var r=e._id||(typeof e=="string"?e:null)||Spark.UNIQUE_LABEL;return Spark.labelBranch(r,function(){return t.fn(e)})}).join(""):Spark.labelBranch("else",function(){return t.inverse(n)})},"if":function(e,t){return!e||e instanceof Array&&!e.length?t.inverse(this):t.fn(this)},unless:function(e,t){return!e||e instanceof Array&&!e.length?t.fn(this):t.inverse(this)}},Handlebars.registerHelper=function(e,t){if(e in Handlebars._default_helpers)throw new Error("There is already a helper '"+e+"'");Handlebars._default_helpers[e]=t},Handlebars._escape=function(){var e={"<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;","&":"&amp;"},t=function(t){return e[t]};return function(e){return e.replace(/[&<>"'`]/g,t)}}(),Handlebars._defaultThis=function(){return this}(),Handlebars.evaluate=function(e,t,n){n=n||{};var r=_.extend({},Handlebars._default_helpers);_.extend(r,n.helpers||{});var i=n.partials||{},s=function(e,t){if(typeof t!="object")return t;for(var n=0;n<t[0];n++){if(!e.parent)throw new Error("Too many '..' segments");e=e.parent}if(t.length===1)return e.data;var i=!1;t[1]===""&&(t.splice(1,1),i=!0);var s=e.data,o;if(t[0]===0&&r.hasOwnProperty(t[1])&&!i)o=r[t[1]];else{if(!o instanceof Object&&typeof function(){}[t[1]]!="undefined"&&!i)throw new Error("Can't call a helper '"+t[1]+"' because "+"it is a built-in function property in JavaScript");o=e.data&&e.data[t[1]]}for(var n=2;n<t.length;n++){typeof o=="function"&&(o=o.call(s),s=o);if(o===undefined||o===null){o="";break}o=o[t[n]]}return typeof o=="function"?_.bind(o,s):o},o=function(e,t,n,r){n=n||{},t=t.slice(0);var i=t[t.length-1],o={};typeof i=="object"&&!(i instanceof Array)&&_.each(t.pop(),function(t,n){var r=s(e,t);o[n]=typeof r=="function"?r():r});var u=function(t,n){var r=t.slice(1);for(var i=0;i<r.length;i++)typeof r[i]=="function"&&(r[i]=r[i]());return n&&r.push(n),t[0].apply(e.data,r)},a=new Array(t.length);for(var f=0;f<t.length;f++)a[f]=s(e,t[f]);if(typeof a[0]!="function")return a[0];if(r&&a.length>1){var l=a[1];typeof l=="function"&&(l=u(a.slice(1),{hash:o})),a=[a[0],l],n.hash={}}else n.hash=o;return u(a,n)},u=function(e,t,n){var r=[],s=function(e){return typeof e=="string"?e:e===null?"null":e===undefined?"":e.toString()},a=function(e,t){return function(n){return(n||Handlebars._defaultThis)===(t||Handlebars._defaultThis)?e(n):Spark.setDataContext(n,e(n))}},f=function(e){return e instanceof Handlebars.SafeString?e.toString():Handlebars._escape(s(e))},l,c=function(){return(n?n+".":"")+l},h=function(e,t){return Spark.labelBranch(e+"@"+c(),t)};return _.each(t,function(t,n){l=n;if(typeof t=="string")r.push(t);else if(t[0]==="{")r.push(h(t[1],function(){return f(o(e,t[1]))}));else if(t[0]==="!")r.push(h(t[1],function(){return s(o(e,t[1]||""))}));else if(t[0]==="#"){var p=a(function(n){return u({parent:e,data:n},t[2],c())},e.data);p.fn=p,p.inverse=a(function(n){return u({parent:e,data:n},t[3]||[],c())},e.data);var d=h(t[1],function(){return s(o(e,t[1],p,!0))});r.push(d)}else{if(t[0]!==">")throw new Error("bad element in template");var v=t[1];if(!(v in i))throw new Error("No such template '"+v+"'");var d=h(v,function(){return s(i[v](e.data))});r.push(d)}}),r.join("")},a=(n.name||"")+"#";return u({data:t,parent:null},e,a)},Handlebars.SafeString=function(e){this.string=e},Handlebars.SafeString.prototype.toString=function(){return this.string.toString()}
;
Meteor.is_client=Meteor.isClient,Meteor.is_server=Meteor.isServer,Meteor.deps.Context.prototype.on_invalidate=Meteor.deps.Context.prototype.onInvalidate
;
(function(){var e="input textarea button select option".split(" "),t=_.map(e,function(e){return e.replace(/^.*$/,"$&[id], $&[name]")}).join(", ");Spark._globalPreserves[t]=Spark._labelFromIdOrName})()
;
(function(){function r(e,t){if("function"==typeof e)return r("*",e);if("function"==typeof t){var n=new o(e);for(var i=1;i<arguments.length;++i)r.callbacks.push(n.middleware(arguments[i]))}else"string"==typeof e?r.show(e,t):r.start(e)}function i(e){if(window.location.pathname+window.location.search==e.canonicalPath)return;r.stop(),e.unhandled=!0,window.location=e.canonicalPath}function s(e,n){"/"==e[0]&&0!=e.indexOf(t)&&(e=t+e);var r=e.indexOf("?");this.canonicalPath=e,this.path=e.replace(t,"")||"/",this.title=document.title,this.state=n||{},this.state.path=e,this.querystring=~r?e.slice(r+1):"",this.pathname=~r?e.slice(0,r):e,this.params=[]}function o(e,t){t=t||{},this.path=e,this.method="GET",this.regexp=u(e,this.keys=[],t.sensitive,t.strict)}function u(e,t,n,r){return e instanceof RegExp?e:(e instanceof Array&&(e="("+e.join("|")+")"),e=e.concat(r?"":"/?").replace(/\/\(/g,"(?:/").replace(/(\/)?(\.)?:(\w+)(?:(\(.*?\)))?(\?)?/g,function(e,n,r,i,s,o){return t.push({name:i,optional:!!o}),n=n||"",""+(o?"":n)+"(?:"+(o?n:"")+(r||"")+(s||r&&"([^/.]+?)"||"([^/]+?)")+")"+(o||"")}).replace(/([\/.])/g,"\\$1").replace(/\*/g,"(.*)"),new RegExp("^"+e+"$",n?"":"i"))}function a(e){if(e.state){var t=e.state.path;r.replace(t,e.state)}}function f(e){if(1!=l(e))return;if(e.defaultPrevented)return;var n=e.target;while(n&&"A"!=n.nodeName)n=n.parentNode;if(!n||"A"!=n.nodeName)return;var i=n.href,s=n.pathname+n.search;if(n.hash||"#"==n.getAttribute("href"))return;if(!c(i))return;var o=s;s=s.replace(t,"");if(t&&o==s)return;e.preventDefault(),r.show(o)}function l(e){return e=e||window.event,null==e.which?e.button:e.which}function c(e){var t=location.protocol+"//"+location.hostname;return location.port&&(t+=":"+location.port),0==e.indexOf(t)}var e=!0,t="",n;r.callbacks=[],r.base=function(e){if(0==arguments.length)return t;t=e},r.start=function(t){t=t||{};if(n)return;n=!0,!1===t.dispatch&&(e=!1),!1!==t.popstate&&window.addEventListener("popstate",a,!1),!1!==t.click&&window.addEventListener("click",f,!1);if(!e)return;r.replace(location.pathname+location.search,null,!0,e)},r.stop=function(){n=!1,removeEventListener("click",f,!1),removeEventListener("popstate",a,!1)},r.show=function(e,t){var n=new s(e,t);return r.dispatch(n),n.unhandled||n.pushState(),n},r.replace=function(e,t,n,i){var o=new s(e,t);return o.init=n,null==i&&(i=!0),i&&r.dispatch(o),o.save(),o},r.dispatch=function(e){function n(){var s=r.callbacks[t++];if(!s)return i(e);s(e,n)}var t=0;n()},r.Context=s,s.prototype.pushState=function(){history.pushState(this.state,this.title,this.canonicalPath)},s.prototype.save=function(){history.replaceState(this.state,this.title,this.canonicalPath)},r.Route=o,o.prototype.middleware=function(e){var t=this;return function(n,r){if(t.match(n.path,n.params))return e(n,r);r()}},o.prototype.match=function(e,t){var n=this.keys,r=e.indexOf("?"),i=~r?e.slice(0,r):e,s=this.regexp.exec(i);if(!s)return!1;for(var o=1,u=s.length;o<u;++o){var a=n[o-1],f="string"==typeof s[o]?decodeURIComponent(s[o]):s[o];a?t[a.name]=undefined!==t[a.name]?t[a.name]:f:t.push(f)}return!0},"undefined"==typeof module?window.page=r:module.exports=r})()
;
(function(){var e=function(){this._page=null,this._autorunHandle=null,this._filters={},this._activeFilters=[],this.listeners=new Meteor.deps._ContextSet};e.prototype._setPageFn=function(e,t){var n=this;n._autorunHandle&&n._autorunHandle.stop(),n._autorunHandle=Meteor.autorun(function(){var r=[];for(key in t.params)r.push(t.params[key]);var i=n._page;n._page=n._applyFilters(e.apply(t,r)),i!==n._page&&n.listeners.invalidateAll()})},e.prototype.add=function(e,t){var n=this;_.isObject(e)&&!_.isRegExp(e)?_.each(e,function(e,t){n.add(t,e)}):(_.isFunction(t)||(t=_.bind(_.identity,null,t)),page(e,_.bind(n._setPageFn,n,t)))},e.prototype.page=function(){return this.listeners.addCurrentContext(),this._page},e.prototype.to=function(e){page(e)},e.prototype.filters=function(e){_.extend(this._filters,e)},e.prototype.filter=function(e,t){var n=this;if(_.isObject(e))return _.each(e,function(e,t){n.filter(t,e)});t=t||{},t.name=e,t.only&&!_.isArray(t.only)&&(t.only=[t.only]),t.except&&!_.isArray(t.except)&&(t.except=[t.except]),n._activeFilters.push(t)},e.prototype.resetFilters=function(){this._activeFilters=[]},e.prototype._applyFilters=function(e){var t=this;return _.reduce(t._activeFilters,function(e,n){return t._applyFilter(e,n)},e)},e.prototype._applyFilter=function(e,t){var n=!0;return t.only?n=_.include(t.only,e):t.except&&(n=!_.include(t.except,e)),n?this._filters[t.name](e):e},Meteor.Router=new e,Meteor.startup(function(){page()})})()
;
typeof Handlebars!="undefined"&&Handlebars.registerHelper("renderPage",function(e,t){_.isString(e)||(e=Meteor.Router.page());if(Template[e])return new Handlebars.SafeString(Template[e]())})
;
window.CodeMirror=function(){"use strict";function S(e,n){if(!(this instanceof S))return new S(e,n);this.options=n=n||{};for(var r in _n)!n.hasOwnProperty(r)&&_n.hasOwnProperty(r)&&(n[r]=_n[r]);P(n);var i=typeof n.value=="string"?0:n.value.first,s=this.display=x(e,i);s.wrapper.CodeMirror=this,M(this),n.autofocus&&!d&&kt(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,focused:!1,suppressEdits:!1,pasteIncoming:!1,draggingText:!1,highlight:new xi},this.nextOpId=0,A(this),n.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap");var o=n.value;typeof o=="string"&&(o=new jr(n.value,n.mode)),bt(this,Rr)(this,o),t&&setTimeout(Di(Ct,this,!0),20),At(this);var u;try{u=document.activeElement==s.input}catch(a){}u||n.autofocus&&!d?setTimeout(Di(Gt,this),20):Yt(this),bt(this,function(){for(var e in Mn)Mn.propertyIsEnumerable(e)&&Mn[e](this,n[e],Pn);for(var t=0;t<Fn.length;++t)Fn[t](this)})()}function x(e,t){var r={},s=r.input=Fi("textarea",null,null,"position: absolute; padding: 0; width: 1px; height: 1em; outline: none;");i?s.style.width="1000px":s.setAttribute("wrap","off"),s.setAttribute("autocorrect","off"),s.setAttribute("autocapitalize","off"),r.inputDiv=Fi("div",[s],null,"overflow: hidden; position: relative; width: 3px; height: 0px;"),r.scrollbarH=Fi("div",[Fi("div",null,null,"height: 1px")],"CodeMirror-hscrollbar"),r.scrollbarV=Fi("div",[Fi("div",null,null,"width: 1px")],"CodeMirror-vscrollbar"),r.scrollbarFiller=Fi("div",null,"CodeMirror-scrollbar-filler"),r.lineDiv=Fi("div"),r.selectionDiv=Fi("div",null,null,"position: relative; z-index: 1"),r.cursor=Fi("div"," ","CodeMirror-cursor"),r.otherCursor=Fi("div"," ","CodeMirror-cursor CodeMirror-secondarycursor"),r.measure=Fi("div",null,"CodeMirror-measure"),r.lineSpace=Fi("div",[r.measure,r.selectionDiv,r.lineDiv,r.cursor,r.otherCursor],null,"position: relative; outline: none"),r.mover=Fi("div",[Fi("div",[r.lineSpace],"CodeMirror-lines")],null,"position: relative"),r.sizer=Fi("div",[r.mover],"CodeMirror-sizer"),r.heightForcer=Fi("div"," ",null,"position: absolute; height: "+Ei+"px"),r.gutters=Fi("div",null,"CodeMirror-gutters"),r.lineGutter=null;var o=Fi("div",[r.sizer,r.heightForcer,r.gutters],null,"position: relative; min-height: 100%");return r.scroller=Fi("div",[o],"CodeMirror-scroll"),r.scroller.setAttribute("tabIndex","-1"),r.wrapper=Fi("div",[r.inputDiv,r.scrollbarH,r.scrollbarV,r.scrollbarFiller,r.scroller],"CodeMirror"),n&&(r.gutters.style.zIndex=-1,r.scroller.style.paddingRight=0),e.appendChild?e.appendChild(r.wrapper):e(r.wrapper),p&&(s.style.width="0px"),i||(r.scroller.draggable=!0),f?(r.inputDiv.style.height="1px",r.inputDiv.style.position="absolute"):n&&(r.scrollbarH.style.minWidth=r.scrollbarV.style.minWidth="18px"),r.viewOffset=r.lastSizeC=0,r.showingFrom=r.showingTo=t,r.lineNumWidth=r.lineNumInnerWidth=r.lineNumChars=null,r.prevInput="",r.alignWidgets=!1,r.pollingFast=!1,r.poll=new xi,r.draggingText=!1,r.cachedCharWidth=r.cachedTextHeight=null,r.measureLineCache=[],r.measureLineCachePos=0,r.inaccurateSelection=!1,r.maxLine=null,r.maxLineLength=0,r.maxLineChanged=!1,r.wheelDX=r.wheelDY=r.wheelStartX=r.wheelStartY=null,r}function T(e){e.doc.mode=S.getMode(e.options,e.doc.modeOption),e.doc.iter(function(e){e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null)}),e.doc.frontier=e.doc.first,Z(e,100),e.state.modeGen++,e.curOp&&St(e)}function N(e){e.options.lineWrapping?(e.display.wrapper.className+=" CodeMirror-wrap",e.display.sizer.style.minWidth=""):(e.display.wrapper.className=e.display.wrapper.className.replace(" CodeMirror-wrap",""),D(e)),k(e),St(e),at(e),setTimeout(function(){H(e.display,e.doc.height)},100)}function C(e){var t=vt(e.display),n=e.options.lineWrapping,r=n&&Math.max(5,e.display.scroller.clientWidth/mt(e.display)-3);return function(i){return lr(e.doc,i)?0:n?(Math.ceil(i.text.length/r)||1)*t:t}}function k(e){var t=e.doc,n=C(e);t.iter(function(e){var t=n(e);t!=e.height&&Xr(e,t)})}function L(e){var t=Un[e.options.keyMap].style;e.display.wrapper.className=e.display.wrapper.className.replace(/\s*cm-keymap-\S+/g,"")+(t?" cm-keymap-"+t:"")}function A(e){e.display.wrapper.className=e.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+e.options.theme.replace(/(^|\s)\s*/g," cm-s-"),at(e)}function O(e){M(e),St(e)}function M(e){var t=e.display.gutters,n=e.options.gutters;Ii(t);for(var r=0;r<n.length;++r){var i=n[r],s=t.appendChild(Fi("div",null,"CodeMirror-gutter "+i));i=="CodeMirror-linenumbers"&&(e.display.lineGutter=s,s.style.width=(e.display.lineNumWidth||1)+"px")}t.style.display=r?"":"none"}function _(e,t){if(t.height==0)return 0;var n=t.text.length,r,i=t;while(r=ur(i)){var s=r.find();i=Ur(e,s.from.line),n+=s.from.ch-s.to.ch}i=t;while(r=ar(i)){var s=r.find();n-=i.text.length-s.from.ch,i=Ur(e,s.to.line),n+=i.text.length-s.to.ch}return n}function D(e){var t=e.display,n=e.doc;t.maxLine=Ur(n,n.first),t.maxLineLength=_(n,t.maxLine),t.maxLineChanged=!0,n.iter(function(e){var r=_(n,e);r>t.maxLineLength&&(t.maxLineLength=r,t.maxLine=e)})}function P(e){var t=!1;for(var n=0;n<e.gutters.length;++n)e.gutters[n]=="CodeMirror-linenumbers"&&(e.lineNumbers?t=!0:e.gutters.splice(n--,1));!t&&e.lineNumbers&&e.gutters.push("CodeMirror-linenumbers")}function H(e,t){var n=t+2*rt(e);e.sizer.style.minHeight=e.heightForcer.style.top=n+"px";var r=Math.max(n,e.scroller.scrollHeight),i=e.scroller.scrollWidth>e.scroller.clientWidth,s=r>e.scroller.clientHeight;s?(e.scrollbarV.style.display="block",e.scrollbarV.style.bottom=i?Xi(e.measure)+"px":"0",e.scrollbarV.firstChild.style.height=r-e.scroller.clientHeight+e.scrollbarV.clientHeight+"px"):e.scrollbarV.style.display="",i?(e.scrollbarH.style.display="block",e.scrollbarH.style.right=s?Xi(e.measure)+"px":"0",e.scrollbarH.firstChild.style.width=e.scroller.scrollWidth-e.scroller.clientWidth+e.scrollbarH.clientWidth+"px"):e.scrollbarH.style.display="",i&&s?(e.scrollbarFiller.style.display="block",e.scrollbarFiller.style.height=e.scrollbarFiller.style.width=Xi(e.measure)+"px"):e.scrollbarFiller.style.display="",l&&Xi(e.measure)===0&&(e.scrollbarV.style.minWidth=e.scrollbarH.style.minHeight=c?"18px":"12px")}function B(e,t,n){var r=e.scroller.scrollTop,i=e.wrapper.clientHeight;typeof n=="number"?r=n:n&&(r=n.top,i=n.bottom-n.top),r=Math.floor(r-rt(e));var s=Math.ceil(r+i);return{from:$r(t,r),to:$r(t,s)}}function j(e){var t=e.display;if(!t.alignWidgets&&(!t.gutters.firstChild||!e.options.fixedGutter))return;var n=q(t)-t.scroller.scrollLeft+e.doc.scrollLeft,r=t.gutters.offsetWidth,i=n+"px";for(var s=t.lineDiv.firstChild;s;s=s.nextSibling)if(s.alignable)for(var o=0,u=s.alignable;o<u.length;++o)u[o].style.left=i;e.options.fixedGutter&&(t.gutters.style.left=n+r+"px")}function F(e){if(!e.options.lineNumbers)return!1;var t=e.doc,n=I(e.options,t.first+t.size-1),r=e.display;if(n.length!=r.lineNumChars){var i=r.measure.appendChild(Fi("div",[Fi("div",n)],"CodeMirror-linenumber CodeMirror-gutter-elt")),s=i.firstChild.offsetWidth,o=i.offsetWidth-s;return r.lineGutter.style.width="",r.lineNumInnerWidth=Math.max(s,r.lineGutter.offsetWidth-o),r.lineNumWidth=r.lineNumInnerWidth+o,r.lineNumChars=r.lineNumInnerWidth?n.length:-1,r.lineGutter.style.width=r.lineNumWidth+"px",!0}return!1}function I(e,t){return String(e.lineNumberFormatter(t+e.firstLineNumber))}function q(e){return e.scroller.getBoundingClientRect().left-e.sizer.getBoundingClientRect().left}function R(e,t,n){var r=e.display.showingFrom,i=e.display.showingTo,s=U(e,t,n);return s&&(bi(e,"update",e),(e.display.showingFrom!=r||e.display.showingTo!=i)&&bi(e,"viewportChange",e,e.display.showingFrom,e.display.showingTo)),K(e),H(e.display,e.doc.height),s}function U(e,t,r){var i=e.display,s=e.doc;if(!i.wrapper.clientWidth){i.showingFrom=i.showingTo=s.first,i.viewOffset=0;return}var o=B(i,s,r);if(t.length==0&&o.from>i.showingFrom&&o.to<i.showingTo)return;F(e)&&(t=[{from:s.first,to:s.first+s.size}]);var u=i.sizer.style.marginLeft=i.gutters.offsetWidth+"px";i.scrollbarH.style.left=e.options.fixedGutter?u:"0";if(E)for(var a=0;a<t.length;++a){var f=t[a],l;while(l=ur(Ur(s,f.from))){var c=l.find().from.line;f.diff&&(f.diff-=f.from-c),f.from=c}}var h=Infinity;if(e.options.lineNumbers)for(var a=0;a<t.length;++a)if(t[a].diff){h=t[a].from;break}var p=s.first+s.size,c=Math.max(o.from-e.options.viewportMargin,s.first),d=Math.min(p,o.to+e.options.viewportMargin);i.showingFrom<c&&c-i.showingFrom<20&&(c=Math.max(s.first,i.showingFrom)),i.showingTo>d&&i.showingTo-d<20&&(d=Math.min(p,i.showingTo));if(E){c=Vr(fr(s,Ur(s,c)));while(d<p&&lr(s,Ur(s,d)))++d}var v=W([{from:i.showingFrom,to:i.showingTo}],t),m=0;for(var a=0;a<v.length;++a){var g=v[a];g.from<c&&(g.from=c),g.to>d&&(g.to=d),g.from>=g.to?v.splice(a--,1):m+=g.to-g.from}if(m==d-c&&c==i.showingFrom&&d==i.showingTo){z(e);return}v.sort(function(e,t){return e.from-t.from});var y=document.activeElement;m<(d-c)*.7&&(i.lineDiv.style.display="none"),V(e,c,d,v,h),i.lineDiv.style.display="",document.activeElement!=y&&y.offsetHeight&&y.focus();var b=c!=i.showingFrom||d!=i.showingTo||i.lastSizeC!=i.wrapper.clientHeight;b&&(i.lastSizeC=i.wrapper.clientHeight),i.showingFrom=c,i.showingTo=d,Z(e,100);var w=i.lineDiv.offsetTop;for(var S=i.lineDiv.firstChild,x;S;S=S.nextSibling)if(S.lineObj){if(n){var T=S.offsetTop+S.offsetHeight;x=T-w,w=T}else{var N=S.getBoundingClientRect();x=N.bottom-N.top}var C=S.lineObj.height-x;x<2&&(x=vt(i));if(C>.001||C<-0.001){Xr(S.lineObj,x);var k=S.lineObj.widgets;if(k)for(var a=0;a<k.length;++a)k[a].height=k[a].node.offsetHeight}}return z(e),B(i,s,r).to>=d&&U(e,[],r),!0}function z(e){var t=e.display.viewOffset=Jr(e,Ur(e.doc,e.display.showingFrom));e.display.mover.style.top=t+"px"}function W(e,t){for(var n=0,r=t.length||0;n<r;++n){var i=t[n],s=[],o=i.diff||0;for(var u=0,a=e.length;u<a;++u){var f=e[u];i.to<=f.from&&i.diff?s.push({from:f.from+o,to:f.to+o}):i.to<=f.from||i.from>=f.to?s.push(f):(i.from>f.from&&s.push({from:f.from,to:i.from}),i.to<f.to&&s.push({from:i.to+o,to:f.to+o}))}e=s}return e}function X(e){var t=e.display,n={},r={};for(var i=t.gutters.firstChild,s=0;i;i=i.nextSibling,++s)n[e.options.gutters[s]]=i.offsetLeft,r[e.options.gutters[s]]=i.offsetWidth;return{fixedPos:q(t),gutterTotalWidth:t.gutters.offsetWidth,gutterLeft:n,gutterWidth:r,wrapperWidth:t.wrapper.clientWidth}}function V(e,t,n,r,s){function c(t){var n=t.nextSibling;return i&&v&&e.display.currentWheelTarget==t?(t.style.display="none",t.lineObj=null):t.parentNode.removeChild(t),n}var o=X(e),u=e.display,a=e.options.lineNumbers;!r.length&&(!i||!e.display.currentWheelTarget)&&Ii(u.lineDiv);var f=u.lineDiv,l=f.firstChild,h=r.shift(),p=t;e.doc.iter(t,n,function(t){h&&h.to==p&&(h=r.shift());if(lr(e.doc,t)){t.height!=0&&Xr(t,0);if(t.widgets&&l.previousSibling)for(var n=0;n<t.widgets.length;++n)if(t.widgets[n].showIfHidden){var i=l.previousSibling;if(/pre/i.test(i.nodeName)){var u=Fi("div",null,null,"position: relative");i.parentNode.replaceChild(u,i),u.appendChild(i),i=u}var d=i.appendChild(Fi("div",[t.widgets[n].node],"CodeMirror-linewidget"));J(t.widgets[n],d,i,o)}}else if(h&&h.from<=p&&h.to>p){while(l.lineObj!=t)l=c(l);a&&s<=p&&l.lineNumber&&Ri(l.lineNumber,I(e.options,p)),l=l.nextSibling}else{if(t.widgets)for(var v=0,m=l,g;m&&v<20;++v,m=m.nextSibling)if(m.lineObj==t&&/div/i.test(m.nodeName)){g=m;break}var y=$(e,t,p,o,g);if(y!=g)f.insertBefore(y,l);else{while(l!=g)l=c(l);l=l.nextSibling}y.lineObj=t}++p});while(l)l=c(l)}function $(e,t,r,i,s){var o=kr(e,t),u=t.gutterMarkers,a=e.display,f;if(!e.options.lineNumbers&&!u&&!t.bgClass&&!t.wrapClass&&!t.widgets)return o;if(s){s.alignable=null;var l=!0,c=0;for(var h=s.firstChild,p;h;h=p){p=h.nextSibling;if(!/\bCodeMirror-linewidget\b/.test(h.className))s.removeChild(h);else{for(var d=0,v=!0;d<t.widgets.length;++d){var m=t.widgets[d],g=!1;m.above||(g=v,v=!1);if(m.node==h.firstChild){J(m,h,s,i),++c,g&&s.insertBefore(o,h);break}}if(d==t.widgets.length){l=!1;break}}}l&&c==t.widgets.length&&(f=s,s.className=t.wrapClass||"")}f||(f=Fi("div",null,t.wrapClass,"position: relative"),f.appendChild(o)),t.bgClass&&f.insertBefore(Fi("div"," ",t.bgClass+" CodeMirror-linebackground"),f.firstChild);if(e.options.lineNumbers||u){var y=f.insertBefore(Fi("div",null,null,"position: absolute; left: "+(e.options.fixedGutter?i.fixedPos:-i.gutterTotalWidth)+"px"),f.firstChild);e.options.fixedGutter&&(f.alignable||(f.alignable=[])).push(y),e.options.lineNumbers&&(!u||!u["CodeMirror-linenumbers"])&&(f.lineNumber=y.appendChild(Fi("div",I(e.options,r),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+i.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+a.lineNumInnerWidth+"px")));if(u)for(var b=0;b<e.options.gutters.length;++b){var w=e.options.gutters[b],E=u.hasOwnProperty(w)&&u[w];E&&y.appendChild(Fi("div",[E],"CodeMirror-gutter-elt","left: "+i.gutterLeft[w]+"px; width: "+i.gutterWidth[w]+"px"))}}n&&(f.style.zIndex=2);if(t.widgets&&f!=s)for(var d=0,S=t.widgets;d<S.length;++d){var m=S[d],x=Fi("div",[m.node],"CodeMirror-linewidget");J(m,x,f,i),m.above?f.insertBefore(x,e.options.lineNumbers&&t.height!=0?y:o):f.appendChild(x),bi(m,"redraw")}return f}function J(e,t,n,r){if(e.noHScroll){(n.alignable||(n.alignable=[])).push(t);var i=r.wrapperWidth;t.style.left=r.fixedPos+"px",e.coverGutter||(i-=r.gutterTotalWidth,t.style.paddingLeft=r.gutterTotalWidth+"px"),t.style.width=i+"px"}e.coverGutter&&(t.style.zIndex=5,t.style.position="relative",e.noHScroll||(t.style.marginLeft=-r.gutterTotalWidth+"px"))}function K(e){var t=e.display,n=hn(e.doc.sel.from,e.doc.sel.to);n||e.options.showCursorWhenSelecting?Q(e):t.cursor.style.display=t.otherCursor.style.display="none",n?t.selectionDiv.style.display="none":G(e);var r=ct(e,e.doc.sel.head,"div"),i=t.wrapper.getBoundingClientRect(),s=t.lineDiv.getBoundingClientRect();t.inputDiv.style.top=Math.max(0,Math.min(t.wrapper.clientHeight-10,r.top+s.top-i.top))+"px",t.inputDiv.style.left=Math.max(0,Math.min(t.wrapper.clientWidth-10,r.left+s.left-i.left))+"px"}function Q(e){var t=e.display,n=ct(e,e.doc.sel.head,"div");t.cursor.style.left=n.left+"px",t.cursor.style.top=n.top+"px",t.cursor.style.height=Math.max(0,n.bottom-n.top)*e.options.cursorHeight+"px",t.cursor.style.display="",n.other?(t.otherCursor.style.display="",t.otherCursor.style.left=n.other.left+"px",t.otherCursor.style.top=n.other.top+"px",t.otherCursor.style.height=(n.other.bottom-n.other.top)*.85+"px"):t.otherCursor.style.display="none"}function G(e){function u(e,t,n,r){t<0&&(t=0),i.appendChild(Fi("div",null,"CodeMirror-selected","position: absolute; left: "+e+"px; top: "+t+"px; width: "+(n==null?s-e:n)+"px; height: "+(r-t)+"px"))}function a(t,r,i,a){function h(n){return lt(e,cn(t,n),"div",f)}var f=Ur(n,t),l=f.text.length,c=a?Infinity:-Infinity;return Yi(Kr(f),r||0,i==null?l:i,function(e,t,n){var f=h(n=="rtl"?t-1:e),p=h(n=="rtl"?e:t-1),d=f.left,v=p.right;p.top-f.top>3&&(u(d,f.top,null,f.bottom),d=o,f.bottom<p.top&&u(d,f.bottom,null,p.top)),i==null&&t==l&&(v=s),r==null&&e==0&&(d=o),c=a?Math.min(p.top,c):Math.max(p.bottom,c),d<o+1&&(d=o),u(d,p.top,v-d,p.bottom)}),c}var t=e.display,n=e.doc,r=e.doc.sel,i=document.createDocumentFragment(),s=t.lineSpace.offsetWidth,o=it(e.display);if(r.from.line==r.to.line)a(r.from.line,r.from.ch,r.to.ch);else{var f=Ur(n,r.from.line),l=f,c,h=[r.from.line,r.from.ch],p;while(c=ar(l)){var d=c.find();h.push(d.from.ch,d.to.line,d.to.ch);if(d.to.line==r.to.line){h.push(r.to.ch),p=!0;break}l=Ur(n,d.to.line)}if(p)for(var v=0;v<h.length;v+=3)a(h[v],h[v+1],h[v+2]);else{var m,g,y=Ur(n,r.to.line);r.from.ch?m=a(r.from.line,r.from.ch,null,!1):m=Jr(e,f)-t.viewOffset,r.to.ch?g=a(r.to.line,ur(y)?null:0,r.to.ch,!0):g=Jr(e,y)-t.viewOffset,m<g&&u(o,m,null,g)}}qi(t.selectionDiv,i),t.selectionDiv.style.display=""}function Y(e){var t=e.display;clearInterval(t.blinker);var n=!0;t.cursor.style.visibility=t.otherCursor.style.visibility="",t.blinker=setInterval(function(){if(!t.cursor.offsetHeight)return;t.cursor.style.visibility=t.otherCursor.style.visibility=(n=!n)?"":"hidden"},e.options.cursorBlinkRate)}function Z(e,t){e.doc.mode.startState&&e.doc.frontier<e.display.showingTo&&e.state.highlight.set(t,Di(et,e))}function et(e){var t=e.doc;t.frontier<t.first&&(t.frontier=t.first);if(t.frontier>=e.display.showingTo)return;var n=+(new Date)+e.options.workTime,r=In(t.mode,nt(e,t.frontier)),i=[],s;t.iter(t.frontier,Math.min(t.first+t.size,e.display.showingTo+500),function(o){if(t.frontier>=e.display.showingFrom){var u=o.styles;o.styles=Sr(e,o,r);var a=!u||u.length!=o.styles.length;for(var f=0;!a&&f<u.length;++f)a=u[f]!=o.styles[f];a&&(s&&s.end==t.frontier?s.end++:i.push(s={start:t.frontier,end:t.frontier+1})),o.stateAfter=In(t.mode,r)}else Tr(e,o,r),o.stateAfter=t.frontier%5==0?In(t.mode,r):null;++t.frontier;if(+(new Date)>n)return Z(e,e.options.workDelay),!0}),i.length&&bt(e,function(){for(var e=0;e<i.length;++e)St(this,i[e].start,i[e].end)})()}function tt(e,t){var n,r,i=e.doc;for(var s=t,o=t-100;s>o;--s){if(s<=i.first)return i.first;var u=Ur(i,s-1);if(u.stateAfter)return s;var a=Ti(u.text,null,e.options.tabSize);if(r==null||n>a)r=s-1,n=a}return r}function nt(e,t){var n=e.doc,r=e.display;if(!n.mode.startState)return!0;var i=tt(e,t),s=i>n.first&&Ur(n,i-1).stateAfter;return s?s=In(n.mode,s):s=qn(n.mode),n.iter(i,t,function(o){Tr(e,o,s);var u=i==t-1||i%5==0||i>=r.showingFrom&&i<r.showingTo;o.stateAfter=u?In(n.mode,s):null,++i}),s}function rt(e){return e.lineSpace.offsetTop}function it(e){var t=qi(e.measure,Fi("pre")).appendChild(Fi("span","x"));return t.offsetLeft}function st(e,t,n,r){var i=-1;r=r||ot(e,t);for(var s=n;;s+=i){var o=r[s];if(o)break;i<0&&s==0&&(i=1)}return{left:s<n?o.right:o.left,right:s>n?o.left:o.right,top:o.top,bottom:o.bottom}}function ot(e,t){var n=e.display,r=e.display.measureLineCache;for(var i=0;i<r.length;++i){var s=r[i];if(s.text==t.text&&s.markedSpans==t.markedSpans&&n.scroller.clientWidth==s.width&&s.classes==t.textClass+"|"+t.bgClass+"|"+t.wrapClass)return s.measure}var o=ut(e,t),s={text:t.text,width:n.scroller.clientWidth,markedSpans:t.markedSpans,measure:o,classes:t.textClass+"|"+t.bgClass+"|"+t.wrapClass};return r.length==16?r[++n.measureLineCachePos%16]=s:r.push(s),o}function ut(e,i){var s=e.display,o=_i(i.text.length),u=kr(e,i,o);if(t&&!n&&!e.options.lineWrapping&&u.childNodes.length>100){var a=document.createDocumentFragment(),f=10,l=u.childNodes.length;for(var c=0,h=Math.ceil(l/f);c<h;++c){var p=Fi("div",null,null,"display: inline-block");for(var d=0;d<f&&l;++d)p.appendChild(u.firstChild),--l;a.appendChild(p)}u.appendChild(a)}qi(s.measure,u);var v=s.lineDiv.getBoundingClientRect(),m=[],g=_i(i.text.length),y=u.offsetHeight;r&&s.measure.first!=u&&qi(s.measure,u);for(var c=0,b;c<o.length;++c)if(b=o[c]){var w=b.getBoundingClientRect(),E=Math.max(0,w.top-v.top),S=Math.min(w.bottom-v.top,y);for(var d=0;d<m.length;d+=2){var x=m[d],T=m[d+1];if(x>S||T<E)continue;if(x<=E&&T>=S||E<=x&&S>=T||Math.min(S,T)-Math.max(E,x)>=S-E>>1){m[d]=Math.min(E,x),m[d+1]=Math.max(S,T);break}}d==m.length&&m.push(E,S),g[c]={left:w.left-v.left,right:w.right-v.left,top:d}}for(var c=0,b;c<g.length;++c)if(b=g[c]){var N=b.top;b.top=m[N],b.bottom=m[N+1]}if(!e.options.lineWrapping){var C=u.lastChild;C.nodeType==3&&(C=u.appendChild(Fi("span","​"))),g.width=C.getBoundingClientRect().right-v.left}return g}function at(e){e.display.measureLineCache.length=e.display.measureLineCachePos=0,e.display.cachedCharWidth=e.display.cachedTextHeight=null,e.display.maxLineChanged=!0,e.display.lineNumChars=null}function ft(e,t,n,r){if(t.widgets)for(var i=0;i<t.widgets.length;++i)if(t.widgets[i].above){var s=mr(t.widgets[i]);n.top+=s,n.bottom+=s}if(r=="line")return n;r||(r="local");var o=Jr(e,t);r!="local"&&(o-=e.display.viewOffset);if(r=="page"){var u=e.display.lineSpace.getBoundingClientRect();o+=u.top+(window.pageYOffset||(document.documentElement||document.body).scrollTop);var a=u.left+(window.pageXOffset||(document.documentElement||document.body).scrollLeft);n.left+=a,n.right+=a}return n.top+=o,n.bottom+=o,n}function lt(e,t,n,r){return r||(r=Ur(e.doc,t.line)),ft(e,r,st(e,r,t.ch),n)}function ct(e,t,n,r,i){function s(t,s){var o=st(e,r,t,i);return s?o.left=o.right:o.right=o.left,ft(e,r,o,n)}r=r||Ur(e.doc,t.line),i||(i=ot(e,r));var o=Kr(r),u=t.ch;if(!o)return s(u);var a,f,l=o[0].level;for(var c=0;c<o.length;++c){var h=o[c],p=h.level%2,d,v;if(h.from<u&&h.to>u)return s(u,p);var m=p?h.to:h.from,g=p?h.from:h.to;if(m==u)c&&h.level<(d=o[c-1]).level?v=s(d.level%2?d.from:d.to-1,!0):v=s(p&&h.from!=h.to?u-1:u),p==l?a=v:f=v;else if(g==u){var d=c<o.length-1&&o[c+1];if(!p&&d&&d.from==d.to)continue;d&&h.level<d.level?v=s(d.level%2?d.to-1:d.from):v=s(p?u:u-1,!0),p==l?a=v:f=v}}return l&&!u&&(f=s(o[0].to-1)),a?(f&&(a.other=f),a):f}function ht(e,t,n){var r=e.doc;n+=e.display.viewOffset;if(n<0)return{line:r.first,ch:0,outside:!0};var i=$r(r,n),s=r.first+r.size-1;if(i>s)return cn(r.size-1,Ur(r,s).text.length);t<0&&(t=0);for(;;){var o=Ur(r,i),u=pt(e,o,i,t,n),a=ar(o),f=a&&a.find();if(!(a&&u.ch>=f.from.ch))return u;i=f.to.line}}function pt(e,t,n,r,i){function f(r){var i=ct(e,cn(n,r),"line",t,a);return o=!0,s>i.bottom?Math.max(0,i.left-u):s<i.top?i.left+u:(o=!1,i.left)}var s=i-Jr(e,t),o=!1,u=e.display.wrapper.clientWidth,a=ot(e,t),l=Kr(t),c=t.text.length,h=ts(t),p=ns(t),d=f(h),v=f(p);if(r>v)return{line:n,ch:p,outside:o};for(;;){if(l?p==h||p==ss(t,h,1):p-h<=1){var m=r-d<v-r,g=m?h:p;while(ji.test(t.text.charAt(g)))++g;return{line:n,ch:g,after:m,outside:o}}var y=Math.ceil(c/2),b=h+y;if(l){b=h;for(var w=0;w<y;++w)b=ss(t,b,1)}var E=f(b);E>r?(p=b,v=E,o&&(v+=1e3),c-=y):(h=b,d=E,c=y)}}function vt(e){if(e.cachedTextHeight!=null)return e.cachedTextHeight;if(dt==null){dt=Fi("pre");for(var t=0;t<49;++t)dt.appendChild(document.createTextNode("x")),dt.appendChild(Fi("br"));dt.appendChild(document.createTextNode("x"))}qi(e.measure,dt);var n=dt.offsetHeight/50;return n>3&&(e.cachedTextHeight=n),Ii(e.measure),n||1}function mt(e){if(e.cachedCharWidth!=null)return e.cachedCharWidth;var t=Fi("span","x"),n=Fi("pre",[t]);qi(e.measure,n);var r=t.offsetWidth;return r>2&&(e.cachedCharWidth=r),r||10}function gt(e){e.curOp={changes:[],updateInput:null,userSelChange:null,textChanged:null,selectionChanged:!1,updateMaxLine:!1,updateScrollPos:!1,id:++e.nextOpId},yi++||(gi=[])}function yt(e){var t=e.curOp,n=e.doc,r=e.display;e.curOp=null,t.updateMaxLine&&D(e);if(r.maxLineChanged&&!e.options.lineWrapping){var i=ot(e,r.maxLine).width;r.sizer.style.minWidth=Math.max(0,i+3+Ei)+"px",r.maxLineChanged=!1;var s=Math.max(0,r.sizer.offsetLeft+r.sizer.offsetWidth-r.scroller.clientWidth);s<n.scrollLeft&&!t.updateScrollPos&&It(e,Math.min(r.scroller.scrollLeft,s),!0)}var o,u;if(t.updateScrollPos)o=t.updateScrollPos;else if(t.selectionChanged){var a=ct(e,n.sel.head);o=Nn(e,a.left,a.top,a.left,a.bottom)}if(t.changes.length||o&&o.scrollTop!=null)u=R(e,t.changes,o&&o.scrollTop);!u&&t.selectionChanged&&K(e),t.updateScrollPos?(r.scroller.scrollTop=r.scrollbarV.scrollTop=n.scrollTop=o.scrollTop,r.scroller.scrollLeft=r.scrollbarH.scrollLeft=n.scrollLeft=o.scrollLeft,j(e)):o&&Sn(e),t.selectionChanged&&Y(e),e.state.focused&&t.updateInput&&Ct(e,t.userSelChange);var f=t.maybeHiddenMarkers,l=t.maybeUnhiddenMarkers;if(f)for(var c=0;c<f.length;++c)f[c].lines.length||mi(f[c],"hide");if(l)for(var c=0;c<l.length;++c)l[c].lines.length&&mi(l[c],"unhide");var h;--yi||(h=gi,gi=null),t.textChanged&&mi(e,"change",e,t.textChanged),t.selectionChanged&&mi(e,"cursorActivity",e);if(h)for(var c=0;c<h.length;++c)h[c](e)}function bt(e,t){return function(){var n=e||this,r=!n.curOp;r&&gt(n);try{var i=t.apply(n,arguments)}finally{r&&yt(n)}return i}}function wt(e){return function(){var t=this.cm&&!this.cm.curOp,n;t&&gt(this.cm);try{n=e.apply(this,arguments)}finally{t&&yt(this.cm)}return n}}function Et(e,t){var n=!e.curOp,r;n&&gt(e);try{r=t()}finally{n&&yt(e)}return r}function St(e,t,n,r){t==null&&(t=e.doc.first),n==null&&(n=e.doc.first+e.doc.size),e.curOp.changes.push({from:t,to:n,diff:r})}function xt(e){if(e.display.pollingFast)return;e.display.poll.set(e.options.pollInterval,function(){Nt(e),e.state.focused&&xt(e)})}function Tt(e){function n(){var r=Nt(e);!r&&!t?(t=!0,e.display.poll.set(60,n)):(e.display.pollingFast=!1,xt(e))}var t=!1;e.display.pollingFast=!0,e.display.poll.set(20,n)}function Nt(e){var t=e.display.input,n=e.display.prevInput,r=e.doc,i=r.sel;if(!e.state.focused||Ki(t)||Lt(e))return!1;var s=t.value;if(s==n&&hn(i.from,i.to))return!1;var o=!e.curOp;o&&gt(e),i.shift=!1;var u=0,a=Math.min(n.length,s.length);while(u<a&&n[u]==s[u])++u;var f=i.from,l=i.to;u<n.length?f=cn(f.line,f.ch-(n.length-u)):e.state.overwrite&&hn(f,l)&&!e.state.pasteIncoming&&(l=cn(l.line,Math.min(Ur(r,l.line).text.length,l.ch+(s.length-u))));var c=e.curOp.updateInput;return rn(e.doc,{from:f,to:l,text:Ji(s.slice(u)),origin:e.state.pasteIncoming?"paste":"+input"},"end"),e.curOp.updateInput=c,s.length>1e3?t.value=e.display.prevInput="":e.display.prevInput=s,o&&yt(e),e.state.pasteIncoming=!1,!0}function Ct(e,t){var n,r,i=e.doc;hn(i.sel.from,i.sel.to)?t&&(e.display.prevInput=e.display.input.value=""):(e.display.prevInput="",n=Qi&&(i.sel.to.line-i.sel.from.line>100||(r=e.getSelection()).length>1e3),n?e.display.input.value="-":e.display.input.value=r||e.getSelection(),e.state.focused&&Li(e.display.input)),e.display.inaccurateSelection=n}function kt(e){e.options.readOnly!="nocursor"&&(!d||document.activeElement!=e.display.input)&&e.display.input.focus()}function Lt(e){return e.options.readOnly||e.doc.cantEdit}function At(e){function n(){e.state.focused&&setTimeout(Di(kt,e),0)}function r(){t.cachedCharWidth=t.cachedTextHeight=null,at(e),Et(e,Di(St,e))}function i(){for(var e=t.wrapper.parentNode;e&&e!=document.body;e=e.parentNode);e?setTimeout(i,5e3):vi(window,"resize",r)}function s(t){if(e.options.onDragEvent&&e.options.onDragEvent(e,ui(t)))return;li(t)}function o(){t.inaccurateSelection&&(t.prevInput="",t.inaccurateSelection=!1,t.input.value=e.getSelection(),Li(t.input))}var t=e.display;di(t.scroller,"mousedown",bt(e,Pt)),di(t.scroller,"dblclick",bt(e,ai)),di(t.lineSpace,"selectstart",function(e){Ot(t,e)||ai(e)}),b||di(t.scroller,"contextmenu",function(t){en(e,t)}),di(t.scroller,"scroll",function(){Ft(e,t.scroller.scrollTop),It(e,t.scroller.scrollLeft,!0),mi(e,"scroll",e)}),di(t.scrollbarV,"scroll",function(){Ft(e,t.scrollbarV.scrollTop)}),di(t.scrollbarH,"scroll",function(){It(e,t.scrollbarH.scrollLeft)}),di(t.scroller,"mousewheel",function(t){Ut(e,t)}),di(t.scroller,"DOMMouseScroll",function(t){Ut(e,t)}),di(t.scrollbarH,"mousedown",n),di(t.scrollbarV,"mousedown",n),di(t.wrapper,"scroll",function(){t.wrapper.scrollTop=t.wrapper.scrollLeft=0}),di(window,"resize",r),setTimeout(i,5e3),di(t.input,"keyup",bt(e,function(t){if(e.options.onKeyEvent&&e.options.onKeyEvent(e,ui(t)))return;pi(t,"keyCode")==16&&(e.doc.sel.shift=!1)})),di(t.input,"input",Di(Tt,e)),di(t.input,"keydown",bt(e,Kt)),di(t.input,"keypress",bt(e,Qt)),di(t.input,"focus",Di(Gt,e)),di(t.input,"blur",Di(Yt,e)),e.options.dragDrop&&(di(t.scroller,"dragstart",function(t){jt(e,t)}),di(t.scroller,"dragenter",s),di(t.scroller,"dragover",s),di(t.scroller,"drop",bt(e,Ht))),di(t.scroller,"paste",function(n){if(Ot(t,n))return;kt(e),Tt(e)}),di(t.input,"paste",function(){e.state.pasteIncoming=!0,Tt(e)}),di(t.input,"cut",o),di(t.input,"copy",o),f&&di(t.sizer,"mouseup",function(){document.activeElement==t.input&&t.input.blur(),kt(e)})}function Ot(e,t){for(var n=ci(t);n!=e.wrapper;n=n.parentNode){if(!n)return!0;if(/\bCodeMirror-(?:line)?widget\b/.test(n.className)||n.parentNode==e.sizer&&n!=e.mover)return!0}}function Mt(e,t,n){var r=e.display;if(!n){var i=ci(t);if(i==r.scrollbarH||i==r.scrollbarH.firstChild||i==r.scrollbarV||i==r.scrollbarV.firstChild||i==r.scrollbarFiller)return null}var s,o,u=r.lineSpace.getBoundingClientRect();try{s=t.clientX,o=t.clientY}catch(t){return null}return ht(e,s-u.left,o-u.top)}function Pt(e){function v(e){if(f=="single"){yn(n.doc,mn(s,u),e);return}p=mn(s,p),d=mn(s,d);if(f=="double"){var t=An(Ur(s,e.line).text,e);pn(e,p)?yn(n.doc,t.from,d):yn(n.doc,p,t.to)}else f=="triple"&&(pn(e,p)?yn(n.doc,d,mn(s,cn(e.line,0))):yn(n.doc,p,mn(s,cn(e.line+1,0))))}function y(e){var t=++g,i=Mt(n,e,!0);if(!i)return;if(!hn(i,c)){n.state.focused||Gt(n),c=i,v(i);var o=B(r,s);(i.line>=o.to||i.line<o.from)&&setTimeout(bt(n,function(){g==t&&y(e)}),150)}else{var u=e.clientY<m.top?-20:e.clientY>m.bottom?20:0;u&&setTimeout(bt(n,function(){if(g!=t)return;r.scroller.scrollTop+=u,y(e)}),50)}}function w(e){g=Infinity;var t=Mt(n,e);t&&v(t),ai(e),kt(n),vi(document,"mousemove",E),vi(document,"mouseup",S)}var n=this,r=n.display,s=n.doc,o=s.sel;o.shift=pi(e,"shiftKey");if(Ot(r,e)){i||(r.scroller.draggable=!1,setTimeout(function(){r.scroller.draggable=!0},100));return}if(Bt(n,e))return;var u=Mt(n,e);switch(hi(e)){case 3:b&&en.call(n,n,e);return;case 2:u&&yn(n.doc,u),setTimeout(Di(kt,n),20),ai(e);return}if(!u){ci(e)==r.scroller&&ai(e);return}n.state.focused||Gt(n);var a=+(new Date),f="single";if(Dt&&Dt.time>a-400&&hn(Dt.pos,u))f="triple",ai(e),setTimeout(Di(kt,n),20),On(n,u.line);else if(_t&&_t.time>a-400&&hn(_t.pos,u)){f="double",Dt={time:a,pos:u},ai(e);var l=An(Ur(s,u.line).text,u);yn(n.doc,l.from,l.to)}else _t={time:a,pos:u};var c=u;if(n.options.dragDrop&&Ui&&!Lt(n)&&!hn(o.from,o.to)&&!pn(u,o.from)&&!pn(o.to,u)&&f=="single"){var h=bt(n,function(t){i&&(r.scroller.draggable=!1),n.state.draggingText=!1,vi(document,"mouseup",h),vi(r.scroller,"drop",h),Math.abs(e.clientX-t.clientX)+Math.abs(e.clientY-t.clientY)<10&&(ai(t),yn(n.doc,u),kt(n))});i&&(r.scroller.draggable=!0),n.state.draggingText=h,r.scroller.dragDrop&&r.scroller.dragDrop(),di(document,"mouseup",h),di(r.scroller,"drop",h);return}ai(e),f=="single"&&yn(n.doc,mn(s,u));var p=o.from,d=o.to,m=r.wrapper.getBoundingClientRect(),g=0,E=bt(n,function(e){!t&&!hi(e)?w(e):y(e)}),S=bt(n,w);di(document,"mousemove",E),di(document,"mouseup",S)}function Ht(e){var t=this;if(Ot(t.display,e)||t.options.onDragEvent&&t.options.onDragEvent(t,ui(e)))return;ai(e);var n=Mt(t,e,!0),r=e.dataTransfer.files;if(!n||Lt(t))return;if(r&&r.length&&window.FileReader&&window.File){var i=r.length,s=Array(i),o=0,u=function(e,r){var u=new FileReader;u.onload=function(){s[r]=u.result,++o==i&&(n=mn(t.doc,n),ln(t.doc,s.join(""),n,"around","paste"))},u.readAsText(e)};for(var a=0;a<i;++a)u(r[a],a)}else{if(t.state.draggingText&&!pn(n,t.doc.sel.from)&&!pn(t.doc.sel.to,n)){t.state.draggingText(e),setTimeout(Di(kt,t),20);return}try{var s=e.dataTransfer.getData("Text");if(s){var f=t.doc.sel.from,l=t.doc.sel.to;bn(t.doc,n,n),t.state.draggingText&&ln(t.doc,"",f,l,"paste"),t.replaceSelection(s,null,"paste"),kt(t),Gt(t)}}catch(e){}}}function Bt(e,t){var n=e.display;try{var r=t.clientX,i=t.clientY}catch(t){return!1}if(r>=Math.floor(n.gutters.getBoundingClientRect().right))return!1;ai(t);if(!wi(e,"gutterClick"))return!0;var s=n.lineDiv.getBoundingClientRect();if(i>s.bottom)return!0;i-=s.top-n.viewOffset;for(var o=0;o<e.options.gutters.length;++o){var u=n.gutters.childNodes[o];if(u&&u.getBoundingClientRect().right>=r){var a=$r(e.doc,i),f=e.options.gutters[o];bi(e,"gutterClick",e,a,f,t);break}}return!0}function jt(e,t){if(Ot(e.display,t))return;var n=e.getSelection();t.dataTransfer.setData("Text",n);if(t.dataTransfer.setDragImage&&!a){var r=Fi("img",null,null,"position: fixed; left: 0; top: 0;");u&&(r.width=r.height=1,e.display.wrapper.appendChild(r),r._top=r.offsetTop),t.dataTransfer.setDragImage(r,0,0),u&&r.parentNode.removeChild(r)}}function Ft(t,n){if(Math.abs(t.doc.scrollTop-n)<2)return;t.doc.scrollTop=n,e||R(t,[],n),t.display.scroller.scrollTop!=n&&(t.display.scroller.scrollTop=n),t.display.scrollbarV.scrollTop!=n&&(t.display.scrollbarV.scrollTop=n),e&&R(t,[])}function It(e,t,n){if(n?t==e.doc.scrollLeft:Math.abs(e.doc.scrollLeft-t)<2)return;t=Math.min(t,e.display.scroller.scrollWidth-e.display.scroller.clientWidth),e.doc.scrollLeft=t,j(e),e.display.scroller.scrollLeft!=t&&(e.display.scroller.scrollLeft=t),e.display.scrollbarH.scrollLeft!=t&&(e.display.scrollbarH.scrollLeft=t)}function Ut(t,n){var r=n.wheelDeltaX,s=n.wheelDeltaY;r==null&&n.detail&&n.axis==n.HORIZONTAL_AXIS&&(r=n.detail),s==null&&n.detail&&n.axis==n.VERTICAL_AXIS?s=n.detail:s==null&&(s=n.wheelDelta);if(s&&v&&i)for(var o=n.target;o!=f;o=o.parentNode)if(o.lineObj){t.display.currentWheelTarget=o;break}var a=t.display,f=a.scroller;if(r&&!e&&!u&&Rt!=null){s&&Ft(t,Math.max(0,Math.min(f.scrollTop+s*Rt,f.scrollHeight-f.clientHeight))),It(t,Math.max(0,Math.min(f.scrollLeft+r*Rt,f.scrollWidth-f.clientWidth))),ai(n),a.wheelStartX=null;return}if(s&&Rt!=null){var l=s*Rt,c=t.doc.scrollTop,h=c+a.wrapper.clientHeight;l<0?c=Math.max(0,c+l-50):h=Math.min(t.doc.height,h+l+50),R(t,[],{top:c,bottom:h})}qt<20&&(a.wheelStartX==null?(a.wheelStartX=f.scrollLeft,a.wheelStartY=f.scrollTop,a.wheelDX=r,a.wheelDY=s,setTimeout(function(){if(a.wheelStartX==null)return;var e=f.scrollLeft-a.wheelStartX,t=f.scrollTop-a.wheelStartY,n=t&&a.wheelDY&&t/a.wheelDY||e&&a.wheelDX&&e/a.wheelDX;a.wheelStartX=a.wheelStartY=null;if(!n)return;Rt=(Rt*qt+n)/(qt+1),++qt},200)):(a.wheelDX+=r,a.wheelDY+=s))}function zt(e,t,n){if(typeof t=="string"){t=Rn[t];if(!t)return!1}e.display.pollingFast&&Nt(e)&&(e.display.pollingFast=!1);var r=e.doc,i=r.sel.shift;try{Lt(e)&&(e.state.suppressEdits=!0),n&&(r.sel.shift=!1),t(e)}finally{r.sel.shift=i,e.state.suppressEdits=!1}return!0}function Wt(e){var t=e.state.keyMaps.slice(0);return t.push(e.options.keyMap),e.options.extraKeys&&t.unshift(e.options.extraKeys),t}function Vt(e,t){var n=zn(e.options.keyMap),i=n.auto;clearTimeout(Xt),i&&!Xn(t)&&(Xt=setTimeout(function(){zn(e.options.keyMap)==n&&(e.options.keyMap=i.call?i.call(null,e):i)},50));var s=Vn(t,!0),o=!1;if(!s)return!1;var u=Wt(e);return pi(t,"shiftKey")?o=Wn("Shift-"+s,u,function(t){return zt(e,t,!0)})||Wn(s,u,function(t){if(typeof t=="string"&&/^go[A-Z]/.test(t))return zt(e,t)}):o=Wn(s,u,function(t){return zt(e,t)}),o=="stop"&&(o=!1),o&&(ai(t),Y(e),r&&(t.oldKeyCode=t.keyCode,t.keyCode=0)),o}function $t(e,t,n){var r=Wn("'"+n+"'",Wt(e),function(t){return zt(e,t,!0)});return r&&(ai(t),Y(e)),r}function Kt(e){var n=this;n.state.focused||Gt(n),t&&e.keyCode==27&&(e.returnValue=!1);if(n.options.onKeyEvent&&n.options.onKeyEvent(n,ui(e)))return;var r=pi(e,"keyCode");n.doc.sel.shift=r==16||pi(e,"shiftKey");var i=Vt(n,e);u&&(Jt=i?r:null,!i&&r==88&&!Qi&&pi(e,v?"metaKey":"ctrlKey")&&n.replaceSelection(""))}function Qt(e){var t=this;if(t.options.onKeyEvent&&t.options.onKeyEvent(t,ui(e)))return;var n=pi(e,"keyCode"),r=pi(e,"charCode");if(u&&n==Jt){Jt=null,ai(e);return}if((u&&(!e.which||e.which<10)||f)&&Vt(t,e))return;var i=String.fromCharCode(r==null?n:r);this.options.electricChars&&this.doc.mode.electricChars&&this.options.smartIndent&&!Lt(this)&&this.doc.mode.electricChars.indexOf(i)>-1&&setTimeout(bt(t,function(){Cn(t,t.doc.sel.to.line,"smart")}),75);if($t(t,e,i))return;Tt(t)}function Gt(e){if(e.options.readOnly=="nocursor")return;e.state.focused||(mi(e,"focus",e),e.state.focused=!0,e.display.wrapper.className.search(/\bCodeMirror-focused\b/)==-1&&(e.display.wrapper.className+=" CodeMirror-focused"),Ct(e,!0)),xt(e),Y(e)}function Yt(e){e.state.focused&&(mi(e,"blur",e),e.state.focused=!1,e.display.wrapper.className=e.display.wrapper.className.replace(" CodeMirror-focused","")),clearInterval(e.display.blinker),setTimeout(function(){e.state.focused||(e.doc.sel.shift=!1)},150)}function en(e,n){function l(){i.inputDiv.style.position="relative",i.input.style.cssText=f,r&&(i.scrollbarV.scrollTop=i.scroller.scrollTop=a),xt(e);if(i.input.selectionStart!=null&&(!t||r)){clearTimeout(Zt);var n=i.input.value=" "+(hn(s.from,s.to)?"":i.input.value),o=0;i.prevInput=" ",i.input.selectionStart=1,i.input.selectionEnd=n.length;var u=function(){i.prevInput==" "&&i.input.selectionStart==0?bt(e,Rn.selectAll)(e):o++<10?Zt=setTimeout(u,500):Ct(e)};Zt=setTimeout(u,200)}}var i=e.display,s=e.doc.sel;if(Ot(i,n))return;var o=Mt(e,n),a=i.scroller.scrollTop;if(!o||u)return;(hn(s.from,s.to)||pn(o,s.from)||!pn(o,s.to))&&bt(e,bn)(e.doc,o,o);var f=i.input.style.cssText;i.inputDiv.style.position="absolute",i.input.style.cssText="position: fixed; width: 30px; height: 30px; top: "+(n.clientY-5)+"px; left: "+(n.clientX-5)+"px; z-index: 1000; background: white; outline: none;"+"border-width: 0; outline: none; overflow: hidden; opacity: .05; -ms-opacity: .05; filter: alpha(opacity=5);",kt(e),Ct(e,!0),hn(s.from,s.to)&&(i.input.value=i.prevInput=" ");if(b){li(n);var c=function(){vi(window,"mouseup",c),setTimeout(l,20)};di(window,"mouseup",c)}else setTimeout(l,50)}function tn(e){return cn(e.from.line+e.text.length-1,ki(e.text).length+(e.text.length==1?e.from.ch:0))}function nn(e,t,n){if(n&&typeof n=="object")return n;if(n=="start")return{anchor:t.from,head:t.from};var r=tn(t);if(n=="around")return{anchor:t.from,head:r};if(n=="end")return{anchor:r,head:r};var i=function(e){if(pn(e,t.from))return e;if(!pn(t.to,e))return r;var n=e.line+t.text.length-(t.to.line-t.from.line)-1,i=e.ch;return e.line==t.to.line&&(i+=r.ch-t.to.ch),cn(n,i)};return{anchor:i(e.anchor),head:i(e.head)}}function rn(e,t,n,r){if(e.cm){if(!e.cm.curOp)return bt(e.cm,rn)(e,t,n,r);if(e.cm.state.suppressEdits)return}var i=w&&!r&&sr(e,t.from,t.to);if(i){for(var s=i.length-1;s>=1;--s)sn(e,{from:i[s].from,to:i[s].to,text:[""]});i.length&&sn(e,{from:i[0].from,to:i[0].to,text:t.text},n)}else sn(e,t,n)}function sn(e,t,n){var r=nn(e.sel,t,n);Zr(e,t,r,e.cm?e.cm.curOp.id:NaN),an(e,t,r,rr(e,t));var i=[];qr(e,function(e,n){!n&&Ai(i,e.history)==-1&&(si(e.history,t),i.push(e.history)),an(e,t,null,rr(e,t))})}function on(e,t){var n=e.history,r=(t=="undo"?n.done:n.undone).pop();if(!r)return;n.dirtyCounter+=t=="undo"?-1:1;var i={changes:[],anchorBefore:r.anchorAfter,headBefore:r.headAfter,anchorAfter:r.anchorBefore,headAfter:r.headBefore};(t=="undo"?n.undone:n.done).push(i);for(var s=r.changes.length-1;s>=0;--s){var o=r.changes[s];o.origin=t,i.changes.push(Yr(e,o));var u=s?nn(e.sel,o,null):{anchor:r.anchorBefore,head:r.headBefore};an(e,o,u,ir(e,o));var a=[];qr(e,function(e,t){!t&&Ai(a,e.history)==-1&&(si(e.history,o),a.push(e.history)),an(e,o,null,ir(e,o))})}}function un(e,t){function n(e){return cn(e.line+t,e.ch)}e.first+=t,e.cm&&St(e.cm,e.first,e.first,t),e.sel.head=n(e.sel.head),e.sel.anchor=n(e.sel.anchor),e.sel.from=n(e.sel.from),e.sel.to=n(e.sel.to)}function an(e,t,n,r){if(e.cm&&!e.cm.curOp)return bt(e.cm,an)(e,t,n,r);if(t.to.line<e.first){un(e,t.text.length-1-(t.to.line-t.from.line));return}if(t.from.line>e.lastLine())return;if(t.from.line<e.first){var i=t.text.length-1-(e.first-t.from.line);un(e,i),t={from:cn(e.first,0),to:cn(t.to.line+i,t.to.ch),text:[ki(t.text)],origin:t.origin}}var s=e.lastLine();t.to.line>s&&(t={from:t.from,to:cn(s,Ur(e,s).text.length),text:[t.text[0]],origin:t.origin}),n||(n=nn(e.sel,t,null)),e.cm?fn(e.cm,t,r,n):Dr(e,t,r,n)}function fn(e,t,n,r){var i=e.doc,s=e.display,o=t.from,u=t.to,a=!1,f=o.line;e.options.lineWrapping||(f=Vr(fr(i,Ur(i,o.line))),i.iter(f,u.line+1,function(e){if(e==s.maxLine)return a=!0,!0})),Dr(i,t,n,r,C(e)),e.options.lineWrapping||(i.iter(f,o.line+t.text.length,function(e){var t=_(i,e);t>s.maxLineLength&&(s.maxLine=e,s.maxLineLength=t,s.maxLineChanged=!0,a=!1)}),a&&(e.curOp.updateMaxLine=!0)),i.frontier=Math.min(i.frontier,o.line),Z(e,400);var l=t.text.length-(u.line-o.line)-1;St(e,o.line,u.line+1,l);if(wi(e,"change")){var c={from:o,to:u,text:t.text,origin:t.origin};if(e.curOp.textChanged){for(var h=e.curOp.textChanged;h.next;h=h.next);h.next=c}else e.curOp.textChanged=c}}function ln(e,t,n,r,i){r||(r=n);if(pn(r,n)){var s=r;r=n,n=s}typeof t=="string"&&(t=Ji(t)),rn(e,{from:n,to:r,text:t,origin:i},null)}function cn(e,t){if(!(this instanceof cn))return new cn(e,t);this.line=e,this.ch=t}function hn(e,t){return e.line==t.line&&e.ch==t.ch}function pn(e,t){return e.line<t.line||e.line==t.line&&e.ch<t.ch}function dn(e){return cn(e.line,e.ch)}function vn(e,t){return Math.max(e.first,Math.min(t,e.first+e.size-1))}function mn(e,t){if(t.line<e.first)return cn(e.first,0);var n=e.first+e.size-1;if(t.line>n)return cn(n,Ur(e,n).text.length);var r=t.ch,i=Ur(e,t.line).text.length;return r==null||r>i?cn(t.line,i):r<0?cn(t.line,0):t}function gn(e,t){return t>=e.first&&t<e.first+e.size}function yn(e,t,n,r){if(e.sel.shift||e.sel.extend){var i=e.sel.anchor;if(n){var s=pn(t,i);s!=pn(n,i)?(i=t,t=n):s!=pn(t,n)&&(t=n)}bn(e,i,t,r)}else bn(e,t,n||t,r);e.cm&&(e.cm.curOp.userSelChange=!0)}function bn(e,t,n,r,i){var s=e.sel;s.goalColumn=null;if(i||!hn(t,s.anchor))t=En(e,t,r,i!="push");if(i||!hn(n,s.head))n=En(e,n,r,i!="push");if(hn(s.anchor,t)&&hn(s.head,n))return;s.anchor=t,s.head=n;var o=pn(n,t);s.from=o?n:t,s.to=o?t:n,e.cm&&(e.cm.curOp.updateInput=e.cm.curOp.selectionChanged=!0)}function wn(e){bn(e.doc,e.doc.sel.from,e.doc.sel.to,null,"push")}function En(e,t,n,r){var i=!1,s=t,o=n||1;e.cantEdit=!1;e:for(;;){var u=Ur(e,s.line),a;if(u.markedSpans){for(var f=0;f<u.markedSpans.length;++f){var l=u.markedSpans[f],c=l.marker;if((l.from==null||(c.inclusiveLeft?l.from<=s.ch:l.from<s.ch))&&(l.to==null||(c.inclusiveRight?l.to>=s.ch:l.to>s.ch))){if(r&&c.clearOnEnter){(a||(a=[])).push(c);continue}if(!c.atomic)continue;var h=c.find()[o<0?"from":"to"];if(hn(h,s)){h.ch+=o,h.ch<0?h.line>e.first?h=mn(e,cn(h.line-1)):h=null:h.ch>u.text.length&&(h.line<e.first+e.size-1?h=cn(h.line+1,0):h=null);if(!h){if(i)return r?(e.cantEdit=!0,cn(e.first,0)):En(e,t,n,!0);i=!0,h=t,o=-o}}s=h;continue e}}if(a)for(var f=0;f<a.length;++f)a[f].clear()}return s}}function Sn(e){var t=xn(e,e.doc.sel.head);if(!e.state.focused)return;var n=e.display,r=n.sizer.getBoundingClientRect(),i=null;t.top+r.top<0?i=!0:t.bottom+r.top>(window.innerHeight||document.documentElement.clientHeight)&&(i=!1);if(i!=null&&!h){var s=n.cursor.style.display=="none";s&&(n.cursor.style.display="",n.cursor.style.left=t.left+"px",n.cursor.style.top=t.top-n.viewOffset+"px"),n.cursor.scrollIntoView(i),s&&(n.cursor.style.display="none")}}function xn(e,t){for(;;){var n=!1,r=ct(e,t),i=Nn(e,r.left,r.top,r.left,r.bottom),s=e.doc.scrollTop,o=e.doc.scrollLeft;i.scrollTop!=null&&(Ft(e,i.scrollTop),Math.abs(e.doc.scrollTop-s)>1&&(n=!0)),i.scrollLeft!=null&&(It(e,i.scrollLeft),Math.abs(e.doc.scrollLeft-o)>1&&(n=!0));if(!n)return r}}function Tn(e,t,n,r,i){var s=Nn(e,t,n,r,i);s.scrollTop!=null&&Ft(e,s.scrollTop),s.scrollLeft!=null&&It(e,s.scrollLeft)}function Nn(e,t,n,r,i){var s=e.display,o=rt(s);n+=o,i+=o;var u=s.scroller.clientHeight-Ei,a=s.scroller.scrollTop,f={},l=e.doc.height+2*o,c=n<o+10,h=i+o>l-10;n<a?f.scrollTop=c?0:Math.max(0,n):i>a+u&&(f.scrollTop=(h?l:i)-u);var p=s.scroller.clientWidth-Ei,d=s.scroller.scrollLeft;t+=s.gutters.offsetWidth,r+=s.gutters.offsetWidth;var v=s.gutters.offsetWidth,m=t<v+10;return t<d+v||m?(m&&(t=0),f.scrollLeft=Math.max(0,t-10-v)):r>p+d-3&&(f.scrollLeft=r+10-p),f}function Cn(e,t,n,r){var i=e.doc;n||(n="add");if(n=="smart")if(!e.doc.mode.indent)n="prev";else var s=nt(e,t);var o=e.options.tabSize,u=Ur(i,t),a=Ti(u.text,null,o),f=u.text.match(/^\s*/)[0],l;if(n=="smart"){l=e.doc.mode.indent(s,u.text.slice(f.length),u.text);if(l==Si){if(!r)return;n="prev"}}n=="prev"?t>i.first?l=Ti(Ur(i,t-1).text,null,o):l=0:n=="add"?l=a+e.options.indentUnit:n=="subtract"&&(l=a-e.options.indentUnit),l=Math.max(0,l);var c="",h=0;if(e.options.indentWithTabs)for(var p=Math.floor(l/o);p;--p)h+=o,c+="	";h<l&&(c+=Ci(l-h)),c!=f&&ln(e.doc,c,cn(t,0),cn(t,f.length),"+input"),u.stateAfter=null}function kn(e,t,n){var r=t,i=t,s=e.doc;return typeof t=="number"?i=Ur(s,vn(s,t)):r=Vr(t),r==null?null:n(i,r)?(St(e,r,r+1),i):null}function Ln(e,t,n,r){function a(){var n=s+t;return n<e.first||n>=e.first+e.size?!1:(s=n,u=Ur(e,n))}function f(e){var n=(r?ss:os)(u,o,t,!0);if(n==null){if(!!e||!a())return!1;r?o=(t<0?ns:ts)(u):o=t<0?u.text.length:0}else o=n;return!0}var i=e.sel.head,s=i.line,o=i.ch,u=Ur(e,s);if(n=="char")f();else if(n=="column")f(!0);else if(n=="word"){var l=!1;for(;;){if(t<0&&!f())break;if(Hi(u.text.charAt(o)))l=!0;else if(l){t<0&&(t=1,f());break}if(t>0&&!f())break}}return En(e,cn(s,o),t,!0)}function An(e,t){var n=t.ch,r=t.ch;if(e){t.after===!1||r==e.length?--n:++r;var i=e.charAt(n),s=Hi(i)?Hi:/\s/.test(i)?function(e){return/\s/.test(e)}:function(e){return!/\s/.test(e)&&!Hi(e)};while(n>0&&s(e.charAt(n-1)))--n;while(r<e.length&&s(e.charAt(r)))++r}return{from:cn(t.line,n),to:cn(t.line,r)}}function On(e,t){yn(e.doc,cn(t,0),mn(e.doc,cn(t+1,0)))}function Dn(e,t,n,r){S.defaults[e]=t,n&&(Mn[e]=r?function(e,t,r){r!=Pn&&n(e,t,r)}:n)}function In(e,t){if(t===!0)return t;if(e.copyState)return e.copyState(t);var n={};for(var r in t){var i=t[r];i instanceof Array&&(i=i.concat([])),n[r]=i}return n}function qn(e,t,n){return e.startState?e.startState(t,n):!0}function zn(e){return typeof e=="string"?Un[e]:e}function Wn(e,t,n){function r(t){t=zn(t);var i=t[e];if(i===!1)return"stop";if(i!=null){try{var s=n(i)}catch(o){if(o!=Si)throw o}if(s)return!0}if(t.nofallthrough)return"stop";var u=t.fallthrough;if(u==null)return!1;if(Object.prototype.toString.call(u)!="[object Array]")return r(u);for(var a=0,o=u.length;a<o;++a){var s=r(u[a]);if(s)return s}return!1}for(var i=0;i<t.length;++i){var s=r(t[i]);if(s)return s}}function Xn(e){var t=Gi[pi(e,"keyCode")];return t=="Ctrl"||t=="Alt"||t=="Shift"||t=="Mod"}function Vn(e,t){var n=Gi[pi(e,"keyCode")];return n==null||e.altGraphKey?!1:(pi(e,"altKey")&&(n="Alt-"+n),pi(e,y?"metaKey":"ctrlKey")&&(n="Ctrl-"+n),pi(e,y?"ctrlKey":"metaKey")&&(n="Cmd-"+n),!t&&pi(e,"shiftKey")&&(n="Shift-"+n),n)}function $n(e,t){this.pos=this.start=0,this.string=e,this.tabSize=t||8}function Jn(e,t){this.lines=[],this.type=t,this.doc=e}function Kn(e,t,n,r,i){if(r&&r.shared)return Gn(e,t,n,r,i);if(e.cm&&!e.cm.curOp)return bt(e.cm,Kn)(e,t,n,r,i);var s=new Jn(e,i);if(i=="range"&&!pn(t,n))return s;r&&Mi(r,s),s.replacedWith&&(s.collapsed=!0,s.replacedWith=Fi("span",[s.replacedWith],"CodeMirror-widget")),s.collapsed&&(E=!0);var o=t.line,u=0,a,f,l=e.cm,c;e.iter(o,n.line+1,function(r){l&&s.collapsed&&!l.options.lineWrapping&&fr(e,r)==l.display.maxLine&&(c=!0);var i={from:null,to:null,marker:s};u+=r.text.length,o==t.line&&(i.from=t.ch,u-=t.ch),o==n.line&&(i.to=n.ch,u-=r.text.length-n.ch),s.collapsed&&(o==n.line&&(f=or(r,n.ch)),o==t.line?a=or(r,t.ch):Xr(r,0)),er(r,i),++o}),s.collapsed&&e.iter(t.line,n.line+1,function(t){lr(e,t)&&Xr(t,0)}),s.readOnly&&(w=!0,(e.history.done.length||e.history.undone.length)&&e.clearHistory());if(s.collapsed){if(a!=f)throw new Error("Inserting collapsed marker overlapping an existing one");s.size=u,s.atomic=!0}return l&&(c&&(l.curOp.updateMaxLine=!0),(s.className||s.startStyle||s.endStyle||s.collapsed)&&St(l,t.line,n.line+1),s.atomic&&wn(l)),s}function Qn(e,t){this.markers=e,this.primary=t;for(var n=0,r=this;n<e.length;++n)e[n].parent=this,di(e[n],"clear",function(){r.clear()})}function Gn(e,t,n,r,i){r=Mi(r),r.shared=!1;var s=[Kn(e,t,n,r,i)],o=s[0];return qr(e,function(e){s.push(Kn(e,mn(e,t),mn(e,n),r,i));for(var u=0;u<e.linked.length;++u)if(e.linked[u].isParent)return;o=ki(s)}),new Qn(s,o)}function Yn(e,t){if(e)for(var n=0;n<e.length;++n){var r=e[n];if(r.marker==t)return r}}function Zn(e,t){for(var n,r=0;r<e.length;++r)e[r]!=t&&(n||(n=[])).push(e[r]);return n}function er(e,t){e.markedSpans=e.markedSpans?e.markedSpans.concat([t]):[t],t.marker.attachLine(e)}function tr(e,t,n){if(e)for(var r=0,i;r<e.length;++r){var s=e[r],o=s.marker,u=s.from==null||(o.inclusiveLeft?s.from<=t:s.from<t);if(u||o.type=="bookmark"&&s.from==t&&(!n||!s.marker.insertLeft)){var a=s.to==null||(o.inclusiveRight?s.to>=t:s.to>t);(i||(i=[])).push({from:s.from,to:a?null:s.to,marker:o})}}return i}function nr(e,t,n){if(e)for(var r=0,i;r<e.length;++r){var s=e[r],o=s.marker,u=s.to==null||(o.inclusiveRight?s.to>=t:s.to>t);if(u||o.type=="bookmark"&&s.from==t&&(!n||s.marker.insertLeft)){var a=s.from==null||(o.inclusiveLeft?s.from<=t:s.from<t);(i||(i=[])).push({from:a?null:s.from-t,to:s.to==null?null:s.to-t,marker:o})}}return i}function rr(e,t){var n=gn(e,t.from.line)&&Ur(e,t.from.line).markedSpans,r=gn(e,t.to.line)&&Ur(e,t.to.line).markedSpans;if(!n&&!r)return null;var i=t.from.ch,s=t.to.ch,o=hn(t.from,t.to),u=tr(n,i,o),a=nr(r,s,o),f=t.text.length==1,l=ki(t.text).length+(f?i:0);if(u)for(var c=0;c<u.length;++c){var h=u[c];if(h.to==null){var p=Yn(a,h.marker);p?f&&(h.to=p.to==null?null:p.to+l):h.to=i}}if(a)for(var c=0;c<a.length;++c){var h=a[c];h.to!=null&&(h.to+=l);if(h.from==null){var p=Yn(u,h.marker);p||(h.from=l,f&&(u||(u=[])).push(h))}else h.from+=l,f&&(u||(u=[])).push(h)}var d=[u];if(!f){var v=t.text.length-2,m;if(v>0&&u)for(var c=0;c<u.length;++c)u[c].to==null&&(m||(m=[])).push({from:null,to:null,marker:u[c].marker});for(var c=0;c<v;++c)d.push(m);d.push(a)}return d}function ir(e,t){var n=ti(e,t),r=rr(e,t);if(!n)return r;if(!r)return n;for(var i=0;i<n.length;++i){var s=n[i],o=r[i];if(s&&o)e:for(var u=0;u<o.length;++u){var a=o[u];for(var f=0;f<s.length;++f)if(s[f].marker==a.marker)continue e;s.push(a)}else o&&(n[i]=o)}return n}function sr(e,t,n){var r=null;e.iter(t.line,n.line+1,function(e){if(e.markedSpans)for(var t=0;t<e.markedSpans.length;++t){var n=e.markedSpans[t].marker;n.readOnly&&(!r||Ai(r,n)==-1)&&(r||(r=[])).push(n)}});if(!r)return null;var i=[{from:t,to:n}];for(var s=0;s<r.length;++s){var o=r[s],u=o.find();for(var a=0;a<i.length;++a){var f=i[a];if(pn(f.to,u.from)||pn(u.to,f.from))continue;var l=[a,1];(pn(f.from,u.from)||!o.inclusiveLeft&&hn(f.from,u.from))&&l.push({from:f.from,to:u.from}),(pn(u.to,f.to)||!o.inclusiveRight&&hn(f.to,u.to))&&l.push({from:u.to,to:f.to}),i.splice.apply(i,l),a+=l.length-1}}return i}function or(e,t){var n=E&&e.markedSpans,r;if(n)for(var i,s=0;s<n.length;++s){i=n[s];if(!i.marker.collapsed)continue;(i.from==null||i.from<t)&&(i.to==null||i.to>t)&&(!r||r.width<i.marker.width)&&(r=i.marker)}return r}function ur(e){return or(e,-1)}function ar(e){return or(e,e.text.length+1)}function fr(e,t){var n;while(n=ur(t))t=Ur(e,n.find().from.line);return t}function lr(e,t){var n=E&&t.markedSpans;if(n)for(var r,i=0;i<n.length;++i){r=n[i];if(!r.marker.collapsed)continue;if(r.from==null)return!0;if(r.from==0&&r.marker.inclusiveLeft&&cr(e,t,r))return!0}}function cr(e,t,n){if(n.to==null){var r=n.marker.find().to,i=Ur(e,r.line);return cr(e,i,Yn(i.markedSpans,n.marker))}if(n.marker.inclusiveRight&&n.to==t.text.length)return!0;for(var s,o=0;o<t.markedSpans.length;++o){s=t.markedSpans[o];if(s.marker.collapsed&&s.from==n.to&&(s.marker.inclusiveLeft||n.marker.inclusiveRight)&&cr(e,t,s))return!0}}function hr(e){var t=e.markedSpans;if(!t)return;for(var n=0;n<t.length;++n)t[n].marker.detachLine(e);e.markedSpans=null}function pr(e,t){if(!t)return;for(var n=0;n<t.length;++n)t[n].marker.attachLine(e);e.markedSpans=t}function vr(e){return function(){var t=!this.cm.curOp;t&&gt(this.cm);try{var n=e.apply(this,arguments)}finally{t&&yt(this.cm)}return n}}function mr(e){return e.height!=null?e.height:((!e.node.parentNode||e.node.parentNode.nodeType!=1)&&qi(e.cm.display.measure,Fi("div",[e.node],null,"position: relative")),e.height=e.node.offsetHeight)}function gr(e,t,n,r){var i=new dr(e,n,r);return i.noHScroll&&(e.display.alignWidgets=!0),kn(e,t,function(t){(t.widgets||(t.widgets=[])).push(i),i.line=t;if(!lr(e.doc,t)||i.showIfHidden){var n=Jr(e,t)<e.display.scroller.scrollTop;Xr(t,t.height+mr(i)),n&&(e.curOp.updateScrollPos={scrollTop:e.doc.scrollTop+i.height,scrollLeft:e.doc.scrollLeft})}return!0}),i}function yr(e,t,n){var r={text:e};return pr(r,t),r.height=n?n(r):1,r}function br(e,t,n,r){e.text=t,e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null),e.order!=null&&(e.order=null),hr(e),pr(e,n);var i=r?r(e):1;i!=e.height&&Xr(e,i),bi(e,"change")}function wr(e){e.parent=null,hr(e)}function Er(e,t,n,r,i){var s=e.options.flattenSpans,o="",u=null,a=new $n(t,e.options.tabSize);t==""&&n.blankLine&&n.blankLine(r);while(!a.eol()){var f=n.token(a,r);a.pos>5e3&&(s=!1,a.pos=Math.min(t.length,a.start+5e4),f=null);var l=a.current();a.start=a.pos,!s||u!=f?(o&&i(o,u),o=l,u=f):o+=l}o&&i(o,u)}function Sr(e,t,n){var r=[e.state.modeGen];Er(e,t.text,e.doc.mode,n,function(e,t){r.push(e,t)});for(var i=0;i<e.state.overlays.length;++i){var s=e.state.overlays[i],o=1;Er(e,t.text,s.mode,!0,function(e,t){var n=o,i=e.length;while(i){var u=r[o],a=u.length;a<=i?i-=a:(r.splice(o,1,u.slice(0,i),r[o+1],u.slice(i)),i=0),o+=2}if(!t)return;if(s.opaque)r.splice(n,o-n,e,t),o=n+2;else for(;n<o;n+=2){var u=r[n+1];r[n+1]=u?u+" "+t:t}})}return r}function xr(e,t){if(!t.styles||t.styles[0]!=e.state.modeGen)t.styles=Sr(e,t,t.stateAfter=nt(e,Vr(t)));return t.styles}function Tr(e,t,n){var r=e.doc.mode,i=new $n(t.text,e.options.tabSize);t.text==""&&r.blankLine&&r.blankLine(n);while(!i.eol()&&i.pos<=5e3)r.token(i,n),i.start=i.pos}function Cr(e){return e?Nr[e]||(Nr[e]="cm-"+e.replace(/ +/g," cm-")):null}function kr(e,t,n){var r,i=t,s,o,u=!0;while(r=ur(i))u=!1,i=Ur(e.doc,r.find().from.line),s||(s=i);var a={pre:Fi("pre"),col:0,pos:0,display:!n,measure:null,addedOne:!1,cm:e};i.textClass&&(a.pre.className=i.textClass);do{a.measure=i==t&&n,a.pos=0,a.addToken=a.measure?Or:Ar,n&&o&&i!=t&&!a.addedOne&&(n[0]=a.pre.appendChild($i(e.display.measure)),a.addedOne=!0);var f=_r(i,a,xr(e,i));o=i==s,f&&(i=Ur(e.doc,f.to.line),u=!1)}while(f);return n&&!a.addedOne&&(n[0]=a.pre.appendChild(u?Fi("span"," "):$i(e.display.measure))),!a.pre.firstChild&&!lr(e.doc,t)&&a.pre.appendChild(document.createTextNode(" ")),a.pre}function Ar(e,t,n,r,i){if(!t)return;if(!Lr.test(t)){e.col+=t.length;var s=document.createTextNode(t)}else{var s=document.createDocumentFragment(),o=0;for(;;){Lr.lastIndex=o;var u=Lr.exec(t),a=u?u.index-o:t.length-o;a&&(s.appendChild(document.createTextNode(t.slice(o,o+a))),e.col+=a);if(!u)break;o+=a+1;if(u[0]=="	"){var f=e.cm.options.tabSize,l=f-e.col%f;s.appendChild(Fi("span",Ci(l),"cm-tab")),e.col+=l}else{var c=Fi("span","•","cm-invalidchar");c.title="\\u"+u[0].charCodeAt(0).toString(16),s.appendChild(c),e.col+=1}}}if(n||r||i||e.measure){var h=n||"";return r&&(h+=r),i&&(h+=i),e.pre.appendChild(Fi("span",[s],h))}e.pre.appendChild(s)}function Or(e,t,n,r,i){for(var s=0;s<t.length;++s)s&&s<t.length&&e.cm.options.lineWrapping&&zi.test(t.slice(s-1,s+1))&&e.pre.appendChild(Fi("wbr")),e.measure[e.pos++]=Ar(e,t.charAt(s),n,s==0&&r,s==t.length-1&&i);t.length&&(e.addedOne=!0)}function Mr(e,t,n){n&&(e.display||(n=n.cloneNode(!0)),e.pre.appendChild(n),e.measure&&t&&(e.measure[e.pos]=n,e.addedOne=!0)),e.pos+=t}function _r(e,t,n){var r=e.markedSpans;if(!r){for(var i=1;i<n.length;i+=2)t.addToken(t,n[i],Cr(n[i+1]));return}var s=e.text,o=s.length,u=0,i=1,a="",f,l=0,c,h,p,d;for(;;){if(l==u){c=h=p="",d=null,l=Infinity;var v=null;for(var m=0;m<r.length;++m){var g=r[m],y=g.marker;g.from<=u&&(g.to==null||g.to>u)?(g.to!=null&&l>g.to&&(l=g.to,h=""),y.className&&(c+=" "+y.className),y.startStyle&&g.from==u&&(p+=" "+y.startStyle),y.endStyle&&g.to==l&&(h+=" "+y.endStyle),y.collapsed&&(!d||d.marker.width<y.width)&&(d=g)):g.from>u&&l>g.from&&(l=g.from),y.type=="bookmark"&&g.from==u&&y.replacedWith&&(v=y.replacedWith)}if(d&&(d.from||0)==u){Mr(t,(d.to==null?o:d.to)-u,d.from!=null&&d.marker.replacedWith);if(d.to==null)return d.marker.find()}v&&!d&&Mr(t,0,v)}if(u>=o)break;var b=Math.min(o,l);for(;;){if(a){var w=u+a.length;if(!d){var E=w>b?a.slice(0,b-u):a;t.addToken(t,E,f?f+c:c,p,u+E.length==l?h:"")}if(w>=b){a=a.slice(b-u),u=b;break}u=w,p=""}a=n[i++],f=Cr(n[i++])}}}function Dr(e,t,n,r,i){function s(e){return n?n[e]:null}var o=t.from,u=t.to,a=t.text,f=Ur(e,o.line),l=Ur(e,u.line),c=ki(a),h=s(a.length-1),p=u.line-o.line;if(o.ch==0&&u.ch==0&&c==""){for(var d=0,v=a.length-1,m=[];d<v;++d)m.push(yr(a[d],s(d),i));br(l,l.text,h,i),p&&e.remove(o.line,p),m.length&&e.insert(o.line,m)}else if(f==l)if(a.length==1)br(f,f.text.slice(0,o.ch)+c+f.text.slice(u.ch),h,i);else{for(var m=[],d=1,v=a.length-1;d<v;++d)m.push(yr(a[d],s(d),i));m.push(yr(c+f.text.slice(u.ch),h,i)),br(f,f.text.slice(0,o.ch)+a[0],s(0),i),e.insert(o.line+1,m)}else if(a.length==1)br(f,f.text.slice(0,o.ch)+a[0]+l.text.slice(u.ch),s(0),i),e.remove(o.line+1,p);else{br(f,f.text.slice(0,o.ch)+a[0],s(0),i),br(l,c+l.text.slice(u.ch),h,i);for(var d=1,v=a.length-1,m=[];d<v;++d)m.push(yr(a[d],s(d),i));p>1&&e.remove(o.line+1,p-1),e.insert(o.line+1,m)}bn(e,r.anchor,r.head,null,!0)}function Pr(e){this.lines=e,this.parent=null;for(var t=0,n=e.length,r=0;t<n;++t)e[t].parent=this,r+=e[t].height;this.height=r}function Hr(e){this.children=e;var t=0,n=0;for(var r=0,i=e.length;r<i;++r){var s=e[r];t+=s.chunkSize(),n+=s.height,s.parent=this}this.size=t,this.height=n,this.parent=null}function qr(e,t,n){function r(e,i,s){if(e.linked)for(var o=0;o<e.linked.length;++o){var u=e.linked[o];if(u.doc==i)continue;var a=s&&u.sharedHist;if(n&&!a)continue;t(u.doc,a),r(u.doc,e,a)}}r(e,null,!0)}function Rr(e,t){if(t.cm)throw new Error("This document is already in use.");e.doc=t,t.cm=e,k(e),T(e),e.options.lineWrapping||D(e),e.options.mode=t.modeOption,St(e)}function Ur(e,t){t-=e.first;while(!e.lines)for(var n=0;;++n){var r=e.children[n],i=r.chunkSize();if(t<i){e=r;break}t-=i}return e.lines[t]}function zr(e,t,n){var r=[],i=t.line;return e.iter(t.line,n.line+1,function(e){var s=e.text;i==n.line&&(s=s.slice(0,n.ch)),i==t.line&&(s=s.slice(t.ch)),r.push(s),++i}),r}function Wr(e,t,n){var r=[];return e.iter(t,n,function(e){r.push(e.text)}),r}function Xr(e,t){var n=t-e.height;for(var r=e;r;r=r.parent)r.height+=n}function Vr(e){if(e.parent==null)return null;var t=e.parent,n=Ai(t.lines,e);for(var r=t.parent;r;t=r,r=r.parent)for(var i=0;;++i){if(r.children[i]==t)break;n+=r.children[i].chunkSize()}return n+t.first}function $r(e,t){var n=e.first;e:do{for(var r=0,i=e.children.length;r<i;++r){var s=e.children[r],o=s.height;if(t<o){e=s;continue e}t-=o,n+=s.chunkSize()}return n}while(!e.lines);for(var r=0,i=e.lines.length;r<i;++r){var u=e.lines[r],a=u.height;if(t<a)break;t-=a}return n+r}function Jr(e,t){t=fr(e.doc,t);var n=0,r=t.parent;for(var i=0;i<r.lines.length;++i){var s=r.lines[i];if(s==t)break;n+=s.height}for(var o=r.parent;o;r=o,o=r.parent)for(var i=0;i<o.children.length;++i){var u=o.children[i];if(u==r)break;n+=u.height}return n}function Kr(e){var t=e.order;return t==null&&(t=e.order=us(e.text)),t}function Qr(){return{done:[],undone:[],undoDepth:Infinity,lastTime:0,lastOp:null,lastOrigin:null,dirtyCounter:0}}function Gr(e,t,n,r){var i=t["spans_"+e.id],s=0;e.iter(Math.max(e.first,n),Math.min(e.first+e.size,r),function(n){n.markedSpans&&((i||(i=t["spans_"+e.id]={}))[s]=n.markedSpans),++s})}function Yr(e,t){var n={from:t.from,to:tn(t),text:zr(e,t.from,t.to)};return Gr(e,n,t.from.line,t.to.line+1),qr(e,function(e){Gr(e,n,t.from.line,t.to.line+1)},!0),n}function Zr(e,t,n,r){var i=e.history;i.undone.length=0;var s=+(new Date),o=ki(i.done);if(o&&(i.lastOp==r||i.lastOrigin==t.origin&&t.origin&&(t.origin.charAt(0)=="+"&&i.lastTime>s-600||t.origin.charAt(0)=="*"))){var u=ki(o.changes);hn(t.from,t.to)&&hn(t.from,u.to)?u.to=tn(t):o.changes.push(Yr(e,t)),o.anchorAfter=n.anchor,o.headAfter=n.head}else{o={changes:[Yr(e,t)],anchorBefore:e.sel.anchor,headBefore:e.sel.head,anchorAfter:n.anchor,headAfter:n.head},i.done.push(o);while(i.done.length>i.undoDepth)i.done.shift();i.dirtyCounter<0?i.dirtyCounter=NaN:i.dirtyCounter++}i.lastTime=s,i.lastOp=r,i.lastOrigin=t.origin}function ei(e){if(!e)return null;for(var t=0,n;t<e.length;++t)e[t].marker.explicitlyCleared?n||(n=e.slice(0,t)):n&&n.push(e[t]);return n?n.length?n:null:e}function ti(e,t){var n=t["spans_"+e.id];if(!n)return null;for(var r=0,i=[];r<t.text.length;++r)i.push(ei(n[r]));return i}function ni(e,t){for(var n=0,r=[];n<e.length;++n){var i=e[n],s=i.changes,o=[];r.push({changes:o,anchorBefore:i.anchorBefore,headBefore:i.headBefore,anchorAfter:i.anchorAfter,headAfter:i.headAfter});for(var u=0;u<s.length;++u){var a=s[u],f;o.push({from:a.from,to:a.to,text:a.text});if(t)for(var l in a)(f=l.match(/^spans_(\d+)$/))&&Ai(t,Number(f[1]))>-1&&(ki(o)[l]=a[l],delete a[l])}}return r}function ri(e,t,n,r){n<e.line?e.line+=r:t<e.line&&(e.line=t,e.ch=0)}function ii(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i],o=!0;for(var u=0;u<s.changes.length;++u){var a=s.changes[u];s.copied||(a.from=dn(a.from),a.to=dn(a.to));if(n<a.from.line)a.from.line+=r,a.to.line+=r;else if(t<=a.to.line){o=!1;break}}s.copied||(s.anchorBefore=dn(s.anchorBefore),s.headBefore=dn(s.headBefore),s.anchorAfter=dn(s.anchorAfter),s.readAfter=dn(s.headAfter),s.copied=!0),o?(ri(s.anchorBefore),ri(s.headBefore),ri(s.anchorAfter),ri(s.headAfter)):(e.splice(0,i+1),i=0)}}function si(e,t){var n=t.from.line,r=t.to.line,i=t.text.length-(r-n)-1;ii(e.done,n,r,i),ii(e.undone,n,r,i)}function oi(){li(this)}function ui(e){return e.stop||(e.stop=oi),e}function ai(e){e.preventDefault?e.preventDefault():e.returnValue=!1}function fi(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}function li(e){ai(e),fi(e)}function ci(e){return e.target||e.srcElement}function hi(e){var t=e.which;return t==null&&(e.button&1?t=1:e.button&2?t=3:e.button&4&&(t=2)),v&&e.ctrlKey&&t==1&&(t=3),t}function pi(e,t){var n=e.override&&e.override.hasOwnProperty(t);return n?e.override[t]:e[t]}function di(e,t,n){if(e.addEventListener)e.addEventListener(t,n,!1);else if(e.attachEvent)e.attachEvent("on"+t,n);else{var r=e._handlers||(e._handlers={}),i=r[t]||(r[t]=[]);i.push(n)}}function vi(e,t,n){if(e.removeEventListener)e.removeEventListener(t,n,!1);else if(e.detachEvent)e.detachEvent("on"+t,n);else{var r=e._handlers&&e._handlers[t];if(!r)return;for(var i=0;i<r.length;++i)if(r[i]==n){r.splice(i,1);break}}}function mi(e,t){var n=e._handlers&&e._handlers[t];if(!n)return;var r=Array.prototype.slice.call(arguments,2);for(var i=0;i<n.length;++i)n[i].apply(null,r)}function bi(e,t){function i(e){return function(){e.apply(null,r)}}var n=e._handlers&&e._handlers[t];if(!n)return;var r=Array.prototype.slice.call(arguments,2);for(var s=0;s<n.length;++s)gi?gi.push(i(n[s])):n[s].apply(null,r)}function wi(e,t){var n=e._handlers&&e._handlers[t];return n&&n.length>0}function xi(){this.id=null}function Ti(e,t,n){t==null&&(t=e.search(/[^\s\u00a0]/),t==-1&&(t=e.length));for(var r=0,i=0;r<t;++r)e.charAt(r)=="	"?i+=n-i%n:++i;return i}function Ci(e){while(Ni.length<=e)Ni.push(ki(Ni)+" ");return Ni[e]}function ki(e){return e[e.length-1]}function Li(e){p?(e.selectionStart=0,e.selectionEnd=e.value.length):e.select()}function Ai(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0,r=e.length;n<r;++n)if(e[n]==t)return n;return-1}function Oi(e,t){if(!e)return;Oi.prototype=e;var n=new Oi;return t&&Mi(t,n),n}function Mi(e,t){t||(t={});for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function _i(e){for(var t=[],n=0;n<e;++n)t.push(undefined);return t}function Di(e){var t=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,t)}}function Hi(e){return/\w/.test(e)||e>""&&(e.toUpperCase()!=e.toLowerCase()||Pi.test(e))}function Bi(e){for(var t in e)if(e.hasOwnProperty(t)&&e[t])return!1;return!0}function Fi(e,t,n,r){var i=document.createElement(e);n&&(i.className=n),r&&(i.style.cssText=r);if(typeof t=="string")Ri(i,t);else if(t)for(var s=0;s<t.length;++s)i.appendChild(t[s]);return i}function Ii(e){if(!t)e.innerHTML="";else while(e.firstChild)e.removeChild(e.firstChild);return e}function qi(e,t){return Ii(e).appendChild(t)}function Ri(e,t){r?(e.innerHTML="",e.appendChild(document.createTextNode(t))):e.textContent=t}function Xi(e){if(Wi!=null)return Wi;var t=Fi("div",null,null,"width: 50px; height: 50px; overflow-x: scroll");return qi(e,t),t.offsetWidth&&(Wi=t.offsetHeight-t.clientHeight),Wi||0}function $i(e){if(Vi==null){var t=Fi("span","​");qi(e,Fi("span",[t,document.createTextNode("x")])),e.firstChild.offsetHeight!=0&&(Vi=t.offsetWidth<=1&&t.offsetHeight>2&&!n)}return Vi?Fi("span","​"):Fi("span"," ",null,"display: inline-block; width: 1px; margin-right: -1px")}function Yi(e,t,n,r){if(!e)return r(t,n,"ltr");for(var i=0;i<e.length;++i){var s=e[i];(s.from<n&&s.to>t||t==n&&s.to==t)&&r(Math.max(s.from,t),Math.min(s.to,n),s.level==1?"rtl":"ltr")}}function Zi(e){return e.level%2?e.to:e.from}function es(e){return e.level%2?e.from:e.to}function ts(e){var t=Kr(e);return t?Zi(t[0]):0}function ns(e){var t=Kr(e);return t?es(ki(t)):e.text.length}function rs(e,t){var n=Ur(e.doc,t),r=fr(e.doc,n);r!=n&&(t=Vr(r));var i=Kr(r),s=i?i[0].level%2?ns(r):ts(r):0;return cn(t,s)}function is(e,t){var n,r;while(n=ar(r=Ur(e.doc,t)))t=n.find().to.line;var i=Kr(r),s=i?i[0].level%2?ts(r):ns(r):r.text.length;return cn(t,s)}function ss(e,t,n,r){var i=Kr(e);if(!i)return os(e,t,n,r);var s=r?function(t,n){do t+=n;while(t>0&&ji.test(e.text.charAt(t)));return t}:function(e,t){return e+t},o=i[0].level;for(var u=0;u<i.length;++u){var a=i[u],f=a.level%2==o;if(a.from<t&&a.to>t||f&&(a.from==t||a.to==t))break}var l=s(t,a.level%2?-n:n);while(l!=null)if(a.level%2==o){if(!(l<a.from||l>a.to))break;a=i[u+=n],l=a&&(n>0==a.level%2?s(a.to,-1):s(a.from,1))}else if(l==Zi(a))a=i[--u],l=a&&es(a);else{if(l!=es(a))break;a=i[++u],l=a&&Zi(a)}return l<0||l>e.text.length?null:l}function os(e,t,n,r){var i=t+n;if(r)while(i>0&&ji.test(e.text.charAt(i)))i+=n;return i<0||i>e.text.length?null:i}var e=/gecko\/\d/i.test(navigator.userAgent),t=/MSIE \d/.test(navigator.userAgent),n=t&&(document.documentMode==null||document.documentMode<8),r=t&&(document.documentMode==null||document.documentMode<9),i=/WebKit\//.test(navigator.userAgent),s=i&&/Qt\/\d+\.\d+/.test(navigator.userAgent),o=/Chrome\//.test(navigator.userAgent),u=/Opera\//.test(navigator.userAgent),a=/Apple Computer/.test(navigator.vendor),f=/KHTML\//.test(navigator.userAgent),l=/Mac OS X 1\d\D([7-9]|\d\d)\D/.test(navigator.userAgent),c=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(navigator.userAgent),h=/PhantomJS/.test(navigator.userAgent),p=/AppleWebKit/.test(navigator.userAgent)&&/Mobile\/\w+/.test(navigator.userAgent),d=p||/Android|webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(navigator.userAgent),v=p||/Mac/.test(navigator.platform),m=/windows/i.test(navigator.platform),g=u&&navigator.userAgent.match(/Version\/(\d*\.\d*)/);g&&(g=Number(g[1]));var y=v&&(s||u&&(g==null||g<12.11)),b=e||t&&!r,w=!1,E=!1,dt,_t,Dt,qt=0,Rt=null;t?Rt=-0.53:e?Rt=15:o?Rt=-0.7:a&&(Rt=-1/3);var Xt,Jt=null,Zt;S.Pos=cn,S.prototype={focus:function(){window.focus(),kt(this),Gt(this),Tt(this)},setOption:function(e,t){var n=this.options,r=n[e];if(n[e]==t&&e!="mode")return;n[e]=t,Mn.hasOwnProperty(e)&&bt(this,Mn[e])(this,t,r)},getOption:function(e){return this.options[e]},getDoc:function(){return this.doc},addKeyMap:function(e){this.state.keyMaps.push(e)},removeKeyMap:function(e){var t=this.state.keyMaps;for(var n=0;n<t.length;++n)if((typeof e=="string"?t[n].name:t[n])==e)return t.splice(n,1),!0},addOverlay:bt(null,function(e,t){var n=e.token?e:S.getMode(this.options,e);if(n.startState)throw new Error("Overlays may not be stateful.");this.state.overlays.push({mode:n,modeSpec:e,opaque:t&&t.opaque}),this.state.modeGen++,St(this)}),removeOverlay:bt(null,function(e){var t=this.state.overlays;for(var n=0;n<t.length;++n)if(t[n].modeSpec==e){t.splice(n,1),this.state.modeGen++,St(this);return}}),indentLine:bt(null,function(e,t,n){typeof t!="string"&&(t==null?t=this.options.smartIndent?"smart":"prev":t=t?"add":"subtract"),gn(this.doc,e)&&Cn(this,e,t,n)}),indentSelection:bt(null,function(e){var t=this.doc.sel;if(hn(t.from,t.to))return Cn(this,t.from.line,e);var n=t.to.line-(t.to.ch?0:1);for(var r=t.from.line;r<=n;++r)Cn(this,r,e)}),getTokenAt:function(e){var t=this.doc;e=mn(t,e);var n=nt(this,e.line),r=this.doc.mode,i=Ur(t,e.line),s=new $n(i.text,this.options.tabSize);while(s.pos<e.ch&&!s.eol()){s.start=s.pos;var o=r.token(s,n)}return{start:s.start,end:s.pos,string:s.current(),className:o||null,type:o||null,state:n}},getStateAfter:function(e){var t=this.doc;return e=vn(t,e==null?t.first+t.size-1:e),nt(this,e+1)},cursorCoords:function(e,t){var n,r=this.doc.sel;return e==null?n=r.head:typeof e=="object"?n=mn(this.doc,e):n=e?r.from:r.to,ct(this,n,t||"page")},charCoords:function(e,t){return lt(this,mn(this.doc,e),t||"page")},coordsChar:function(e){var t=this.display.lineSpace.getBoundingClientRect(),n=window.pageYOffset||(document.documentElement||document.body).scrollTop,r=window.pageXOffset||(document.documentElement||document.body).scrollLeft;return ht(this,e.left-t.left-r,e.top-t.top-n)},defaultTextHeight:function(){return vt(this.display)},setGutterMarker:bt(null,function(e,t,n){return kn(this,e,function(e){var r=e.gutterMarkers||(e.gutterMarkers={});return r[t]=n,!n&&Bi(r)&&(e.gutterMarkers=null),!0})}),clearGutter:bt(null,function(e){var t=this,n=t.doc,r=n.first;n.iter(function(n){n.gutterMarkers&&n.gutterMarkers[e]&&(n.gutterMarkers[e]=null,St(t,r,r+1),Bi(n.gutterMarkers)&&(n.gutterMarkers=null)),++r})}),addLineClass:bt(null,function(e,t,n){return kn(this,e,function(e){var r=t=="text"?"textClass":t=="background"?"bgClass":"wrapClass";if(!e[r])e[r]=n;else{if((new RegExp("\\b"+n+"\\b")).test(e[r]))return!1;e[r]+=" "+n}return!0})}),removeLineClass:bt(null,function(e,t,n){return kn(this,e,function(e){var r=t=="text"?"textClass":t=="background"?"bgClass":"wrapClass",i=e[r];if(!i)return!1;if(n==null)e[r]=null;else{var s=i.replace(new RegExp("^"+n+"\\b\\s*|\\s*\\b"+n+"\\b"),"");if(s==i)return!1;e[r]=s||null}return!0})}),addLineWidget:bt(null,function(e,t,n){return gr(this,e,t,n)}),removeLineWidget:function(e){e.clear()},lineInfo:function(e){if(typeof e=="number"){if(!gn(this.doc,e))return null;var t=e;e=Ur(this.doc,e);if(!e)return null}else{var t=Vr(e);if(t==null)return null}return{line:t,handle:e,text:e.text,gutterMarkers:e.gutterMarkers,textClass:e.textClass,bgClass:e.bgClass,wrapClass:e.wrapClass,widgets:e.widgets}},getViewport:function(){return{from:this.display.showingFrom,to:this.display.showingTo}},addWidget:function(e,t,n,r,i){var s=this.display;e=ct(this,mn(this.doc,e));var o=e.bottom,u=e.left;t.style.position="absolute",s.sizer.appendChild(t);if(r=="over")o=e.top;else if(r=="above"||r=="near"){var a=Math.max(s.wrapper.clientHeight,this.doc.height),f=Math.max(s.sizer.clientWidth,s.lineSpace.clientWidth);(r=="above"||e.bottom+t.offsetHeight>a)&&e.top>t.offsetHeight?o=e.top-t.offsetHeight:e.bottom+t.offsetHeight<=a&&(o=e.bottom),u+t.offsetWidth>f&&(u=f-t.offsetWidth)}t.style.top=o+rt(s)+"px",t.style.left=t.style.right="",i=="right"?(u=s.sizer.clientWidth-t.offsetWidth,t.style.right="0px"):(i=="left"?u=0:i=="middle"&&(u=(s.sizer.clientWidth-t.offsetWidth)/2),t.style.left=u+"px"),n&&Tn(this,u,o,u+t.offsetWidth,o+t.offsetHeight)},triggerOnKeyDown:bt(null,Kt),execCommand:function(e){return Rn[e](this)},moveH:bt(null,function(e,t){var n=this.doc.sel,r=e<0?n.from:n.to;if(n.shift||n.extend||hn(n.from,n.to))r=Ln(this.doc,e,t,this.options.rtlMoveVisually);yn(this.doc,r,r,e)}),deleteH:bt(null,function(e,t){var n=this.doc.sel;hn(n.from,n.to)?ln(this.doc,"",n.from,Ln(this.doc,e,t,!1),"+delete"):ln(this.doc,"",n.from,n.to,"+delete"),this.curOp.userSelChange=!0}),moveV:bt(null,function(e,t){var n=this.doc,r=this.display,i=n.sel.head,s=ct(this,i,"div"),o=s.left,u;n.sel.goalColumn!=null&&(o=n.sel.goalColumn);if(t=="page"){var a=Math.min(r.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight);u=s.top+e*a}else t=="line"&&(u=e>0?s.bottom+3:s.top-3);do{var f=ht(this,o,u);u+=e*5}while(f.outside&&(e<0?u>0:u<n.height));t=="page"&&(r.scrollbarV.scrollTop+=lt(this,f,"div").top-s.top),yn(this.doc,f,f,e),n.sel.goalColumn=o}),toggleOverwrite:function(){(this.state.overwrite=!this.state.overwrite)?this.display.cursor.className+=" CodeMirror-overwrite":this.display.cursor.className=this.display.cursor.className.replace(" CodeMirror-overwrite","")},scrollTo:bt(null,function(e,t){this.curOp.updateScrollPos={scrollLeft:e,scrollTop:t}}),getScrollInfo:function(){var e=this.display.scroller,t=Ei;return{left:e.scrollLeft,top:e.scrollTop,height:e.scrollHeight-t,width:e.scrollWidth-t,clientHeight:e.clientHeight-t,clientWidth:e.clientWidth-t}},scrollIntoView:function(e){typeof e=="number"&&(e=cn(e,0)),!e||e.line!=null?(e=e?mn(this.doc,e):this.doc.sel.head,xn(this,e)):Tn(this,e.left,e.top,e.right,e.bottom)},setSize:function(e,t){function n(e){return typeof e=="number"||/^\d+$/.test(String(e))?e+"px":e}e!=null&&(this.display.wrapper.style.width=n(e)),t!=null&&(this.display.wrapper.style.height=n(t)),this.refresh()},on:function(e,t){di(this,e,t)},off:function(e,t){vi(this,e,t)},operation:function(e){return Et(this,e)},refresh:bt(null,function(){at(this),this.curOp.updateScrollPos={scrollTop:this.doc.scrollTop,scrollLeft:this.doc.scrollLeft},St(this)}),swapDoc:bt(null,function(e){var t=this.doc;return t.cm=null,Rr(this,e),at(this),this.curOp.updateScrollPos={scrollTop:e.scrollTop,scrollLeft:e.scrollLeft},t}),getInputField:function(){return this.display.input},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}};var Mn=S.optionHandlers={},_n=S.defaults={},Pn=S.Init={toString:function(){return"CodeMirror.Init"}};Dn("value","",function(e,t){e.setValue(t)},!0),Dn("mode",null,function(e,t){e.doc.modeOption=t,T(e)},!0),Dn("indentUnit",2,T,!0),Dn("indentWithTabs",!1),Dn("smartIndent",!0),Dn("tabSize",4,function(e){T(e),at(e),St(e)},!0),Dn("electricChars",!0),Dn("rtlMoveVisually",!m),Dn("theme","default",function(e){A(e),O(e)},!0),Dn("keyMap","default",L),Dn("extraKeys",null),Dn("onKeyEvent",null),Dn("onDragEvent",null),Dn("lineWrapping",!1,N,!0),Dn("gutters",[],function(e){P(e.options),O(e)},!0),Dn("fixedGutter",!0,function(e,t){e.display.gutters.style.left=t?q(e.display)+"px":"0",e.refresh()},!0),Dn("lineNumbers",!1,function(e){P(e.options),O(e)},!0),Dn("firstLineNumber",1,O,!0),Dn("lineNumberFormatter",function(e){return e},O,!0),Dn("showCursorWhenSelecting",!1,K,!0),Dn("readOnly",!1,function(e,t){t=="nocursor"?(Yt(e),e.display.input.blur()):t||Ct(e,!0)}),Dn("dragDrop",!0),Dn("cursorBlinkRate",530),Dn("cursorHeight",1),Dn("workTime",100),Dn("workDelay",100),Dn("flattenSpans",!0),Dn("pollInterval",100),Dn("undoDepth",40,function(e,t){e.doc.history.undoDepth=t}),Dn("viewportMargin",10,function(e){e.refresh()},!0),Dn("tabindex",null,function(e,t){e.display.input.tabIndex=t||""}),Dn("autofocus",null);var Hn=S.modes={},Bn=S.mimeModes={};S.defineMode=function(e,t){!S.defaults.mode&&e!="null"&&(S.defaults.mode=e);if(arguments.length>2){t.dependencies=[];for(var n=2;n<arguments.length;++n)t.dependencies.push(arguments[n])}Hn[e]=t},S.defineMIME=function(e,t){Bn[e]=t},S.resolveMode=function(e){if(typeof e=="string"&&Bn.hasOwnProperty(e))e=Bn[e];else if(typeof e=="string"&&/^[\w\-]+\/[\w\-]+\+xml$/.test(e))return S.resolveMode("application/xml");return typeof e=="string"?{name:e}:e||{name:"null"}},S.getMode=function(e,t){t=S.resolveMode(t);var n=Hn[t.name];if(!n)return S.getMode(e,"text/plain");var r=n(e,t);if(jn.hasOwnProperty(t.name)){var i=jn[t.name];for(var s in i){if(!i.hasOwnProperty(s))continue;r.hasOwnProperty(s)&&(r["_"+s]=r[s]),r[s]=i[s]}}return r.name=t.name,r},S.defineMode("null",function(){return{token:function(e){e.skipToEnd()}}}),S.defineMIME("text/plain","null");var jn=S.modeExtensions={};S.extendMode=function(e,t){var n=jn.hasOwnProperty(e)?jn[e]:jn[e]={};Mi(t,n)},S.defineExtension=function(e,t){S.prototype[e]=t},S.defineOption=Dn;var Fn=[];S.defineInitHook=function(e){Fn.push(e)},S.copyState=In,S.startState=qn,S.innerMode=function(e,t){while(e.innerMode){var n=e.innerMode(t);t=n.state,e=n.mode}return n||{mode:e,state:t}};var Rn=S.commands={selectAll:function(e){e.setSelection(cn(e.firstLine(),0),cn(e.lastLine()))},killLine:function(e){var t=e.getCursor(!0),n=e.getCursor(!1),r=!hn(t,n);!r&&e.getLine(t.line).length==t.ch?e.replaceRange("",t,cn(t.line+1,0),"+delete"):e.replaceRange("",t,r?n:cn(t.line),"+delete")},deleteLine:function(e){var t=e.getCursor().line;e.replaceRange("",cn(t,0),cn(t),"+delete")},undo:function(e){e.undo()},redo:function(e){e.redo()},goDocStart:function(e){e.extendSelection(cn(e.firstLine(),0))},goDocEnd:function(e){e.extendSelection(cn(e.lastLine()))},goLineStart:function(e){e.extendSelection(rs(e,e.getCursor().line))},goLineStartSmart:function(e){var t=e.getCursor(),n=rs(e,t.line),r=e.getLineHandle(n.line),i=Kr(r);if(!i||i[0].level==0){var s=Math.max(0,r.text.search(/\S/)),o=t.line==n.line&&t.ch<=s&&t.ch;e.extendSelection(cn(n.line,o?0:s))}else e.extendSelection(n)},goLineEnd:function(e){e.extendSelection(is(e,e.getCursor().line))},goLineUp:function(e){e.moveV(-1,"line")},goLineDown:function(e){e.moveV(1,"line")},goPageUp:function(e){e.moveV(-1,"page")},goPageDown:function(e){e.moveV(1,"page")},goCharLeft:function(e){e.moveH(-1,"char")},goCharRight:function(e){e.moveH(1,"char")},goColumnLeft:function(e){e.moveH(-1,"column")},goColumnRight:function(e){e.moveH(1,"column")},goWordLeft:function(e){e.moveH(-1,"word")},goWordRight:function(e){e.moveH(1,"word")},delCharBefore:function(e){e.deleteH(-1,"char")},delCharAfter:function(e){e.deleteH(1,"char")},delWordBefore:function(e){e.deleteH(-1,"word")},delWordAfter:function(e){e.deleteH(1,"word")},indentAuto:function(e){e.indentSelection("smart")},indentMore:function(e){e.indentSelection("add")},indentLess:function(e){e.indentSelection("subtract")},insertTab:function(e){e.replaceSelection("	","end","+input")},defaultTab:function(e){e.somethingSelected()?e.indentSelection("add"):e.replaceSelection("	","end","+input")},transposeChars:function(e){var t=e.getCursor(),n=e.getLine(t.line);t.ch>0&&t.ch<n.length-1&&e.replaceRange(n.charAt(t.ch)+n.charAt(t.ch-1),cn(t.line,t.ch-1),cn(t.line,t.ch+1))},newlineAndIndent:function(e){bt(e,function(){e.replaceSelection("\n","end","+input"),e.indentLine(e.getCursor().line,null,!0)})()},toggleOverwrite:function(e){e.toggleOverwrite()}},Un=S.keyMap={};Un.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite"},Un.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Alt-Up":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Down":"goDocEnd","Ctrl-Left":"goWordLeft","Ctrl-Right":"goWordRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delWordBefore","Ctrl-Delete":"delWordAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore",fallthrough:"basic"},Un.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goWordLeft","Alt-Right":"goWordRight","Cmd-Left":"goLineStart","Cmd-Right":"goLineEnd","Alt-Backspace":"delWordBefore","Ctrl-Alt-Backspace":"delWordAfter","Alt-Delete":"delWordAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore",fallthrough:["basic","emacsy"]},Un["default"]=v?Un.macDefault:Un.pcDefault,Un.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars"},S.lookupKey=Wn,S.isModifierKey=Xn,S.keyName=Vn,S.fromTextArea=function(e,t){function i(){e.value=a.getValue()}t||(t={}),t.value=e.value,!t.tabindex&&e.tabindex&&(t.tabindex=e.tabindex);if(t.autofocus==null){var n=document.body;try{n=document.activeElement}catch(r){}t.autofocus=n==e||e.getAttribute("autofocus")!=null&&n==document.body}if(e.form){di(e.form,"submit",i);var s=e.form,o=s.submit;try{var u=s.submit=function(){i(),s.submit=o,s.submit(),s.submit=u}}catch(r){}}e.style.display="none";var a=S(function(t){e.parentNode.insertBefore(t,e.nextSibling)},t);return a.save=i,a.getTextArea=function(){return e},a.toTextArea=function(){i(),e.parentNode.removeChild(a.getWrapperElement()),e.style.display="",e.form&&(vi(e.form,"submit",i),typeof e.form.submit=="function"&&(e.form.submit=o))},a},$n.prototype={eol:function(){return this.pos>=this.string.length},sol:function(){return this.pos==0},peek:function(){return this.string.charAt(this.pos)||undefined},next:function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},eat:function(e){var t=this.string.charAt(this.pos);if(typeof e=="string")var n=t==e;else var n=t&&(e.test?e.test(t):e(t));if(n)return++this.pos,t},eatWhile:function(e){var t=this.pos;while(this.eat(e));return this.pos>t},eatSpace:function(){var e=this.pos;while(/[\s\u00a0]/.test(this.string.charAt(this.pos)))++this.pos;return this.pos>e},skipToEnd:function(){this.pos=this.string.length},skipTo:function(e){var t=this.string.indexOf(e,this.pos);if(t>-1)return this.pos=t,!0},backUp:function(e){this.pos-=e},column:function(){return Ti(this.string,this.start,this.tabSize)},indentation:function(){return Ti(this.string,null,this.tabSize)},match:function(e,t,n){if(typeof e!="string"){var i=this.string.slice(this.pos).match(e);return i&&i.index>0?null:(i&&t!==!1&&(this.pos+=i[0].length),i)}var r=function(e){return n?e.toLowerCase():e};if(r(this.string).indexOf(r(e),this.pos)==this.pos)return t!==!1&&(this.pos+=e.length),!0},current:function(){return this.string.slice(this.start,this.pos)}},S.StringStream=$n,S.TextMarker=Jn,Jn.prototype.clear=function(){if(this.explicitlyCleared)return;var e=this.doc.cm,t=e&&!e.curOp;t&&gt(e);var n=null,r=null;for(var i=0;i<this.lines.length;++i){var s=this.lines[i],o=Yn(s.markedSpans,this);o.to!=null&&(r=Vr(s)),s.markedSpans=Zn(s.markedSpans,o),o.from!=null?n=Vr(s):this.collapsed&&!lr(this.doc,s)&&e&&Xr(s,vt(e.display))}if(e&&this.collapsed&&!e.options.lineWrapping)for(var i=0;i<this.lines.length;++i){var u=fr(e.doc,this.lines[i]),a=_(e.doc,u);a>e.display.maxLineLength&&(e.display.maxLine=u,e.display.maxLineLength=a,e.display.maxLineChanged=!0)}n!=null&&e&&St(e,n,r+1),this.lines.length=0,this.explicitlyCleared=!0,this.collapsed&&this.doc.cantEdit&&(this.doc.cantEdit=!1,e&&wn(e)),t&&yt(e),bi(this,"clear")},Jn.prototype.find=function(){var e,t;for(var n=0;n<this.lines.length;++n){var r=this.lines[n],i=Yn(r.markedSpans,this);if(i.from!=null||i.to!=null){var s=Vr(r);i.from!=null&&(e=cn(s,i.from)),i.to!=null&&(t=cn(s,i.to))}}return this.type=="bookmark"?e:e&&{from:e,to:t}},Jn.prototype.getOptions=function(e){var t=this.replacedWith;return{className:this.className,inclusiveLeft:this.inclusiveLeft,inclusiveRight:this.inclusiveRight,atomic:this.atomic,collapsed:this.collapsed,clearOnEnter:this.clearOnEnter,replacedWith:e?t&&t.cloneNode(!0):t,readOnly:this.readOnly,startStyle:this.startStyle,endStyle:this.endStyle}},Jn.prototype.attachLine=function(e){if(!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;(!t.maybeHiddenMarkers||Ai(t.maybeHiddenMarkers,this)==-1)&&(t.maybeUnhiddenMarkers||(t.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(e)},Jn.prototype.detachLine=function(e){this.lines.splice(Ai(this.lines,e),1);if(!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;(t.maybeHiddenMarkers||(t.maybeHiddenMarkers=[])).push(this)}},S.SharedTextMarker=Qn,Qn.prototype.clear=function(){if(this.explicitlyCleared)return;this.explicitlyCleared=!0;for(var e=0;e<this.markers.length;++e)this.markers[e].clear();bi(this,"clear")},Qn.prototype.find=function(){return this.primary.find()},Qn.prototype.getOptions=function(e){var t=this.primary.getOptions(e);return t.shared=!0,t};var dr=S.LineWidget=function(e,t,n){for(var r in n)n.hasOwnProperty(r)&&(this[r]=n[r]);this.cm=e,this.node=t};dr.prototype.clear=vr(function(){var e=this.line.widgets,t=Vr(this.line);if(t==null||!e)return;for(var n=0;n<e.length;++n)e[n]==this&&e.splice(n--,1);e.length||(this.line.widgets=null),Xr(this.line,Math.max(0,this.line.height-mr(this))),St(this.cm,t,t+1)}),dr.prototype.changed=vr(function(){var e=this.height;this.height=null;var t=mr(this)-e;if(!t)return;Xr(this.line,this.line.height+t);var n=Vr(this.line);St(this.cm,n,n+1)});var Nr={},Lr=/[\t\u0000-\u0019\u200b\u2028\u2029\uFEFF]/g;Pr.prototype={chunkSize:function(){return this.lines.length},removeInner:function(e,t){for(var n=e,r=e+t;n<r;++n){var i=this.lines[n];this.height-=i.height,wr(i),bi(i,"delete")}this.lines.splice(e,t)},collapse:function(e){e.splice.apply(e,[e.length,0].concat(this.lines))},insertInner:function(e,t,n){this.height+=n,this.lines=this.lines.slice(0,e).concat(t).concat(this.lines.slice(e));for(var r=0,i=t.length;r<i;++r)t[r].parent=this},iterN:function(e,t,n){for(var r=e+t;e<r;++e)if(n(this.lines[e]))return!0}},Hr.prototype={chunkSize:function(){return this.size},removeInner:function(e,t){this.size-=t;for(var n=0;n<this.children.length;++n){var r=this.children[n],i=r.chunkSize();if(e<i){var s=Math.min(t,i-e),o=r.height;r.removeInner(e,s),this.height-=o-r.height,i==s&&(this.children.splice(n--,1),r.parent=null);if((t-=s)==0)break;e=0}else e-=i}if(this.size-t<25){var u=[];this.collapse(u),this.children=[new Pr(u)],this.children[0].parent=this}},collapse:function(e){for(var t=0,n=this.children.length;t<n;++t)this.children[t].collapse(e)},insertInner:function(e,t,n){this.size+=t.length,this.height+=n;for(var r=0,i=this.children.length;r<i;++r){var s=this.children[r],o=s.chunkSize();if(e<=o){s.insertInner(e,t,n);if(s.lines&&s.lines.length>50){while(s.lines.length>50){var u=s.lines.splice(s.lines.length-25,25),a=new Pr(u);s.height-=a.height,this.children.splice(r+1,0,a),a.parent=this}this.maybeSpill()}break}e-=o}},maybeSpill:function(){if(this.children.length<=10)return;var e=this;do{var t=e.children.splice(e.children.length-5,5),n=new Hr(t);if(!e.parent){var r=new Hr(e.children);r.parent=e,e.children=[r,n],e=r}else{e.size-=n.size,e.height-=n.height;var i=Ai(e.parent.children,e);e.parent.children.splice(i+1,0,n)}n.parent=e.parent}while(e.children.length>10);e.parent.maybeSpill()},iterN:function(e,t,n){for(var r=0,i=this.children.length;r<i;++r){var s=this.children[r],o=s.chunkSize();if(e<o){var u=Math.min(t,o-e);if(s.iterN(e,u,n))return!0;if((t-=u)==0)break;e=0}else e-=o}}};var Br=0,jr=S.Doc=function(e,t,n){if(!(this instanceof jr))return new jr(e,t,n);n==null&&(n=0),Hr.call(this,[new Pr([yr("",null)])]),this.first=n,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.history=Qr(),this.frontier=n;var r=cn(n,0);this.sel={from:r,to:r,head:r,anchor:r,shift:!1,extend:!1,goalColumn:null},this.id=++Br,this.modeOption=t,typeof e=="string"&&(e=Ji(e)),Dr(this,{from:r,to:r,text:e},null,{head:r,anchor:r})};jr.prototype=Oi(Hr.prototype,{iter:function(e,t,n){n?this.iterN(e-this.first,t-(e-this.first),n):this.iterN(this.first,this.first+this.size,e)},insert:function(e,t){var n=0;for(var r=0,i=t.length;r<i;++r)n+=t[r].height;this.insertInner(e-this.first,t,n)},remove:function(e,t){this.removeInner(e-this.first,t)},getValue:function(e){var t=Wr(this,this.first,this.first+this.size);return e===!1?t:t.join(e||"\n")},setValue:function(e){var t=cn(this.first,0),n=this.first+this.size-1;rn(this,{from:t,to:cn(n,Ur(this,n).text.length),text:Ji(e),origin:"setValue"},{head:t,anchor:t},!0)},replaceRange:function(e,t,n,r){t=mn(this,t),n=n?mn(this,n):t,ln(this,e,t,n,r)},getRange:function(e,t,n){var r=zr(this,mn(this,e),mn(this,t));return n===!1?r:r.join(n||"\n")},getLine:function(e){var t=this.getLineHandle(e);return t&&t.text},setLine:function(e,t){gn(this,e)&&ln(this,t,cn(e,0),mn(this,cn(e)))},removeLine:function(e){gn(this,e)&&ln(this,"",cn(e,0),mn(this,cn(e+1,0)))},getLineHandle:function(e){if(gn(this,e))return Ur(this,e)},getLineNumber:function(e){return Vr(e)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(e){return mn(this,e)},getCursor:function(e){var t=this.sel,n;return e==null||e=="head"?n=t.head:e=="anchor"?n=t.anchor:e=="end"||e===!1?n=t.to:n=t.from,dn(n)},somethingSelected:function(){return!hn(this.sel.head,this.sel.anchor)},setCursor:wt(function(e,t,n){var r=mn(this,typeof e=="number"?cn(e,t||0):e);n?yn(this,r):bn(this,r,r)}),setSelection:wt(function(e,t){bn(this,mn(this,e),mn(this,t||e))}),extendSelection:wt(function(e,t){yn(this,mn(this,e),t&&mn(this,t))}),getSelection:function(e){return this.getRange(this.sel.from,this.sel.to,e)},replaceSelection:function(e,t,n){rn(this,{from:this.sel.from,to:this.sel.to,text:Ji(e),origin:n},t||"around")},undo:wt(function(){on(this,"undo")}),redo:wt(function(){on(this,"redo")}),setExtending:function(e){this.sel.extend=e},historySize:function(){var e=this.history;return{undo:e.done.length,redo:e.undone.length}},clearHistory:function(){this.history=Qr()},markClean:function(){this.history.dirtyCounter=0,this.history.lastOp=this.history.lastOrigin=null},isClean:function(){return this.history.dirtyCounter==0},getHistory:function(){return{done:ni(this.history.done),undone:ni(this.history.undone)}},setHistory:function(e){var t=this.history=Qr();t.done=e.done.slice(0),t.undone=e.undone.slice(0)},markText:function(e,t,n){return Kn(this,mn(this,e),mn(this,t),n,"range")},setBookmark:function(e,t){var n={replacedWith:t&&(t.nodeType==null?t.widget:t),insertLeft:t&&t.insertLeft};return e=mn(this,e),Kn(this,e,e,n,"bookmark")},findMarksAt:function(e){e=mn(this,e);var t=[],n=Ur(this,e.line).markedSpans;if(n)for(var r=0;r<n.length;++r){var i=n[r];(i.from==null||i.from<=e.ch)&&(i.to==null||i.to>=e.ch)&&t.push(i.marker.parent||i.marker)}return t},posFromIndex:function(e){var t,n=this.first;return this.iter(function(r){var i=r.text.length+1;if(i>e)return t=e,!0;e-=i,++n}),mn(this,cn(n,t))},indexFromPos:function(e){e=mn(this,e);var t=e.ch;return e.line<this.first||e.ch<0?0:(this.iter(this.first,e.line,function(e){t+=e.text.length+1}),t)},copy:function(e){var t=new jr(Wr(this,this.first,this.first+this.size),this.modeOption,this.first);return t.scrollTop=this.scrollTop,t.scrollLeft=this.scrollLeft,t.sel={from:this.sel.from,to:this.sel.to,head:this.sel.head,anchor:this.sel.anchor,shift:this.sel.shift,extend:!1,goalColumn:this.sel.goalColumn},e&&(t.history.undoDepth=this.history.undoDepth,t.setHistory(this.getHistory())),t},linkedDoc:function(e){e||(e={});var t=this.first,n=this.first+this.size;e.from!=null&&e.from>t&&(t=e.from),e.to!=null&&e.to<n&&(n=e.to);var r=new jr(Wr(this,t,n),e.mode||this.modeOption,t);return e.sharedHist&&(r.history=this.history),(this.linked||(this.linked=[])).push({doc:r,sharedHist:e.sharedHist}),r.linked=[{doc:this,isParent:!0,sharedHist:e.sharedHist}],r},unlinkDoc:function(e){e instanceof S&&(e=e.doc);if(this.linked)for(var t=0;t<this.linked.length;++t){var n=this.linked[t];if(n.doc!=e)continue;this.linked.splice(t,1),e.unlinkDoc(this);break}if(e.history==this.history){var r=[e.id];qr(e,function(e){r.push(e.id)},!0),e.history=Qr(),e.history.done=ni(this.history.done,r),e.history.undone=ni(this.history.undone,r)}},iterLinkedDocs:function(e){qr(this,e)},getMode:function(){return this.mode},getEditor:function(){return this.cm}}),jr.prototype.eachLine=jr.prototype.iter;var Fr="setValue getValue getSelection replaceSelection eachLine undo redo historySize clearHistory markClean isClean getHistory setHistory markText setBookmark findMarksAt lineCount firstLine lastLine clipPos getCursor somethingSelected setCursor setSelection extendSelection setExtending getLine setLine removeLine getMode replaceRange getRange getLineHandle getLineNumber posFromIndex indexFromPos linkedDoc unlinkDoc iterLinkedDocs".split(" ");for(var Ir=0;Ir<Fr.length;++Ir)(function(e){var t=jr.prototype[e];S.prototype[e]=function(){return t.apply(this.doc,arguments)}})(Fr[Ir]);S.e_stop=li,S.e_preventDefault=ai,S.e_stopPropagation=fi;var gi,yi=0;S.on=di,S.off=vi,S.signal=mi;var Ei=30,Si=S.Pass={toString:function(){return"CodeMirror.Pass"}};xi.prototype={set:function(e,t){clearTimeout(this.id),this.id=setTimeout(t,e)}},S.countColumn=Ti;var Ni=[""],Pi=/[\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc]/,ji=/[\u0300-\u036F\u0483-\u0487\u0488-\u0489\u0591-\u05BD\u05BF\u05C1-\u05C2\u05C4-\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7-\u06E8\u06EA-\u06ED\uA66F\uA670-\uA672\uA674-\uA67D\uA69F]/,Ui=function(){if(r)return!1;var e=Fi("div");return"draggable"in e||"dragDrop"in e}(),zi=/^$/;e?zi=/$'/:a?zi=/\-[^ \-?]|\?[^ !'\"\),.\-\/:;\?\]\}]/:o&&(zi=/\-[^ \-\.?]|\?[^ \-\.?\]\}:;!'\"\),\/]|[\.!\"#&%\)*+,:;=>\]|\}~][\(\{\[<]|\$'/);var Wi,Vi,Ji="\n\nb".split(/\n/).length!=3?function(e){var t=0,n=[],r=e.length;while(t<=r){var i=e.indexOf("\n",t);i==-1&&(i=e.length);var s=e.slice(t,e.charAt(i-1)=="\r"?i-1:i),o=s.indexOf("\r");o!=-1?(n.push(s.slice(0,o)),t+=o+1):(n.push(s),t=i+1)}return n}:function(e){return e.split(/\r\n?|\n/)};S.splitLines=Ji;var Ki=window.getSelection?function(e){try{return e.selectionStart!=e.selectionEnd}catch(t){return!1}}:function(e){try{var t=e.ownerDocument.selection.createRange()}catch(n){}return!t||t.parentElement()!=e?!1:t.compareEndPoints("StartToEnd",t)!=0},Qi=function(){var e=Fi("div");return"oncopy"in e?!0:(e.setAttribute("oncopy","return;"),typeof e.oncopy=="function")}(),Gi={3:"Enter",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",91:"Mod",92:"Mod",93:"Mod",109:"-",107:"=",127:"Delete",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63276:"PageUp",63277:"PageDown",63275:"End",63273:"Home",63234:"Left",63232:"Up",63235:"Right",63233:"Down",63302:"Insert",63272:"Delete"};S.keyNames=Gi,function(){for(var e=0;e<10;e++)Gi[e+48]=String(e);for(var e=65;e<=90;e++)Gi[e]=String.fromCharCode(e);for(var e=1;e<=12;e++)Gi[e+111]=Gi[e+63235]="F"+e}();var us=function(){function n(n){return n<=255?e.charAt(n):1424<=n&&n<=1524?"R":1536<=n&&n<=1791?t.charAt(n-1536):1792<=n&&n<=2220?"r":"L"}var e="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLL",t="rrrrrrrrrrrr,rNNmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmrrrrrrrnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmNmmmmrrrrrrrrrrrrrrrrrr",r=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,i=/[stwN]/,s=/[LRr]/,o=/[Lb1n]/,u=/[1n]/,a="L";return function(e){if(!r.test(e))return!1;var t=e.length,f=[];for(var l=0,c;l<t;++l)f.push(c=n(e.charCodeAt(l)));for(var l=0,h=a;l<t;++l){var c=f[l];c=="m"?f[l]=h:h=c}for(var l=0,p=a;l<t;++l){var c=f[l];c=="1"&&p=="r"?f[l]="n":s.test(c)&&(p=c,c=="r"&&(f[l]="R"))}for(var l=1,h=f[0];l<t-1;++l){var c=f[l];c=="+"&&h=="1"&&f[l+1]=="1"?f[l]="1":c==","&&h==f[l+1]&&(h=="1"||h=="n")&&(f[l]=h),h=c}for(var l=0;l<t;++l){var c=f[l];if(c==",")f[l]="N";else if(c=="%"){for(var d=l+1;d<t&&f[d]=="%";++d);var v=l&&f[l-1]=="!"||d<t-1&&f[d]=="1"?"1":"N";for(var m=l;m<d;++m)f[m]=v;l=d-1}}for(var l=0,p=a;l<t;++l){var c=f[l];p=="L"&&c=="1"?f[l]="L":s.test(c)&&(p=c)}for(var l=0;l<t;++l)if(i.test(f[l])){for(var d=l+1;d<t&&i.test(f[d]);++d);var g=(l?f[l-1]:a)=="L",y=(d<t-1?f[d]:a)=="L",v=g||y?"L":"R";for(var m=l;m<d;++m)f[m]=v;l=d-1}var b=[],w;for(var l=0;l<t;)if(o.test(f[l])){var E=l;for(++l;l<t&&o.test(f[l]);++l);b.push({from:E,to:l,level:0})}else{var S=l,x=b.length;for(++l;l<t&&f[l]!="L";++l);for(var m=S;m<l;)if(u.test(f[m])){S<m&&b.splice(x,0,{from:S,to:m,level:1});var T=m;for(++m;m<l&&u.test(f[m]);++m);b.splice(x,0,{from:T,to:m,level:2}),S=m}else++m;S<l&&b.splice(x,0,{from:S,to:l,level:1})}return b[0].level==1&&(w=e.match(/^\s+/))&&(b[0].from=w[0].length,b.unshift({from:0,to:w[0].length,level:0})),ki(b).level==1&&(w=e.match(/\s+$/))&&(ki(b).to-=w[0].length,b.push({from:t-w[0].length,to:t,level:0})),b[0].level!=ki(b).level&&b.push({from:t,to:t,level:b[0].level}),b}}();return S.version="3.02 +",S}()
;
CodeMirror.defineMode("clike",function(e,t){function p(e,t){var n=e.next();if(f[n]){var r=f[n](e,t);if(r!==!1)return r}if(n=='"'||n=="'")return t.tokenize=d(n),t.tokenize(e,t);if(/[\[\]{}\(\),;\:\.]/.test(n))return h=n,null;if(/\d/.test(n))return e.eatWhile(/[\w\.]/),"number";if(n=="/"){if(e.eat("*"))return t.tokenize=v,v(e,t);if(e.eat("/"))return e.skipToEnd(),"comment"}if(c.test(n))return e.eatWhile(c),"operator";e.eatWhile(/[\w\$_]/);var i=e.current();return s.propertyIsEnumerable(i)?(u.propertyIsEnumerable(i)&&(h="newstatement"),"keyword"):o.propertyIsEnumerable(i)?(u.propertyIsEnumerable(i)&&(h="newstatement"),"builtin"):a.propertyIsEnumerable(i)?"atom":"variable"}function d(e){return function(t,n){var r=!1,i,s=!1;while((i=t.next())!=null){if(i==e&&!r){s=!0;break}r=!r&&i=="\\"}if(s||!r&&!l)n.tokenize=null;return"string"}}function v(e,t){var n=!1,r;while(r=e.next()){if(r=="/"&&n){t.tokenize=null;break}n=r=="*"}return"comment"}function m(e,t,n,r,i){this.indented=e,this.column=t,this.type=n,this.align=r,this.prev=i}function g(e,t,n){var r=e.indented;return e.context&&e.context.type=="statement"&&(r=e.context.indented),e.context=new m(r,t,n,null,e.context)}function y(e){var t=e.context.type;if(t==")"||t=="]"||t=="}")e.indented=e.context.indented;return e.context=e.context.prev}var n=e.indentUnit,r=t.statementIndentUnit||n,i=t.dontAlignCalls,s=t.keywords||{},o=t.builtin||{},u=t.blockKeywords||{},a=t.atoms||{},f=t.hooks||{},l=t.multiLineStrings,c=/[+\-*&%=<>!?|\/]/,h;return{startState:function(e){return{tokenize:null,context:new m((e||0)-n,0,"top",!1),indented:0,startOfLine:!0}},token:function(e,t){var n=t.context;e.sol()&&(n.align==null&&(n.align=!1),t.indented=e.indentation(),t.startOfLine=!0);if(e.eatSpace())return null;h=null;var r=(t.tokenize||p)(e,t);if(r=="comment"||r=="meta")return r;n.align==null&&(n.align=!0);if(h!=";"&&h!=":"&&h!=","||n.type!="statement")if(h=="{")g(t,e.column(),"}");else if(h=="[")g(t,e.column(),"]");else if(h=="(")g(t,e.column(),")");else if(h=="}"){while(n.type=="statement")n=y(t);n.type=="}"&&(n=y(t));while(n.type=="statement")n=y(t)}else h==n.type?y(t):((n.type=="}"||n.type=="top")&&h!=";"||n.type=="statement"&&h=="newstatement")&&g(t,e.column(),"statement");else y(t);return t.startOfLine=!1,r},indent:function(e,t){if(e.tokenize!=p&&e.tokenize!=null)return CodeMirror.Pass;var s=e.context,o=t&&t.charAt(0);s.type=="statement"&&o=="}"&&(s=s.prev);var u=o==s.type;return s.type=="statement"?s.indented+(o=="{"?0:r):i&&s.type==")"&&!u?s.indented+r:s.align?s.column+(u?0:1):s.indented+(u?0:n)},electricChars:"{}"}}),function(){function e(e){var t={},n=e.split(" ");for(var r=0;r<n.length;++r)t[n[r]]=!0;return t}function n(e,t){if(!t.startOfLine)return!1;for(;;){if(!e.skipTo("\\")){e.skipToEnd(),t.tokenize=null;break}e.next();if(e.eol()){t.tokenize=n;break}}return"meta"}function r(e,t){var n;while((n=e.next())!=null)if(n=='"'&&!e.eat('"')){t.tokenize=null;break}return"string"}function i(e,t){for(var n=0;n<e.length;++n)CodeMirror.defineMIME(e[n],t)}var t="auto if break int case long char register continue return default short do sizeof double static else struct entry switch extern typedef float union for unsigned goto while enum void const signed volatile";i(["text/x-csrc","text/x-c","text/x-chdr"],{name:"clike",keywords:e(t),blockKeywords:e("case do else for if switch while struct"),atoms:e("null"),hooks:{"#":n}}),i(["text/x-c++src","text/x-c++hdr"],{name:"clike",keywords:e(t+" asm dynamic_cast namespace reinterpret_cast try bool explicit new "+"static_cast typeid catch operator template typename class friend private "+"this using const_cast inline public throw virtual delete mutable protected "+"wchar_t"),blockKeywords:e("catch class do else finally for if struct switch try while"),atoms:e("true false null"),hooks:{"#":n}}),CodeMirror.defineMIME("text/x-java",{name:"clike",keywords:e("abstract assert boolean break byte case catch char class const continue default do double else enum extends final finally float for goto if implements import instanceof int interface long native new package private protected public return short static strictfp super switch synchronized this throw throws transient try void volatile while"),blockKeywords:e("catch class do else finally for if switch try while"),atoms:e("true false null"),hooks:{"@":function(e){return e.eatWhile(/[\w\$_]/),"meta"}}}),CodeMirror.defineMIME("text/x-csharp",{name:"clike",keywords:e("abstract as base break case catch checked class const continue default delegate do else enum event explicit extern finally fixed for foreach goto if implicit in interface internal is lock namespace new operator out override params private protected public readonly ref return sealed sizeof stackalloc static struct switch this throw try typeof unchecked unsafe using virtual void volatile while add alias ascending descending dynamic from get global group into join let orderby partial remove select set value var yield"),blockKeywords:e("catch class do else finally for foreach if struct switch try while"),builtin:e("Boolean Byte Char DateTime DateTimeOffset Decimal Double Guid Int16 Int32 Int64 Object SByte Single String TimeSpan UInt16 UInt32 UInt64 bool byte char decimal double short int long object sbyte float string ushort uint ulong"),atoms:e("true false null"),hooks:{"@":function(e,t){return e.eat('"')?(t.tokenize=r,r(e,t)):(e.eatWhile(/[\w\$_]/),"meta")}}}),CodeMirror.defineMIME("text/x-scala",{name:"clike",keywords:e("abstract case catch class def do else extends false final finally for forSome if implicit import lazy match new null object override package private protected return sealed super this throw trait try trye type val var while with yield _ : = => <- <: <% >: # @ assert assume require print println printf readLine readBoolean readByte readShort readChar readInt readLong readFloat readDouble AnyVal App Application Array BufferedIterator BigDecimal BigInt Char Console Either Enumeration Equiv Error Exception Fractional Function IndexedSeq Integral Iterable Iterator List Map Numeric Nil NotNull Option Ordered Ordering PartialFunction PartialOrdering Product Proxy Range Responder Seq Serializable Set Specializable Stream StringBuilder StringContext Symbol Throwable Traversable TraversableOnce Tuple Unit Vector :: #:: Boolean Byte Character CharSequence Class ClassLoader Cloneable Comparable Compiler Double Exception Float Integer Long Math Number Object Package Pair Process Runtime Runnable SecurityManager Short StackTraceElement StrictMath String StringBuffer System Thread ThreadGroup ThreadLocal Throwable Triple Void"),blockKeywords:e("catch class do else finally for forSome if match switch try while"),atoms:e("true false null"),hooks:{"@":function(e){return e.eatWhile(/[\w\$_]/),"meta"}}})}()
;
CodeMirror.defineMode("clojure",function(){function a(e){var t={},n=e.split(" ");for(var r=0;r<n.length;++r)t[n[r]]=!0;return t}function d(e,t,n){this.indent=e,this.type=t,this.prev=n}function v(e,t,n){e.indentStack=new d(t,n,e.indentStack)}function m(e){e.indentStack=e.indentStack.prev}function g(e,t){return e==="0"&&t.eat(/x/i)?(t.eatWhile(p.hex),!0):((e=="+"||e=="-")&&p.digit.test(t.peek())&&(t.eat(p.sign),e=t.next()),p.digit.test(e)?(t.eat(e),t.eatWhile(p.digit),"."==t.peek()&&(t.eat("."),t.eatWhile(p.digit)),t.eat(p.exponent)&&(t.eat(p.sign),t.eatWhile(p.digit)),!0):!1)}var e="builtin",t="comment",n="string",r="atom",i="number",s="bracket",o="keyword",u=2,f=a("true false nil"),l=a("defn defn- def def- defonce defmulti defmethod defmacro defstruct deftype defprotocol defrecord defproject deftest slice defalias defhinted defmacro- defn-memo defnk defnk defonce- defunbound defunbound- defvar defvar- let letfn do case cond condp for loop recur when when-not when-let when-first if if-let if-not . .. -> ->> doto and or dosync doseq dotimes dorun doall load import unimport ns in-ns refer try catch finally throw with-open with-local-vars binding gen-class gen-and-load-class gen-and-save-class handler-case handle"),c=a("* *1 *2 *3 *agent* *allow-unresolved-vars* *assert *clojure-version* *command-line-args* *compile-files* *compile-path* *e *err* *file* *flush-on-newline* *in* *macro-meta* *math-context* *ns* *out* *print-dup* *print-length* *print-level* *print-meta* *print-readably* *read-eval* *source-path* *use-context-classloader* *warn-on-reflection* + - / < <= = == > >= accessor aclone agent agent-errors aget alength alias all-ns alter alter-meta! alter-var-root amap ancestors and apply areduce array-map aset aset-boolean aset-byte aset-char aset-double aset-float aset-int aset-long aset-short assert assoc assoc! assoc-in associative? atom await await-for await1 bases bean bigdec bigint binding bit-and bit-and-not bit-clear bit-flip bit-not bit-or bit-set bit-shift-left bit-shift-right bit-test bit-xor boolean boolean-array booleans bound-fn bound-fn* butlast byte byte-array bytes case cast char char-array char-escape-string char-name-string char? chars chunk chunk-append chunk-buffer chunk-cons chunk-first chunk-next chunk-rest chunked-seq? class class? clear-agent-errors clojure-version coll? comment commute comp comparator compare compare-and-set! compile complement concat cond condp conj conj! cons constantly construct-proxy contains? count counted? create-ns create-struct cycle dec decimal? declare definline defmacro defmethod defmulti defn defn- defonce defstruct delay delay? deliver deref derive descendants destructure disj disj! dissoc dissoc! distinct distinct? doall doc dorun doseq dosync dotimes doto double double-array doubles drop drop-last drop-while empty empty? ensure enumeration-seq eval even? every? extend extend-protocol extend-type extends? extenders false? ffirst file-seq filter find find-doc find-ns find-var first float float-array float? floats flush fn fn? fnext for force format future future-call future-cancel future-cancelled? future-done? future? gen-class gen-interface gensym get get-in get-method get-proxy-class get-thread-bindings get-validator hash hash-map hash-set identical? identity if-let if-not ifn? import in-ns inc init-proxy instance? int int-array integer? interleave intern interpose into into-array ints io! isa? iterate iterator-seq juxt key keys keyword keyword? last lazy-cat lazy-seq let letfn line-seq list list* list? load load-file load-reader load-string loaded-libs locking long long-array longs loop macroexpand macroexpand-1 make-array make-hierarchy map map? mapcat max max-key memfn memoize merge merge-with meta method-sig methods min min-key mod name namespace neg? newline next nfirst nil? nnext not not-any? not-empty not-every? not= ns ns-aliases ns-imports ns-interns ns-map ns-name ns-publics ns-refers ns-resolve ns-unalias ns-unmap nth nthnext num number? odd? or parents partial partition pcalls peek persistent! pmap pop pop! pop-thread-bindings pos? pr pr-str prefer-method prefers primitives-classnames print print-ctor print-doc print-dup print-method print-namespace-doc print-simple print-special-doc print-str printf println println-str prn prn-str promise proxy proxy-call-with-super proxy-mappings proxy-name proxy-super push-thread-bindings pvalues quot rand rand-int range ratio? rational? rationalize re-find re-groups re-matcher re-matches re-pattern re-seq read read-line read-string reify reduce ref ref-history-count ref-max-history ref-min-history ref-set refer refer-clojure release-pending-sends rem remove remove-method remove-ns repeat repeatedly replace replicate require reset! reset-meta! resolve rest resultset-seq reverse reversible? rseq rsubseq satisfies? second select-keys send send-off seq seq? seque sequence sequential? set set-validator! set? short short-array shorts shutdown-agents slurp some sort sort-by sorted-map sorted-map-by sorted-set sorted-set-by sorted? special-form-anchor special-symbol? split-at split-with str stream? string? struct struct-map subs subseq subvec supers swap! symbol symbol? sync syntax-symbol-anchor take take-last take-nth take-while test the-ns time to-array to-array-2d trampoline transient tree-seq true? type unchecked-add unchecked-dec unchecked-divide unchecked-inc unchecked-multiply unchecked-negate unchecked-remainder unchecked-subtract underive unquote unquote-splicing update-in update-proxy use val vals var-get var-set var? vary-meta vec vector vector? when when-first when-let when-not while with-bindings with-bindings* with-in-str with-loading-context with-local-vars with-meta with-open with-out-str with-precision xml-seq"),h=a("ns fn def defn defmethod bound-fn if if-not case condp when while when-not when-first do future comment doto locking proxy with-open with-precision reify deftype defrecord defprotocol extend extend-protocol extend-type try catch let letfn binding loop for doseq dotimes when-let if-let defstruct struct-map assoc testing deftest handler-case handle dotrace deftrace"),p={digit:/\d/,digit_or_colon:/[\d:]/,hex:/[0-9a-f]/i,sign:/[+-]/,exponent:/e/i,keyword_char:/[^\s\(\[\;\)\]]/,basic:/[\w\$_\-]/,lang_keyword:/[\w*+!\-_?:\/]/};return{startState:function(){return{indentStack:null,indentation:0,mode:!1}},token:function(a,d){d.indentStack==null&&a.sol()&&(d.indentation=a.indentation());if(a.eatSpace())return null;var y=null;switch(d.mode){case"string":var b,w=!1;while((b=a.next())!=null){if(b=='"'&&!w){d.mode=!1;break}w=!w&&b=="\\"}y=n;break;default:var E=a.next();if(E=='"')d.mode="string",y=n;else if(E=="'"&&!p.digit_or_colon.test(a.peek()))y=r;else if(E==";")a.skipToEnd(),y=t;else if(g(E,a))y=i;else if(E=="("||E=="["||E=="{"){var S="",x=a.column(),T;if(E=="(")while((T=a.eat(p.keyword_char))!=null)S+=T;S.length>0&&(h.propertyIsEnumerable(S)||/^(?:def|with)/.test(S))?v(d,x+u,E):(a.eatSpace(),a.eol()||a.peek()==";"?v(d,x+1,E):v(d,x+a.current().length,E)),a.backUp(a.current().length-1),y=s}else if(E==")"||E=="]"||E=="}")y=s,d.indentStack!=null&&d.indentStack.type==(E==")"?"(":E=="]"?"[":"{")&&m(d);else{if(E==":")return a.eatWhile(p.lang_keyword),r;a.eatWhile(p.basic),l&&l.propertyIsEnumerable(a.current())?y=o:c&&c.propertyIsEnumerable(a.current())?y=e:f&&f.propertyIsEnumerable(a.current())?y=r:y=null}}return y},indent:function(e){return e.indentStack==null?e.indentation:e.indentStack.indent}}}),CodeMirror.defineMIME("text/x-clojure","clojure")
;
/**
 * Link to the project's GitHub page:
 * https://github.com/pickhardt/coffeescript-codemirror-mode
 */
CodeMirror.defineMode('coffeescript', function(conf) {
    var ERRORCLASS = 'error';

    function wordRegexp(words) {
        return new RegExp("^((" + words.join(")|(") + "))\\b");
    }

    var singleOperators = new RegExp("^[\\+\\-\\*/%&|\\^~<>!\?]");
    var singleDelimiters = new RegExp('^[\\(\\)\\[\\]\\{\\},:`=;\\.]');
    var doubleOperators = new RegExp("^((\->)|(\=>)|(\\+\\+)|(\\+\\=)|(\\-\\-)|(\\-\\=)|(\\*\\*)|(\\*\\=)|(\\/\\/)|(\\/\\=)|(==)|(!=)|(<=)|(>=)|(<>)|(<<)|(>>)|(//))");
    var doubleDelimiters = new RegExp("^((\\.\\.)|(\\+=)|(\\-=)|(\\*=)|(%=)|(/=)|(&=)|(\\|=)|(\\^=))");
    var tripleDelimiters = new RegExp("^((\\.\\.\\.)|(//=)|(>>=)|(<<=)|(\\*\\*=))");
    var identifiers = new RegExp("^[_A-Za-z$][_A-Za-z$0-9]*");
    var properties = new RegExp("^(@|this\.)[_A-Za-z$][_A-Za-z$0-9]*");

    var wordOperators = wordRegexp(['and', 'or', 'not',
                                    'is', 'isnt', 'in',
                                    'instanceof', 'typeof']);
    var indentKeywords = ['for', 'while', 'loop', 'if', 'unless', 'else',
                          'switch', 'try', 'catch', 'finally', 'class'];
    var commonKeywords = ['break', 'by', 'continue', 'debugger', 'delete',
                          'do', 'in', 'of', 'new', 'return', 'then',
                          'this', 'throw', 'when', 'until'];

    var keywords = wordRegexp(indentKeywords.concat(commonKeywords));

    indentKeywords = wordRegexp(indentKeywords);


    var stringPrefixes = new RegExp("^('{3}|\"{3}|['\"])");
    var regexPrefixes = new RegExp("^(/{3}|/)");
    var commonConstants = ['Infinity', 'NaN', 'undefined', 'null', 'true', 'false', 'on', 'off', 'yes', 'no'];
    var constants = wordRegexp(commonConstants);

    // Tokenizers
    function tokenBase(stream, state) {
        // Handle scope changes
        if (stream.sol()) {
            var scopeOffset = state.scopes[0].offset;
            if (stream.eatSpace()) {
                var lineOffset = stream.indentation();
                if (lineOffset > scopeOffset) {
                    return 'indent';
                } else if (lineOffset < scopeOffset) {
                    return 'dedent';
                }
                return null;
            } else {
                if (scopeOffset > 0) {
                    dedent(stream, state);
                }
            }
        }
        if (stream.eatSpace()) {
            return null;
        }

        var ch = stream.peek();

        // Handle docco title comment (single line)
        if (stream.match("####")) {
            stream.skipToEnd();
            return 'comment';
        }

        // Handle multi line comments
        if (stream.match("###")) {
            state.tokenize = longComment;
            return state.tokenize(stream, state);
        }

        // Single line comment
        if (ch === '#') {
            stream.skipToEnd();
            return 'comment';
        }

        // Handle number literals
        if (stream.match(/^-?[0-9\.]/, false)) {
            var floatLiteral = false;
            // Floats
            if (stream.match(/^-?\d*\.\d+(e[\+\-]?\d+)?/i)) {
              floatLiteral = true;
            }
            if (stream.match(/^-?\d+\.\d*/)) {
              floatLiteral = true;
            }
            if (stream.match(/^-?\.\d+/)) {
              floatLiteral = true;
            }

            if (floatLiteral) {
                // prevent from getting extra . on 1..
                if (stream.peek() == "."){
                    stream.backUp(1);
                }
                return 'number';
            }
            // Integers
            var intLiteral = false;
            // Hex
            if (stream.match(/^-?0x[0-9a-f]+/i)) {
              intLiteral = true;
            }
            // Decimal
            if (stream.match(/^-?[1-9]\d*(e[\+\-]?\d+)?/)) {
                intLiteral = true;
            }
            // Zero by itself with no other piece of number.
            if (stream.match(/^-?0(?![\dx])/i)) {
              intLiteral = true;
            }
            if (intLiteral) {
                return 'number';
            }
        }

        // Handle strings
        if (stream.match(stringPrefixes)) {
            state.tokenize = tokenFactory(stream.current(), 'string');
            return state.tokenize(stream, state);
        }
        // Handle regex literals
        if (stream.match(regexPrefixes)) {
            if (stream.current() != '/' || stream.match(/^.*\//, false)) { // prevent highlight of division
                state.tokenize = tokenFactory(stream.current(), 'string-2');
                return state.tokenize(stream, state);
            } else {
                stream.backUp(1);
            }
        }

        // Handle operators and delimiters
        if (stream.match(tripleDelimiters) || stream.match(doubleDelimiters)) {
            return 'punctuation';
        }
        if (stream.match(doubleOperators)
            || stream.match(singleOperators)
            || stream.match(wordOperators)) {
            return 'operator';
        }
        if (stream.match(singleDelimiters)) {
            return 'punctuation';
        }

        if (stream.match(constants)) {
            return 'atom';
        }

        if (stream.match(keywords)) {
            return 'keyword';
        }

        if (stream.match(identifiers)) {
            return 'variable';
        }
        
        if (stream.match(properties)) {
            return 'property';
        }

        // Handle non-detected items
        stream.next();
        return ERRORCLASS;
    }

    function tokenFactory(delimiter, outclass) {
        var singleline = delimiter.length == 1;
        return function(stream, state) {
            while (!stream.eol()) {
                stream.eatWhile(/[^'"\/\\]/);
                if (stream.eat('\\')) {
                    stream.next();
                    if (singleline && stream.eol()) {
                        return outclass;
                    }
                } else if (stream.match(delimiter)) {
                    state.tokenize = tokenBase;
                    return outclass;
                } else {
                    stream.eat(/['"\/]/);
                }
            }
            if (singleline) {
                if (conf.mode.singleLineStringErrors) {
                    outclass = ERRORCLASS;
                } else {
                    state.tokenize = tokenBase;
                }
            }
            return outclass;
        };
    }

    function longComment(stream, state) {
        while (!stream.eol()) {
            stream.eatWhile(/[^#]/);
            if (stream.match("###")) {
                state.tokenize = tokenBase;
                break;
            }
            stream.eatWhile("#");
        }
        return "comment";
    }

    function indent(stream, state, type) {
        type = type || 'coffee';
        var indentUnit = 0;
        if (type === 'coffee') {
            for (var i = 0; i < state.scopes.length; i++) {
                if (state.scopes[i].type === 'coffee') {
                    indentUnit = state.scopes[i].offset + conf.indentUnit;
                    break;
                }
            }
        } else {
            indentUnit = stream.column() + stream.current().length;
        }
        state.scopes.unshift({
            offset: indentUnit,
            type: type
        });
    }

    function dedent(stream, state) {
        if (state.scopes.length == 1) return;
        if (state.scopes[0].type === 'coffee') {
            var _indent = stream.indentation();
            var _indent_index = -1;
            for (var i = 0; i < state.scopes.length; ++i) {
                if (_indent === state.scopes[i].offset) {
                    _indent_index = i;
                    break;
                }
            }
            if (_indent_index === -1) {
                return true;
            }
            while (state.scopes[0].offset !== _indent) {
                state.scopes.shift();
            }
            return false;
        } else {
            state.scopes.shift();
            return false;
        }
    }

    function tokenLexer(stream, state) {
        var style = state.tokenize(stream, state);
        var current = stream.current();

        // Handle '.' connected identifiers
        if (current === '.') {
            style = state.tokenize(stream, state);
            current = stream.current();
            if (style === 'variable') {
                return 'variable';
            } else {
                return ERRORCLASS;
            }
        }

        // Handle scope changes.
        if (current === 'return') {
            state.dedent += 1;
        }
        if (((current === '->' || current === '=>') &&
                  !state.lambda &&
                  state.scopes[0].type == 'coffee' &&
                  stream.peek() === '')
               || style === 'indent') {
            indent(stream, state);
        }
        var delimiter_index = '[({'.indexOf(current);
        if (delimiter_index !== -1) {
            indent(stream, state, '])}'.slice(delimiter_index, delimiter_index+1));
        }
        if (indentKeywords.exec(current)){
            indent(stream, state);
        }
        if (current == 'then'){
            dedent(stream, state);
        }


        if (style === 'dedent') {
            if (dedent(stream, state)) {
                return ERRORCLASS;
            }
        }
        delimiter_index = '])}'.indexOf(current);
        if (delimiter_index !== -1) {
            if (dedent(stream, state)) {
                return ERRORCLASS;
            }
        }
        if (state.dedent > 0 && stream.eol() && state.scopes[0].type == 'coffee') {
            if (state.scopes.length > 1) state.scopes.shift();
            state.dedent -= 1;
        }

        return style;
    }

    var external = {
        startState: function(basecolumn) {
            return {
              tokenize: tokenBase,
              scopes: [{offset:basecolumn || 0, type:'coffee'}],
              lastToken: null,
              lambda: false,
              dedent: 0
          };
        },

        token: function(stream, state) {
            var style = tokenLexer(stream, state);

            state.lastToken = {style:style, content: stream.current()};

            if (stream.eol() && stream.lambda) {
                state.lambda = false;
            }

            return style;
        },

        indent: function(state) {
            if (state.tokenize != tokenBase) {
                return 0;
            }

            return state.scopes[0].offset;
        }

    };
    return external;
});

CodeMirror.defineMIME('text/x-coffeescript', 'coffeescript');

;
CodeMirror.defineMode("css",function(e){function a(e){var t={};for(var n=0;n<e.length;++n)t[e[n]]=!0;return t}function f(e,t){return n=t,e}function l(e,t){var n=e.next();if(n=="@")return e.eatWhile(/[\w\\\-]/),f("def",e.current());if(n=="/"&&e.eat("*"))return t.tokenize=c,c(e,t);if(n=="<"&&e.eat("!"))return t.tokenize=h,h(e,t);if(n=="=")f(null,"compare");else{if(!(n!="~"&&n!="|"||!e.eat("=")))return f(null,"compare");if(n=='"'||n=="'")return t.tokenize=p(n),t.tokenize(e,t);if(n=="#")return e.eatWhile(/[\w\\\-]/),f("atom","hash");if(n=="!")return e.match(/^\s*\w*/),f("keyword","important");if(/\d/.test(n))return e.eatWhile(/[\w.%]/),f("number","unit");if(n!=="-")return/[,+>*\/]/.test(n)?f(null,"select-op"):n=="."&&e.match(/^-?[_a-z][_a-z0-9-]*/i)?f("qualifier","qualifier"):n==":"?f("operator",n):/[;{}\[\]\(\)]/.test(n)?f(null,n):n=="u"&&e.match("rl(")?(e.backUp(1),t.tokenize=d,f("property","variable")):(e.eatWhile(/[\w\\\-]/),f("property","variable"));if(/\d/.test(e.peek()))return e.eatWhile(/[\w.%]/),f("number","unit");if(e.match(/^[^-]+-/))return f("meta","meta")}}function c(e,t){var n=!1,r;while((r=e.next())!=null){if(n&&r=="/"){t.tokenize=l;break}n=r=="*"}return f("comment","comment")}function h(e,t){var n=0,r;while((r=e.next())!=null){if(n>=2&&r==">"){t.tokenize=l;break}n=r=="-"?n+1:0}return f("comment","comment")}function p(e,t){return function(n,r){var i=!1,s;while((s=n.next())!=null){if(s==e&&!i)break;i=!i&&s=="\\"}return i||(t&&n.backUp(1),r.tokenize=l),f("string","string")}}function d(e,t){return e.next(),e.match(/\s*[\"\']/,!1)?t.tokenize=l:t.tokenize=p(")",!0),f(null,"(")}var t=e.indentUnit,n,r=a(["all","aural","braille","handheld","print","projection","screen","tty","tv","embossed"]),i=a(["width","min-width","max-width","height","min-height","max-height","device-width","min-device-width","max-device-width","device-height","min-device-height","max-device-height","aspect-ratio","min-aspect-ratio","max-aspect-ratio","device-aspect-ratio","min-device-aspect-ratio","max-device-aspect-ratio","color","min-color","max-color","color-index","min-color-index","max-color-index","monochrome","min-monochrome","max-monochrome","resolution","min-resolution","max-resolution","scan","grid"]),s=a(["align-content","align-items","align-self","alignment-adjust","alignment-baseline","anchor-point","animation","animation-delay","animation-direction","animation-duration","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","appearance","azimuth","backface-visibility","background","background-attachment","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","baseline-shift","binding","bleed","bookmark-label","bookmark-level","bookmark-state","bookmark-target","border","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","clear","clip","color","color-profile","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","content","counter-increment","counter-reset","crop","cue","cue-after","cue-before","cursor","direction","display","dominant-baseline","drop-initial-after-adjust","drop-initial-after-align","drop-initial-before-adjust","drop-initial-before-align","drop-initial-size","drop-initial-value","elevation","empty-cells","fit","fit-position","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","float-offset","font","font-feature-settings","font-family","font-kerning","font-language-override","font-size","font-size-adjust","font-stretch","font-style","font-synthesis","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-weight","grid-cell","grid-column","grid-column-align","grid-column-sizing","grid-column-span","grid-columns","grid-flow","grid-row","grid-row-align","grid-row-sizing","grid-row-span","grid-rows","grid-template","hanging-punctuation","height","hyphens","icon","image-orientation","image-rendering","image-resolution","inline-box-align","justify-content","left","letter-spacing","line-break","line-height","line-stacking","line-stacking-ruby","line-stacking-shift","line-stacking-strategy","list-style","list-style-image","list-style-position","list-style-type","margin","margin-bottom","margin-left","margin-right","margin-top","marker-offset","marks","marquee-direction","marquee-loop","marquee-play-count","marquee-speed","marquee-style","max-height","max-width","min-height","min-width","move-to","nav-down","nav-index","nav-left","nav-right","nav-up","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-style","overflow-wrap","overflow-x","overflow-y","padding","padding-bottom","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","page-policy","pause","pause-after","pause-before","perspective","perspective-origin","pitch","pitch-range","play-during","position","presentation-level","punctuation-trim","quotes","rendering-intent","resize","rest","rest-after","rest-before","richness","right","rotation","rotation-point","ruby-align","ruby-overhang","ruby-position","ruby-span","size","speak","speak-as","speak-header","speak-numeral","speak-punctuation","speech-rate","stress","string-set","tab-size","table-layout","target","target-name","target-new","target-position","text-align","text-align-last","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-style","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-height","text-indent","text-justify","text-outline","text-shadow","text-space-collapse","text-transform","text-underline-position","text-wrap","top","transform","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","unicode-bidi","vertical-align","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","volume","white-space","widows","width","word-break","word-spacing","word-wrap","z-index"]),o=a(["black","silver","gray","white","maroon","red","purple","fuchsia","green","lime","olive","yellow","navy","blue","teal","aqua"]),u=a(["above","absolute","activeborder","activecaption","afar","after-white-space","ahead","alias","all","all-scroll","alternate","always","amharic","amharic-abegede","antialiased","appworkspace","arabic-indic","armenian","asterisks","auto","avoid","background","backwards","baseline","below","bidi-override","binary","bengali","blink","block","block-axis","bold","bolder","border","border-box","both","bottom","break-all","break-word","button","button-bevel","buttonface","buttonhighlight","buttonshadow","buttontext","cambodian","capitalize","caps-lock-indicator","caption","captiontext","caret","cell","center","checkbox","circle","cjk-earthly-branch","cjk-heavenly-stem","cjk-ideographic","clear","clip","close-quote","col-resize","collapse","compact","condensed","contain","content","content-box","context-menu","continuous","copy","cover","crop","cross","crosshair","currentcolor","cursive","dashed","decimal","decimal-leading-zero","default","default-button","destination-atop","destination-in","destination-out","destination-over","devanagari","disc","discard","document","dot-dash","dot-dot-dash","dotted","double","down","e-resize","ease","ease-in","ease-in-out","ease-out","element","ellipsis","embed","end","ethiopic","ethiopic-abegede","ethiopic-abegede-am-et","ethiopic-abegede-gez","ethiopic-abegede-ti-er","ethiopic-abegede-ti-et","ethiopic-halehame-aa-er","ethiopic-halehame-aa-et","ethiopic-halehame-am-et","ethiopic-halehame-gez","ethiopic-halehame-om-et","ethiopic-halehame-sid-et","ethiopic-halehame-so-et","ethiopic-halehame-ti-er","ethiopic-halehame-ti-et","ethiopic-halehame-tig","ew-resize","expanded","extra-condensed","extra-expanded","fantasy","fast","fill","fixed","flat","footnotes","forwards","from","geometricPrecision","georgian","graytext","groove","gujarati","gurmukhi","hand","hangul","hangul-consonant","hebrew","help","hidden","hide","higher","highlight","highlighttext","hiragana","hiragana-iroha","horizontal","hsl","hsla","icon","ignore","inactiveborder","inactivecaption","inactivecaptiontext","infinite","infobackground","infotext","inherit","initial","inline","inline-axis","inline-block","inline-table","inset","inside","intrinsic","invert","italic","justify","kannada","katakana","katakana-iroha","khmer","landscape","lao","large","larger","left","level","lighter","line-through","linear","lines","list-item","listbox","listitem","local","logical","loud","lower","lower-alpha","lower-armenian","lower-greek","lower-hexadecimal","lower-latin","lower-norwegian","lower-roman","lowercase","ltr","malayalam","match","media-controls-background","media-current-time-display","media-fullscreen-button","media-mute-button","media-play-button","media-return-to-realtime-button","media-rewind-button","media-seek-back-button","media-seek-forward-button","media-slider","media-sliderthumb","media-time-remaining-display","media-volume-slider","media-volume-slider-container","media-volume-sliderthumb","medium","menu","menulist","menulist-button","menulist-text","menulist-textfield","menutext","message-box","middle","min-intrinsic","mix","mongolian","monospace","move","multiple","myanmar","n-resize","narrower","navy","ne-resize","nesw-resize","no-close-quote","no-drop","no-open-quote","no-repeat","none","normal","not-allowed","nowrap","ns-resize","nw-resize","nwse-resize","oblique","octal","open-quote","optimizeLegibility","optimizeSpeed","oriya","oromo","outset","outside","overlay","overline","padding","padding-box","painted","paused","persian","plus-darker","plus-lighter","pointer","portrait","pre","pre-line","pre-wrap","preserve-3d","progress","push-button","radio","read-only","read-write","read-write-plaintext-only","relative","repeat","repeat-x","repeat-y","reset","reverse","rgb","rgba","ridge","right","round","row-resize","rtl","run-in","running","s-resize","sans-serif","scroll","scrollbar","se-resize","searchfield","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","semi-condensed","semi-expanded","separate","serif","show","sidama","single","skip-white-space","slide","slider-horizontal","slider-vertical","sliderthumb-horizontal","sliderthumb-vertical","slow","small","small-caps","small-caption","smaller","solid","somali","source-atop","source-in","source-out","source-over","space","square","square-button","start","static","status-bar","stretch","stroke","sub","subpixel-antialiased","super","sw-resize","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group","telugu","text","text-bottom","text-top","textarea","textfield","thai","thick","thin","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","tibetan","tigre","tigrinya-er","tigrinya-er-abegede","tigrinya-et","tigrinya-et-abegede","to","top","transparent","ultra-condensed","ultra-expanded","underline","up","upper-alpha","upper-armenian","upper-greek","upper-hexadecimal","upper-latin","upper-norwegian","upper-roman","uppercase","urdu","url","vertical","vertical-text","visible","visibleFill","visiblePainted","visibleStroke","visual","w-resize","wait","wave","white","wider","window","windowframe","windowtext","x-large","x-small","xor","xx-large","xx-small","yellow"]);return{startState:function(e){return{tokenize:l,baseIndent:e||0,stack:[]}},token:function(e,t){if(t.tokenize==l&&e.eatSpace())return null;var a=t.tokenize(e,t),f=t.stack[t.stack.length-1];return a=="property"?f=="propertyValue"?u[e.current()]?a="string-2":o[e.current()]?a="keyword":a="variable-2":f=="rule"?s[e.current()]||(a+=" error"):!f||f=="@media{"?a="tag":f=="@media"?r[e.current()]?a="attribute":/^(only|not)$/i.test(e.current())?a="keyword":e.current().toLowerCase()=="and"?a="error":i[e.current()]?a="error":a="attribute error":f=="@mediaType"?r[e.current()]?a="attribute":e.current().toLowerCase()=="and"?a="operator":/^(only|not)$/i.test(e.current())?a="error":i[e.current()]?a="error":a="error":f=="@mediaType("?s[e.current()]||(r[e.current()]?a="error":e.current().toLowerCase()=="and"?a="operator":/^(only|not)$/i.test(e.current())?a="error":a+=" error"):a="error":a=="atom"?!f||f=="@media{"?a="builtin":f=="propertyValue"?/^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/.test(e.current())||(a+=" error"):a="error":f=="@media"&&n=="{"&&(a="error"),n=="{"?f=="@media"||f=="@mediaType"?(t.stack.pop(),t.stack[t.stack.length-1]="@media{"):t.stack.push("rule"):n=="}"?(t.stack.pop(),f=="propertyValue"&&t.stack.pop()):n=="@media"?t.stack.push("@media"):f=="@media"&&/\b(keyword|attribute)\b/.test(a)?t.stack.push("@mediaType"):f=="@mediaType"&&e.current()==","?t.stack.pop():f=="@mediaType"&&n=="("?t.stack.push("@mediaType("):f=="@mediaType("&&n==")"?t.stack.pop():f=="rule"&&n==":"?t.stack.push("propertyValue"):f=="propertyValue"&&n==";"&&t.stack.pop(),a},indent:function(e,n){var r=e.stack.length;return/^\}/.test(n)&&(r-=e.stack[e.stack.length-1]=="propertyValue"?2:1),e.baseIndent+r*t},electricChars:"}"}}),CodeMirror.defineMIME("text/css","css")
;
CodeMirror.defineMode("diff",function(){var e={"+":"positive","-":"negative","@":"meta"};return{token:function(t){var n=t.string.search(/[\t ]+?$/);if(!t.sol()||n===0)return t.skipToEnd(),("error "+(e[t.string.charAt(0)]||"")).replace(/ $/,"");var r=e[t.peek()]||t.skipToEnd();return n===-1?t.skipToEnd():t.pos=n,r}}}),CodeMirror.defineMIME("text/x-diff","diff")
;
CodeMirror.defineMode("ecl",function(e){function t(e){var t={},n=e.split(" ");for(var r=0;r<n.length;++r)t[n[r]]=!0;return t}function n(e,t){return t.startOfLine?(e.skipToEnd(),"meta"):!1}function v(e,t){var n=e.next();if(c[n]){var r=c[n](e,t);if(r!==!1)return r}if(n=='"'||n=="'")return t.tokenize=m(n),t.tokenize(e,t);if(/[\[\]{}\(\),;\:\.]/.test(n))return d=n,null;if(/\d/.test(n))return e.eatWhile(/[\w\.]/),"number";if(n=="/"){if(e.eat("*"))return t.tokenize=g,g(e,t);if(e.eat("/"))return e.skipToEnd(),"comment"}if(p.test(n))return e.eatWhile(p),"operator";e.eatWhile(/[\w\$_]/);var h=e.current().toLowerCase();if(i.propertyIsEnumerable(h))return f.propertyIsEnumerable(h)&&(d="newstatement"),"keyword";if(s.propertyIsEnumerable(h))return f.propertyIsEnumerable(h)&&(d="newstatement"),"variable";if(o.propertyIsEnumerable(h))return f.propertyIsEnumerable(h)&&(d="newstatement"),"variable-2";if(u.propertyIsEnumerable(h))return f.propertyIsEnumerable(h)&&(d="newstatement"),"variable-3";if(a.propertyIsEnumerable(h))return f.propertyIsEnumerable(h)&&(d="newstatement"),"builtin";var v=h.length-1;while(v>=0&&(!isNaN(h[v])||h[v]=="_"))--v;if(v>0){var y=h.substr(0,v+1);if(u.propertyIsEnumerable(y))return f.propertyIsEnumerable(y)&&(d="newstatement"),"variable-3"}return l.propertyIsEnumerable(h)?"atom":null}function m(e){return function(t,n){var r=!1,i,s=!1;while((i=t.next())!=null){if(i==e&&!r){s=!0;break}r=!r&&i=="\\"}if(s||!r&&!h)n.tokenize=v;return"string"}}function g(e,t){var n=!1,r;while(r=e.next()){if(r=="/"&&n){t.tokenize=v;break}n=r=="*"}return"comment"}function y(e,t,n,r,i){this.indented=e,this.column=t,this.type=n,this.align=r,this.prev=i}function b(e,t,n){return e.context=new y(e.indented,t,n,null,e.context)}function w(e){var t=e.context.type;if(t==")"||t=="]"||t=="}")e.indented=e.context.indented;return e.context=e.context.prev}var r=e.indentUnit,i=t("abs acos allnodes ascii asin asstring atan atan2 ave case choose choosen choosesets clustersize combine correlation cos cosh count covariance cron dataset dedup define denormalize distribute distributed distribution ebcdic enth error evaluate event eventextra eventname exists exp failcode failmessage fetch fromunicode getisvalid global graph group hash hash32 hash64 hashcrc hashmd5 having if index intformat isvalid iterate join keyunicode length library limit ln local log loop map matched matchlength matchposition matchtext matchunicode max merge mergejoin min nolocal nonempty normalize parse pipe power preload process project pull random range rank ranked realformat recordof regexfind regexreplace regroup rejected rollup round roundup row rowdiff sample set sin sinh sizeof soapcall sort sorted sqrt stepped stored sum table tan tanh thisnode topn tounicode transfer trim truncate typeof ungroup unicodeorder variance which workunit xmldecode xmlencode xmltext xmlunicode"),s=t("apply assert build buildindex evaluate fail keydiff keypatch loadxml nothor notify output parallel sequential soapcall wait"),o=t("__compressed__ all and any as atmost before beginc++ best between case const counter csv descend encrypt end endc++ endmacro except exclusive expire export extend false few first flat from full function group header heading hole ifblock import in interface joined keep keyed last left limit load local locale lookup macro many maxcount maxlength min skew module named nocase noroot noscan nosort not of only opt or outer overwrite packed partition penalty physicallength pipe quote record relationship repeat return right scan self separator service shared skew skip sql store terminator thor threshold token transform trim true type unicodeorder unsorted validate virtual whole wild within xml xpath"),u=t("ascii big_endian boolean data decimal ebcdic integer pattern qstring real record rule set of string token udecimal unicode unsigned varstring varunicode"),a=t("checkpoint deprecated failcode failmessage failure global independent onwarning persist priority recovery stored success wait when"),f=t("catch class do else finally for if switch try while"),l=t("true false null"),c={"#":n},h,p=/[+\-*&%=<>!?|\/]/,d;return{startState:function(e){return{tokenize:null,context:new y((e||0)-r,0,"top",!1),indented:0,startOfLine:!0}},token:function(e,t){var n=t.context;e.sol()&&(n.align==null&&(n.align=!1),t.indented=e.indentation(),t.startOfLine=!0);if(e.eatSpace())return null;d=null;var r=(t.tokenize||v)(e,t);if(r=="comment"||r=="meta")return r;n.align==null&&(n.align=!0);if(d!=";"&&d!=":"||n.type!="statement")if(d=="{")b(t,e.column(),"}");else if(d=="[")b(t,e.column(),"]");else if(d=="(")b(t,e.column(),")");else if(d=="}"){while(n.type=="statement")n=w(t);n.type=="}"&&(n=w(t));while(n.type=="statement")n=w(t)}else d==n.type?w(t):(n.type=="}"||n.type=="top"||n.type=="statement"&&d=="newstatement")&&b(t,e.column(),"statement");else w(t);return t.startOfLine=!1,r},indent:function(e,t){if(e.tokenize!=v&&e.tokenize!=null)return 0;var n=e.context,i=t&&t.charAt(0);n.type=="statement"&&i=="}"&&(n=n.prev);var s=i==n.type;return n.type=="statement"?n.indented+(i=="{"?0:r):n.align?n.column+(s?0:1):n.indented+(s?0:r)},electricChars:"{}"}}),CodeMirror.defineMIME("text/x-ecl","ecl")
;
CodeMirror.defineMIME("text/x-erlang","erlang"),CodeMirror.defineMode("erlang",function(e){function t(e,t,n){n=="record"?e.context="record":e.context=!1,n!="whitespace"&&n!="comment"&&(e.lastToken=t.current());switch(n){case"atom":return"atom";case"attribute":return"attribute";case"builtin":return"builtin";case"comment":return"comment";case"fun":return"meta";case"function":return"tag";case"guard":return"property";case"keyword":return"keyword";case"macro":return"variable-2";case"number":return"number";case"operator":return"operator";case"record":return"bracket";case"string":return"string";case"type":return"def";case"variable":return"variable";case"error":return"error";case"separator":return null;case"open_paren":return null;case"close_paren":return null;default:return null}}function E(e,t){return-1<t.indexOf(e)}function S(e,t){var n=e.start,r=t.length;if(r<=n){var i=e.string.slice(n-r,n);return i==t}return!1}function x(e,c){if(e.eatSpace())return t(c,e,"whitespace");if((D(c).token==""||D(c).token==".")&&e.peek()=="-"){e.next();if(e.eat(h)&&e.eatWhile(m))return E(e.current(),n)?t(c,e,"type"):t(c,e,"attribute");e.backUp(1)}var x=e.next();if(x=="%")return e.skipToEnd(),t(c,e,"comment");if(x=="?")return e.eatWhile(m),t(c,e,"macro");if(x=="#")return e.eatWhile(m),t(c,e,"record");if(x=="$")return e.next()=="\\"&&(e.eatWhile(v)||e.next()),t(c,e,"string");if(x=="'")return k(e)?t(c,e,"atom"):t(c,e,"error");if(x=='"')return C(e)?t(c,e,"string"):t(c,e,"error");if(p.test(x))return e.eatWhile(m),t(c,e,"variable");if(h.test(x)){e.eatWhile(m);if(e.peek()=="/")return e.next(),e.eatWhile(d)?t(c,e,"fun"):(e.backUp(1),t(c,e,"atom"));var L=e.current();return E(L,r)?(P(c,e),t(c,e,"keyword")):e.peek()=="("?E(L,l)&&(!S(e,":")||S(e,"erlang:"))?t(c,e,"builtin"):t(c,e,"function"):E(L,f)?t(c,e,"guard"):E(L,s)?t(c,e,"operator"):e.peek()==":"?L=="erlang"?t(c,e,"builtin"):t(c,e,"function"):t(c,e,"atom")}return d.test(x)?(e.eatWhile(d),e.eat("#")?e.eatWhile(d):(e.eat(".")&&e.eatWhile(d),e.eat(/[eE]/)&&(e.eat(/[-+]/),e.eatWhile(d))),t(c,e,"number")):T(e,y,u)?(P(c,e),t(c,e,"open_paren")):T(e,b,a)?(P(c,e),t(c,e,"close_paren")):N(e,w,i)?(c.context==0&&P(c,e),t(c,e,"separator")):N(e,g,o)?t(c,e,"operator"):t(c,e,null)}function T(e,t,n){if(e.current().length==1&&t.test(e.current())){e.backUp(1);while(t.test(e.peek())){e.next();if(E(e.current(),n))return!0}e.backUp(e.current().length-1)}return!1}function N(e,t,n){if(e.current().length==1&&t.test(e.current())){while(t.test(e.peek()))e.next();while(0<e.current().length){if(E(e.current(),n))return!0;e.backUp(1)}e.next()}return!1}function C(e){return L(e,'"',"\\")}function k(e){return L(e,"'","\\")}function L(e,t,n){while(!e.eol()){var r=e.next();if(r==t)return!0;r==n&&e.next()}return!1}function A(e){this.token=e?e.current():"",this.column=e?e.column():0,this.indent=e?e.indentation():0}function O(t,n){var r=e.indentUnit,i=["after","catch"],s=D(t).token,o=M(n,/[^a-z]/);return E(s,u)?D(t).column+s.length:s=="."||s==""?0:s=="->"?o=="end"?D(t,2).column:D(t,2).token=="fun"?D(t,2).column+r:D(t).indent+r:E(o,i)?D(t).indent:D(t).column+r}function M(e,t){var n=e.match(t);return n?e.slice(0,n.index):e}function _(e){return e.tokenStack.pop()}function D(e,t){var n=e.tokenStack.length,r=t?t:1;return n<r?new A:e.tokenStack[n-r]}function P(e,t){var n=t.current(),r=D(e).token;return E(n,c)?!1:B(r,n)?(_(e),!1):H(r,n)?(_(e),P(e,t)):(e.tokenStack.push(new A(t)),!0)}function H(e,t){switch(e+" "+t){case"when ->":return!0;case"-> end":return!0;case"-> .":return!0;case". .":return!0;default:return!1}}function B(e,t){switch(e+" "+t){case"( )":return!0;case"[ ]":return!0;case"{ }":return!0;case"<< >>":return!0;case"begin end":return!0;case"case end":return!0;case"fun end":return!0;case"if end":return!0;case"receive end":return!0;case"try end":return!0;case"-> ;":return!0;default:return!1}}var n=["-type","-spec","-export_type","-opaque"],r=["after","begin","catch","case","cond","end","fun","if","let","of","query","receive","try","when"],i=["->",";",":",".",","],s=["and","andalso","band","bnot","bor","bsl","bsr","bxor","div","not","or","orelse","rem","xor"],o=["+","-","*","/",">",">=","<","=<","=:=","==","=/=","/=","||","<-"],u=["<<","(","[","{"],a=["}","]",")",">>"],f=["is_atom","is_binary","is_bitstring","is_boolean","is_float","is_function","is_integer","is_list","is_number","is_pid","is_port","is_record","is_reference","is_tuple","atom","binary","bitstring","boolean","function","integer","list","number","pid","port","record","reference","tuple"],l=["abs","adler32","adler32_combine","alive","apply","atom_to_binary","atom_to_list","binary_to_atom","binary_to_existing_atom","binary_to_list","binary_to_term","bit_size","bitstring_to_list","byte_size","check_process_code","contact_binary","crc32","crc32_combine","date","decode_packet","delete_module","disconnect_node","element","erase","exit","float","float_to_list","garbage_collect","get","get_keys","group_leader","halt","hd","integer_to_list","internal_bif","iolist_size","iolist_to_binary","is_alive","is_atom","is_binary","is_bitstring","is_boolean","is_float","is_function","is_integer","is_list","is_number","is_pid","is_port","is_process_alive","is_record","is_reference","is_tuple","length","link","list_to_atom","list_to_binary","list_to_bitstring","list_to_existing_atom","list_to_float","list_to_integer","list_to_pid","list_to_tuple","load_module","make_ref","module_loaded","monitor_node","node","node_link","node_unlink","nodes","notalive","now","open_port","pid_to_list","port_close","port_command","port_connect","port_control","pre_loaded","process_flag","process_info","processes","purge_module","put","register","registered","round","self","setelement","size","spawn","spawn_link","spawn_monitor","spawn_opt","split_binary","statistics","term_to_binary","time","throw","tl","trunc","tuple_size","tuple_to_list","unlink","unregister","whereis"],c=[",",":","catch","after","of","cond","let","query"],h=/[a-z_]/,p=/[A-Z_]/,d=/[0-9]/,v=/[0-7]/,m=/[a-z_A-Z0-9]/,g=/[\+\-\*\/<>=\|:]/,y=/[<\(\[\{]/,b=/[>\)\]\}]/,w=/[\->\.,:;]/;return{startState:function(){return{tokenStack:[],context:!1,lastToken:null}},token:function(e,t){return x(e,t)},indent:function(e,t){return O(e,t)}}})
;
CodeMirror.defineMode("gfm",function(e){function n(e){return e.code=!1,null}var t=0,r={startState:function(){return{code:!1,codeBlock:!1,ateSpace:!1}},copyState:function(e){return{code:e.code,codeBlock:e.codeBlock,ateSpace:e.ateSpace}},token:function(e,n){if(n.codeBlock)return e.match(/^```/)?(n.codeBlock=!1,null):(e.skipToEnd(),null);e.sol()&&(n.code=!1);if(e.sol()&&e.match(/^```/))return e.skipToEnd(),n.codeBlock=!0,null;if(e.peek()==="`"){e.next();var r=e.pos;e.eatWhile("`");var i=1+e.pos-r;return n.code?i===t&&(n.code=!1):(t=i,n.code=!0),null}if(n.code)return e.next(),null;if(e.eatSpace())return n.ateSpace=!0,null;if(e.sol()||n.ateSpace){n.ateSpace=!1;if(e.match(/^(?:[a-zA-Z0-9\-_]+\/)?(?:[a-zA-Z0-9\-_]+@)?(?:[a-f0-9]{7,40}\b)/))return"link";if(e.match(/^(?:[a-zA-Z0-9\-_]+\/)?(?:[a-zA-Z0-9\-_]+)?#[0-9]+\b/))return"link"}return e.match(/^((?:[a-z][\w-]+:(?:\/{1,3}|[a-z0-9%])|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]+|\([^\s()<>]*\))+(?:\([^\s()<>]*\)|[^\s`!()\[\]{};:'".,<>?«»“”‘’]))/i)?"link":(e.next(),null)},blankLine:n};return CodeMirror.defineMIME("gfmBase",{name:"markdown",underscoresBreakWords:!1,fencedCodeBlocks:!0}),CodeMirror.overlayMode(CodeMirror.getMode(e,"gfmBase"),r)},"markdown")
;
CodeMirror.defineMode("go",function(e){function o(e,t){var o=e.next();if(o=='"'||o=="'"||o=="`")return t.tokenize=u(o),t.tokenize(e,t);if(/[\d\.]/.test(o))return o=="."?e.match(/^[0-9]+([eE][\-+]?[0-9]+)?/):o=="0"?e.match(/^[xX][0-9a-fA-F]+/)||e.match(/^0[0-7]+/):e.match(/^[0-9]*\.?[0-9]*([eE][\-+]?[0-9]+)?/),"number";if(/[\[\]{}\(\),;\:\.]/.test(o))return s=o,null;if(o=="/"){if(e.eat("*"))return t.tokenize=a,a(e,t);if(e.eat("/"))return e.skipToEnd(),"comment"}if(i.test(o))return e.eatWhile(i),"operator";e.eatWhile(/[\w\$_]/);var f=e.current();if(n.propertyIsEnumerable(f)){if(f=="case"||f=="default")s="case";return"keyword"}return r.propertyIsEnumerable(f)?"atom":"variable"}function u(e){return function(t,n){var r=!1,i,s=!1;while((i=t.next())!=null){if(i==e&&!r){s=!0;break}r=!r&&i=="\\"}if(s||!r&&e!="`")n.tokenize=o;return"string"}}function a(e,t){var n=!1,r;while(r=e.next()){if(r=="/"&&n){t.tokenize=o;break}n=r=="*"}return"comment"}function f(e,t,n,r,i){this.indented=e,this.column=t,this.type=n,this.align=r,this.prev=i}function l(e,t,n){return e.context=new f(e.indented,t,n,null,e.context)}function c(e){var t=e.context.type;if(t==")"||t=="]"||t=="}")e.indented=e.context.indented;return e.context=e.context.prev}var t=e.indentUnit,n={"break":!0,"case":!0,chan:!0,"const":!0,"continue":!0,"default":!0,defer:!0,"else":!0,fallthrough:!0,"for":!0,func:!0,go:!0,"goto":!0,"if":!0,"import":!0,"interface":!0,map:!0,"package":!0,range:!0,"return":!0,select:!0,struct:!0,"switch":!0,type:!0,"var":!0,bool:!0,"byte":!0,complex64:!0,complex128:!0,float32:!0,float64:!0,int8:!0,int16:!0,int32:!0,int64:!0,string:!0,uint8:!0,uint16:!0,uint32:!0,uint64:!0,"int":!0,uint:!0,uintptr:!0},r={"true":!0,"false":!0,iota:!0,nil:!0,append:!0,cap:!0,close:!0,complex:!0,copy:!0,imag:!0,len:!0,make:!0,"new":!0,panic:!0,print:!0,println:!0,real:!0,recover:!0},i=/[+\-*&^%:=<>!|\/]/,s;return{startState:function(e){return{tokenize:null,context:new f((e||0)-t,0,"top",!1),indented:0,startOfLine:!0}},token:function(e,t){var n=t.context;e.sol()&&(n.align==null&&(n.align=!1),t.indented=e.indentation(),t.startOfLine=!0,n.type=="case"&&(n.type="}"));if(e.eatSpace())return null;s=null;var r=(t.tokenize||o)(e,t);return r=="comment"?r:(n.align==null&&(n.align=!0),s=="{"?l(t,e.column(),"}"):s=="["?l(t,e.column(),"]"):s=="("?l(t,e.column(),")"):s=="case"?n.type="case":s=="}"&&n.type=="}"?n=c(t):s==n.type&&c(t),t.startOfLine=!1,r)},indent:function(e,n){if(e.tokenize!=o&&e.tokenize!=null)return 0;var r=e.context,i=n&&n.charAt(0);if(r.type=="case"&&/^(?:case|default)\b/.test(n))return e.context.type="}",r.indented;var s=i==r.type;return r.align?r.column+(s?0:1):r.indented+(s?0:t)},electricChars:"{}:"}}),CodeMirror.defineMIME("text/x-go","go")
;
CodeMirror.defineMode("groovy",function(e){function t(e){var t={},n=e.split(" ");for(var r=0;r<n.length;++r)t[n[r]]=!0;return t}function o(e,t){var o=e.next();if(o=='"'||o=="'")return u(o,e,t);if(/[\[\]{}\(\),;\:\.]/.test(o))return s=o,null;if(/\d/.test(o))return e.eatWhile(/[\w\.]/),e.eat(/eE/)&&(e.eat(/\+\-/),e.eatWhile(/\d/)),"number";if(o=="/"){if(e.eat("*"))return t.tokenize.push(f),f(e,t);if(e.eat("/"))return e.skipToEnd(),"comment";if(l(t.lastToken))return u(o,e,t)}if(o=="-"&&e.eat(">"))return s="->",null;if(/[+\-*&%=<>!?|\/~]/.test(o))return e.eatWhile(/[+\-*&%=<>|~]/),"operator";e.eatWhile(/[\w\$_]/);if(o=="@")return e.eatWhile(/[\w\$_\.]/),"meta";if(t.lastToken==".")return"property";if(e.eat(":"))return s="proplabel","property";var a=e.current();return i.propertyIsEnumerable(a)?"atom":n.propertyIsEnumerable(a)?(r.propertyIsEnumerable(a)&&(s="newstatement"),"keyword"):"variable"}function u(e,t,n){function i(t,n){var i=!1,s,o=!r;while((s=t.next())!=null){if(s==e&&!i){if(!r)break;if(t.match(e+e)){o=!0;break}}if(e=='"'&&s=="$"&&!i&&t.eat("{"))return n.tokenize.push(a()),"string";i=!i&&s=="\\"}return o&&n.tokenize.pop(),"string"}var r=!1;if(e!="/"&&t.eat(e)){if(!t.eat(e))return"string";r=!0}return n.tokenize.push(i),i(t,n)}function a(){function t(t,n){if(t.peek()=="}"){e--;if(e==0)return n.tokenize.pop(),n.tokenize[n.tokenize.length-1](t,n)}else t.peek()=="{"&&e++;return o(t,n)}var e=1;return t.isBase=!0,t}function f(e,t){var n=!1,r;while(r=e.next()){if(r=="/"&&n){t.tokenize.pop();break}n=r=="*"}return"comment"}function l(e){return!e||e=="operator"||e=="->"||/[\.\[\{\(,;:]/.test(e)||e=="newstatement"||e=="keyword"||e=="proplabel"}function c(e,t,n,r,i){this.indented=e,this.column=t,this.type=n,this.align=r,this.prev=i}function h(e,t,n){return e.context=new c(e.indented,t,n,null,e.context)}function p(e){var t=e.context.type;if(t==")"||t=="]"||t=="}")e.indented=e.context.indented;return e.context=e.context.prev}var n=t("abstract as assert boolean break byte case catch char class const continue def default do double else enum extends final finally float for goto if implements import in instanceof int interface long native new package private protected public return short static strictfp super switch synchronized threadsafe throw throws transient try void volatile while"),r=t("catch class do else finally for if switch try while enum interface def"),i=t("null true false this"),s;return o.isBase=!0,{startState:function(t){return{tokenize:[o],context:new c((t||0)-e.indentUnit,0,"top",!1),indented:0,startOfLine:!0,lastToken:null}},token:function(e,t){var n=t.context;e.sol()&&(n.align==null&&(n.align=!1),t.indented=e.indentation(),t.startOfLine=!0,n.type=="statement"&&!l(t.lastToken)&&(p(t),n=t.context));if(e.eatSpace())return null;s=null;var r=t.tokenize[t.tokenize.length-1](e,t);if(r=="comment")return r;n.align==null&&(n.align=!0);if(s!=";"&&s!=":"||n.type!="statement")if(s=="->"&&n.type=="statement"&&n.prev.type=="}")p(t),t.context.align=!1;else if(s=="{")h(t,e.column(),"}");else if(s=="[")h(t,e.column(),"]");else if(s=="(")h(t,e.column(),")");else if(s=="}"){while(n.type=="statement")n=p(t);n.type=="}"&&(n=p(t));while(n.type=="statement")n=p(t)}else s==n.type?p(t):(n.type=="}"||n.type=="top"||n.type=="statement"&&s=="newstatement")&&h(t,e.column(),"statement");else p(t);return t.startOfLine=!1,t.lastToken=s||r,r},indent:function(t,n){if(!t.tokenize[t.tokenize.length-1].isBase)return 0;var r=n&&n.charAt(0),i=t.context;i.type=="statement"&&!l(t.lastToken)&&(i=i.prev);var s=r==i.type;return i.type=="statement"?i.indented+(r=="{"?0:e.indentUnit):i.align?i.column+(s?0:1):i.indented+(s?0:e.indentUnit)},electricChars:"{}"}}),CodeMirror.defineMIME("text/x-groovy","groovy")
;
CodeMirror.defineMode("haskell",function(){function e(e,t,n){return t(n),n(e,t)}function l(l,p){if(l.eatWhile(f))return null;var d=l.next();if(a.test(d)){if(d=="{"&&l.eat("-")){var v="comment";return l.eat("#")&&(v="meta"),e(l,p,c(v,1))}return null}if(d=="'")return l.eat("\\")?l.next():l.next(),l.eat("'")?"string":"error";if(d=='"')return e(l,p,h);if(n.test(d))return l.eatWhile(o),l.eat(".")?"qualifier":"variable-2";if(t.test(d))return l.eatWhile(o),"variable";if(r.test(d)){if(d=="0"){if(l.eat(/[xX]/))return l.eatWhile(i),"integer";if(l.eat(/[oO]/))return l.eatWhile(s),"number"}l.eatWhile(r);var v="number";return l.eat(".")&&(v="number",l.eatWhile(r)),l.eat(/[eE]/)&&(v="number",l.eat(/[-+]/),l.eatWhile(r)),v}if(u.test(d)){if(d=="-"&&l.eat(/-/)){l.eatWhile(/-/);if(!l.eat(u))return l.skipToEnd(),"comment"}var v="variable";return d==":"&&(v="variable-2"),l.eatWhile(u),v}return"error"}function c(e,t){return t==0?l:function(n,r){var i=t;while(!n.eol()){var s=n.next();if(s=="{"&&n.eat("-"))++i;else if(s=="-"&&n.eat("}")){--i;if(i==0)return r(l),e}}return r(c(e,i)),e}}function h(e,t){while(!e.eol()){var n=e.next();if(n=='"')return t(l),"string";if(n=="\\"){if(e.eol()||e.eat(f))return t(p),"string";e.eat("&")||e.next()}}return t(l),"error"}function p(t,n){return t.eat("\\")?e(t,n,h):(t.next(),n(l),"error")}var t=/[a-z_]/,n=/[A-Z]/,r=/[0-9]/,i=/[0-9A-Fa-f]/,s=/[0-7]/,o=/[a-z_A-Z0-9']/,u=/[-!#$%&*+.\/<=>?@\\^|~:]/,a=/[(),;[\]`{}]/,f=/[ \t\v\f]/,d=function(){function t(t){return function(){for(var n=0;n<arguments.length;n++)e[arguments[n]]=t}}var e={};return t("keyword")("case","class","data","default","deriving","do","else","foreign","if","import","in","infix","infixl","infixr","instance","let","module","newtype","of","then","type","where","_"),t("keyword")("..",":","::","=","\\",'"',"<-","->","@","~","=>"),t("builtin")("!!","$!","$","&&","+","++","-",".","/","/=","<","<=","=<<","==",">",">=",">>",">>=","^","^^","||","*","**"),t("builtin")("Bool","Bounded","Char","Double","EQ","Either","Enum","Eq","False","FilePath","Float","Floating","Fractional","Functor","GT","IO","IOError","Int","Integer","Integral","Just","LT","Left","Maybe","Monad","Nothing","Num","Ord","Ordering","Rational","Read","ReadS","Real","RealFloat","RealFrac","Right","Show","ShowS","String","True"),t("builtin")("abs","acos","acosh","all","and","any","appendFile","asTypeOf","asin","asinh","atan","atan2","atanh","break","catch","ceiling","compare","concat","concatMap","const","cos","cosh","curry","cycle","decodeFloat","div","divMod","drop","dropWhile","either","elem","encodeFloat","enumFrom","enumFromThen","enumFromThenTo","enumFromTo","error","even","exp","exponent","fail","filter","flip","floatDigits","floatRadix","floatRange","floor","fmap","foldl","foldl1","foldr","foldr1","fromEnum","fromInteger","fromIntegral","fromRational","fst","gcd","getChar","getContents","getLine","head","id","init","interact","ioError","isDenormalized","isIEEE","isInfinite","isNaN","isNegativeZero","iterate","last","lcm","length","lex","lines","log","logBase","lookup","map","mapM","mapM_","max","maxBound","maximum","maybe","min","minBound","minimum","mod","negate","not","notElem","null","odd","or","otherwise","pi","pred","print","product","properFraction","putChar","putStr","putStrLn","quot","quotRem","read","readFile","readIO","readList","readLn","readParen","reads","readsPrec","realToFrac","recip","rem","repeat","replicate","return","reverse","round","scaleFloat","scanl","scanl1","scanr","scanr1","seq","sequence","sequence_","show","showChar","showList","showParen","showString","shows","showsPrec","significand","signum","sin","sinh","snd","span","splitAt","sqrt","subtract","succ","sum","tail","take","takeWhile","tan","tanh","toEnum","toInteger","toRational","truncate","uncurry","undefined","unlines","until","unwords","unzip","unzip3","userError","words","writeFile","zip","zip3","zipWith","zipWith3"),e}();return{startState:function(){return{f:l}},copyState:function(e){return{f:e.f}},token:function(e,t){var n=t.f(e,function(e){t.f=e}),r=e.current();return r in d?d[r]:n}}}),CodeMirror.defineMIME("text/x-haskell","haskell")
;
CodeMirror.defineMode("haxe",function(e,t){function s(e,t,n){return t.tokenize=n,n(e,t)}function o(e,t){var n=!1,r;while((r=e.next())!=null){if(r==t&&!n)return!1;n=!n&&r=="\\"}return n}function f(e,t,n){return u=e,a=n,t}function l(e,t){var n=e.next();if(n=='"'||n=="'")return s(e,t,c(n));if(/[\[\]{}\(\),;\:\.]/.test(n))return f(n);if(n=="0"&&e.eat(/x/i))return e.eatWhile(/[\da-f]/i),f("number","number");if(/\d/.test(n)||n=="-"&&e.eat(/\d/))return e.match(/^\d*(?:\.\d*)?(?:[eE][+\-]?\d+)?/),f("number","number");if(t.reAllowed&&n=="~"&&e.eat(/\//))return o(e,"/"),e.eatWhile(/[gimsu]/),f("regexp","string-2");if(n=="/")return e.eat("*")?s(e,t,h):e.eat("/")?(e.skipToEnd(),f("comment","comment")):(e.eatWhile(i),f("operator",null,e.current()));if(n=="#")return e.skipToEnd(),f("conditional","meta");if(n=="@")return e.eat(/:/),e.eatWhile(/[\w_]/),f("metadata","meta");if(i.test(n))return e.eatWhile(i),f("operator",null,e.current());var u;if(/[A-Z]/.test(n))return e.eatWhile(/[\w_<>]/),u=e.current(),f("type","variable-3",u);e.eatWhile(/[\w_]/);var u=e.current(),a=r.propertyIsEnumerable(u)&&r[u];return a&&t.kwAllowed?f(a.type,a.style,u):f("variable","variable",u)}function c(e){return function(t,n){return o(t,e)||(n.tokenize=l),f("string","string")}}function h(e,t){var n=!1,r;while(r=e.next()){if(r=="/"&&n){t.tokenize=l;break}n=r=="*"}return f("comment","comment")}function d(e,t,n,r,i,s){this.indented=e,this.column=t,this.type=n,this.prev=i,this.info=s,r!=null&&(this.align=r)}function v(e,t){for(var n=e.localVars;n;n=n.next)if(n.name==t)return!0}function m(e,t,n,r,i){var s=e.cc;b.state=e,b.stream=i,b.marked=null,b.cc=s,e.lexical.hasOwnProperty("align")||(e.lexical.align=!0);for(;;){var o=s.length?s.pop():A;if(o(n,r)){while(s.length&&s[s.length-1].lex)s.pop()();return b.marked?b.marked:n=="variable"&&v(e,r)?"variable-2":n=="variable"&&g(e,r)?"variable-3":t}}}function g(e,t){if(/[a-z]/.test(t.charAt(0)))return!1;var n=e.importedtypes.length;for(var r=0;r<n;r++)if(e.importedtypes[r]==t)return!0}function y(e){var t=b.state;for(var n=t.importedtypes;n;n=n.next)if(n.name==e)return;t.importedtypes={name:e,next:t.importedtypes}}function w(){for(var e=arguments.length-1;e>=0;e--)b.cc.push(arguments[e])}function E(){return w.apply(null,arguments),!0}function S(e){var t=b.state;if(t.context){b.marked="def";for(var n=t.localVars;n;n=n.next)if(n.name==e)return;t.localVars={name:e,next:t.localVars}}}function T(){b.state.context||(b.state.localVars=x),b.state.context={prev:b.state.context,vars:b.state.localVars}}function N(){b.state.localVars=b.state.context.vars,b.state.context=b.state.context.prev}function C(e,t){var n=function(){var n=b.state;n.lexical=new d(n.indented,b.stream.column(),e,null,n.lexical,t)};return n.lex=!0,n}function k(){var e=b.state;e.lexical.prev&&(e.lexical.type==")"&&(e.indented=e.lexical.indented),e.lexical=e.lexical.prev)}function L(e){return function(t){return t==e?E():e==";"?w():E(arguments.callee)}}function A(e){return e=="@"?E(P):e=="var"?E(C("vardef"),z,L(";"),k):e=="keyword a"?E(C("form"),O,A,k):e=="keyword b"?E(C("form"),A,k):e=="{"?E(C("}"),T,U,k,N):e==";"?E():e=="attribute"?E(D):e=="function"?E($):e=="for"?E(C("form"),L("("),C(")"),X,L(")"),k,A,k):e=="variable"?E(C("stat"),F):e=="switch"?E(C("form"),O,C("}","switch"),L("{"),U,k,k):e=="case"?E(O,L(":")):e=="default"?E(L(":")):e=="catch"?E(C("form"),T,L("("),G,L(")"),A,k,N):e=="import"?E(B,L(";")):e=="typedef"?E(j):w(C("stat"),O,L(";"),k)}function O(e){return p.hasOwnProperty(e)?E(_):e=="function"?E($):e=="keyword c"?E(M):e=="("?E(C(")"),M,L(")"),k,_):e=="operator"?E(O):e=="["?E(C("]"),R(O,"]"),k,_):e=="{"?E(C("}"),R(q,"}"),k,_):E()}function M(e){return e.match(/[;\}\)\],]/)?w():w(O)}function _(e,t){if(e=="operator"&&/\+\+|--/.test(t))return E(_);if(e=="operator"||e==":")return E(O);if(e==";")return;if(e=="(")return E(C(")"),R(O,")"),k,_);if(e==".")return E(I,_);if(e=="[")return E(C("]"),O,L("]"),k,_)}function D(e){if(e=="attribute")return E(D);if(e=="function")return E($);if(e=="var")return E(z)}function P(e){if(e==":")return E(P);if(e=="variable")return E(P);if(e=="(")return E(C(")"),comasep(H,")"),k,A)}function H(e){if(e=="variable")return E()}function B(e,t){if(e=="variable"&&/[A-Z]/.test(t.charAt(0)))return y(t),E();if(e=="variable"||e=="property"||e==".")return E(B)}function j(e,t){if(e=="variable"&&/[A-Z]/.test(t.charAt(0)))return y(t),E()}function F(e){return e==":"?E(k,A):w(_,L(";"),k)}function I(e){if(e=="variable")return b.marked="property",E()}function q(e){e=="variable"&&(b.marked="property");if(p.hasOwnProperty(e))return E(L(":"),O)}function R(e,t){function n(r){return r==","?E(e,n):r==t?E():E(L(t))}return function(r){return r==t?E():w(e,n)}}function U(e){return e=="}"?E():w(A,U)}function z(e,t){return e=="variable"?(S(t),E(J,W)):E()}function W(e,t){if(t=="=")return E(O,W);if(e==",")return E(z)}function X(e,t){return e=="variable"&&S(t),E(C(")"),T,V,O,k,A,N)}function V(e,t){if(t=="in")return E()}function $(e,t){if(e=="variable")return S(t),E($);if(t=="new")return E($);if(e=="(")return E(C(")"),T,R(G,")"),k,J,A,N)}function J(e){if(e==":")return E(K)}function K(e){if(e=="type")return E();if(e=="variable")return E();if(e=="{")return E(C("}"),R(Q,"}"),k)}function Q(e){if(e=="variable")return E(J)}function G(e,t){if(e=="variable")return S(t),E(J)}var n=e.indentUnit,r=function(){function e(e){return{type:e,style:"keyword"}}var t=e("keyword a"),n=e("keyword b"),r=e("keyword c"),i=e("operator"),s={type:"atom",style:"atom"},o={type:"attribute",style:"attribute"},u=e("typedef");return{"if":t,"while":t,"else":n,"do":n,"try":n,"return":r,"break":r,"continue":r,"new":r,"throw":r,"var":e("var"),inline:o,"static":o,using:e("import"),"public":o,"private":o,cast:e("cast"),"import":e("import"),macro:e("macro"),"function":e("function"),"catch":e("catch"),untyped:e("untyped"),callback:e("cb"),"for":e("for"),"switch":e("switch"),"case":e("case"),"default":e("default"),"in":i,never:e("property_access"),trace:e("trace"),"class":u,"enum":u,"interface":u,typedef:u,"extends":u,"implements":u,dynamic:u,"true":s,"false":s,"null":s}}(),i=/[+\-*&%=<>!?|]/,u,a,p={atom:!0,number:!0,variable:!0,string:!0,regexp:!0},b={state:null,column:null,marked:null,cc:null},x={name:"this",next:null};return k.lex=!0,{startState:function(e){var r=["Int","Float","String","Void","Std","Bool","Dynamic","Array"];return{tokenize:l,reAllowed:!0,kwAllowed:!0,cc:[],lexical:new d((e||0)-n,0,"block",!1),localVars:t.localVars,importedtypes:r,context:t.localVars&&{vars:t.localVars},indented:0}},token:function(e,t){e.sol()&&(t.lexical.hasOwnProperty("align")||(t.lexical.align=!1),t.indented=e.indentation());if(e.eatSpace())return null;var n=t.tokenize(e,t);return u=="comment"?n:(t.reAllowed=u=="operator"||u=="keyword c"||!!u.match(/^[\[{}\(,;:]$/),t.kwAllowed=u!=".",m(t,n,u,a,e))},indent:function(e,t){if(e.tokenize!=l)return 0;var r=t&&t.charAt(0),i=e.lexical;i.type=="stat"&&r=="}"&&(i=i.prev);var s=i.type,o=r==s;return s=="vardef"?i.indented+4:s=="form"&&r=="{"?i.indented:s=="stat"||s=="form"?i.indented+n:i.info=="switch"&&!o?i.indented+(/^(?:case|default)\b/.test(t)?n:2*n):i.align?i.column+(o?0:1):i.indented+(o?0:n)},electricChars:"{}"}}),CodeMirror.defineMIME("text/x-haxe","haxe")
;
CodeMirror.defineMode("htmlembedded",function(e,t){function o(e,t){return e.match(n,!1)?(t.token=u,i.token(e,t.scriptState)):s.token(e,t.htmlState)}function u(e,t){return e.match(r,!1)?(t.token=o,s.token(e,t.htmlState)):i.token(e,t.scriptState)}var n=t.scriptStartRegex||/^<%/i,r=t.scriptEndRegex||/^%>/i,i,s;return{startState:function(){return i=i||CodeMirror.getMode(e,t.scriptingModeSpec),s=s||CodeMirror.getMode(e,"htmlmixed"),{token:t.startOpen?u:o,htmlState:CodeMirror.startState(s),scriptState:CodeMirror.startState(i)}},token:function(e,t){return t.token(e,t)},indent:function(e,t){if(e.token==o)return s.indent(e.htmlState,t);if(i.indent)return i.indent(e.scriptState,t)},copyState:function(e){return{token:e.token,htmlState:CodeMirror.copyState(s,e.htmlState),scriptState:CodeMirror.copyState(i,e.scriptState)}},electricChars:"/{}:",innerMode:function(e){return e.token==u?{state:e.scriptState,mode:i}:{state:e.htmlState,mode:s}}}},"htmlmixed"),CodeMirror.defineMIME("application/x-ejs",{name:"htmlembedded",scriptingModeSpec:"javascript"}),CodeMirror.defineMIME("application/x-aspx",{name:"htmlembedded",scriptingModeSpec:"text/x-csharp"}),CodeMirror.defineMIME("application/x-jsp",{name:"htmlembedded",scriptingModeSpec:"text/x-java"}),CodeMirror.defineMIME("application/x-erb",{name:"htmlembedded",scriptingModeSpec:"ruby"})
;
CodeMirror.defineMode("htmlmixed",function(e){function s(e,s){var o=t.token(e,s.htmlState);if(/(?:^|\s)tag(?:\s|$)/.test(o)&&e.current()==">"&&s.htmlState.context)if(/^script$/i.test(s.htmlState.context.tagName)){var l=e.string.slice(Math.max(0,e.pos-100),e.pos).match(/\btype\s*=\s*("[^"]+"|'[^']+'|\S+)[^<]*$/i);l=l&&l[1],!l||l.match(/(text|application)\/(x-)?(java|ecma)script/i)?(s.token=a,s.localMode=r,s.localState=r.startState(t.indent(s.htmlState,""))):!l.match(/\/x-handlebars-template/i)&&!l.match(/\/x-mustache/i)&&(s.token=u,s.localMode=n,s.localState=null)}else/^style$/i.test(s.htmlState.context.tagName)&&(s.token=f,s.localMode=i,s.localState=i.startState(t.indent(s.htmlState,"")));return o}function o(e,t,n){var r=e.current(),i=r.search(t),s;if(i>-1)e.backUp(r.length-i);else if(s=r.match(/<\/?$/))e.backUp(r.length),e.match(t,!1)||e.match(r[0]);return n}function u(e,t){return e.match(/^<\/\s*script\s*>/i,!1)?(t.token=s,t.localState=t.localMode=null,s(e,t)):o(e,/<\/\s*script\s*>/,n.token(e,t.localState))}function a(e,t){return e.match(/^<\/\s*script\s*>/i,!1)?(t.token=s,t.localState=t.localMode=null,s(e,t)):o(e,/<\/\s*script\s*>/,r.token(e,t.localState))}function f(e,t){return e.match(/^<\/\s*style\s*>/i,!1)?(t.token=s,t.localState=t.localMode=null,s(e,t)):o(e,/<\/\s*style\s*>/,i.token(e,t.localState))}var t=CodeMirror.getMode(e,{name:"xml",htmlMode:!0}),n=CodeMirror.getMode(e,"text/plain"),r=CodeMirror.getMode(e,"javascript"),i=CodeMirror.getMode(e,"css");return{startState:function(){var e=t.startState();return{token:s,localMode:null,localState:null,htmlState:e}},copyState:function(e){if(e.localState)var n=CodeMirror.copyState(e.token==f?i:r,e.localState);return{token:e.token,localMode:e.localMode,localState:n,htmlState:CodeMirror.copyState(t,e.htmlState)}},token:function(e,t){return t.token(e,t)},indent:function(e,n){return!e.localMode||/^\s*<\//.test(n)?t.indent(e.htmlState,n):e.localMode.indent?e.localMode.indent(e.localState,n):CodeMirror.Pass},electricChars:"/{}:",innerMode:function(e){return{state:e.localState||e.htmlState,mode:e.localMode||t}}}},"xml","javascript","css"),CodeMirror.defineMIME("text/html","htmlmixed")
;
CodeMirror.defineMode("javascript",function(e,t){function u(e,t,n){return t.tokenize=n,n(e,t)}function a(e,t){var n=!1,r;while((r=e.next())!=null){if(r==t&&!n)return!1;n=!n&&r=="\\"}return n}function c(e,t,n){return f=e,l=n,t}function h(e,t){var n=e.next();if(n=='"'||n=="'")return u(e,t,p(n));if(/[\[\]{}\(\),;\:\.]/.test(n))return c(n);if(n=="0"&&e.eat(/x/i))return e.eatWhile(/[\da-f]/i),c("number","number");if(/\d/.test(n)||n=="-"&&e.eat(/\d/))return e.match(/^\d*(?:\.\d*)?(?:[eE][+\-]?\d+)?/),c("number","number");if(n=="/")return e.eat("*")?u(e,t,d):e.eat("/")?(e.skipToEnd(),c("comment","comment")):t.lastType=="operator"||t.lastType=="keyword c"||/^[\[{}\(,;:]$/.test(t.lastType)?(a(e,"/"),e.eatWhile(/[gimy]/),c("regexp","string-2")):(e.eatWhile(o),c("operator",null,e.current()));if(n=="#")return e.skipToEnd(),c("error","error");if(o.test(n))return e.eatWhile(o),c("operator",null,e.current());e.eatWhile(/[\w\$_]/);var r=e.current(),i=s.propertyIsEnumerable(r)&&s[r];return i&&t.lastType!="."?c(i.type,i.style,r):c("variable","variable",r)}function p(e){return function(t,n){return a(t,e)||(n.tokenize=h),c("string","string")}}function d(e,t){var n=!1,r;while(r=e.next()){if(r=="/"&&n){t.tokenize=h;break}n=r=="*"}return c("comment","comment")}function m(e,t,n,r,i,s){this.indented=e,this.column=t,this.type=n,this.prev=i,this.info=s,r!=null&&(this.align=r)}function g(e,t){for(var n=e.localVars;n;n=n.next)if(n.name==t)return!0}function y(e,t,n,i,s){var o=e.cc;b.state=e,b.stream=s,b.marked=null,b.cc=o,e.lexical.hasOwnProperty("align")||(e.lexical.align=!0);for(;;){var u=o.length?o.pop():r?O:A;if(u(n,i)){while(o.length&&o[o.length-1].lex)o.pop()();return b.marked?b.marked:n=="variable"&&g(e,i)?"variable-2":t}}}function w(){for(var e=arguments.length-1;e>=0;e--)b.cc.push(arguments[e])}function E(){return w.apply(null,arguments),!0}function S(e){function t(t){for(var n=t;n;n=n.next)if(n.name==e)return!0;return!1}var n=b.state;if(n.context){b.marked="def";if(t(n.localVars))return;n.localVars={name:e,next:n.localVars}}else{if(t(n.globalVars))return;n.globalVars={name:e,next:n.globalVars}}}function T(){b.state.context={prev:b.state.context,vars:b.state.localVars},b.state.localVars=x}function N(){b.state.localVars=b.state.context.vars,b.state.context=b.state.context.prev}function C(e,t){var n=function(){var n=b.state;n.lexical=new m(n.indented,b.stream.column(),e,null,n.lexical,t)};return n.lex=!0,n}function k(){var e=b.state;e.lexical.prev&&(e.lexical.type==")"&&(e.indented=e.lexical.indented),e.lexical=e.lexical.prev)}function L(e){return function(t){return t==e?E():e==";"?w():E(arguments.callee)}}function A(e){return e=="var"?E(C("vardef"),q,L(";"),k):e=="keyword a"?E(C("form"),O,A,k):e=="keyword b"?E(C("form"),A,k):e=="{"?E(C("}"),j,k):e==";"?E():e=="function"?E(V):e=="for"?E(C("form"),L("("),C(")"),U,L(")"),k,A,k):e=="variable"?E(C("stat"),D):e=="switch"?E(C("form"),O,C("}","switch"),L("{"),j,k,k):e=="case"?E(O,L(":")):e=="default"?E(L(":")):e=="catch"?E(C("form"),T,L("("),$,L(")"),A,k,N):w(C("stat"),O,L(";"),k)}function O(e){return v.hasOwnProperty(e)?E(_):e=="function"?E(V):e=="keyword c"?E(M):e=="("?E(C(")"),M,L(")"),k,_):e=="operator"?E(O):e=="["?E(C("]"),B(O,"]"),k,_):e=="{"?E(C("}"),B(H,"}"),k,_):E()}function M(e){return e.match(/[;\}\)\],]/)?w():w(O)}function _(e,t){if(e=="operator")return/\+\+|--/.test(t)?E(_):t=="?"?E(O,L(":"),O):E(O);if(e==";")return;if(e=="(")return E(C(")"),B(O,")"),k,_);if(e==".")return E(P,_);if(e=="[")return E(C("]"),O,L("]"),k,_)}function D(e){return e==":"?E(k,A):w(_,L(";"),k)}function P(e){if(e=="variable")return b.marked="property",E()}function H(e){e=="variable"&&(b.marked="property");if(v.hasOwnProperty(e))return E(L(":"),O)}function B(e,t){function n(r){return r==","?E(e,n):r==t?E():E(L(t))}return function(r){return r==t?E():w(e,n)}}function j(e){return e=="}"?E():w(A,j)}function F(e){return e==":"?E(I):w()}function I(e){return e=="variable"?(b.marked="variable-3",E()):w()}function q(e,t){return e=="variable"?(S(t),i?E(F,R):E(R)):w()}function R(e,t){if(t=="=")return E(O,R);if(e==",")return E(q)}function U(e){return e=="var"?E(q,L(";"),W):e==";"?E(W):e=="variable"?E(z):E(W)}function z(e,t){return t=="in"?E(O):E(_,W)}function W(e,t){return e==";"?E(X):t=="in"?E(O):E(O,L(";"),X)}function X(e){e!=")"&&E(O)}function V(e,t){if(e=="variable")return S(t),E(V);if(e=="(")return E(C(")"),T,B($,")"),k,A,N)}function $(e,t){if(e=="variable")return S(t),i?E(F):E()}var n=e.indentUnit,r=t.json,i=t.typescript,s=function(){function e(e){return{type:e,style:"keyword"}}var t=e("keyword a"),n=e("keyword b"),r=e("keyword c"),s=e("operator"),o={type:"atom",style:"atom"},u={"if":t,"while":t,"with":t,"else":n,"do":n,"try":n,"finally":n,"return":r,"break":r,"continue":r,"new":r,"delete":r,"throw":r,"var":e("var"),"const":e("var"),let:e("var"),"function":e("function"),"catch":e("catch"),"for":e("for"),"switch":e("switch"),"case":e("case"),"default":e("default"),"in":s,"typeof":s,"instanceof":s,"true":o,"false":o,"null":o,"undefined":o,NaN:o,Infinity:o};if(i){var a={type:"variable",style:"variable-3"},f={"interface":e("interface"),"class":e("class"),"extends":e("extends"),constructor:e("constructor"),"public":e("public"),"private":e("private"),"protected":e("protected"),"static":e("static"),"super":e("super"),string:a,number:a,bool:a,any:a};for(var l in f)u[l]=f[l]}return u}(),o=/[+\-*&%=<>!?|]/,f,l,v={atom:!0,number:!0,variable:!0,string:!0,regexp:!0},b={state:null,column:null,marked:null,cc:null},x={name:"this",next:{name:"arguments"}};return k.lex=!0,{startState:function(e){return{tokenize:h,lastType:null,cc:[],lexical:new m((e||0)-n,0,"block",!1),localVars:t.localVars,globalVars:t.globalVars,context:t.localVars&&{vars:t.localVars},indented:0}},token:function(e,t){e.sol()&&(t.lexical.hasOwnProperty("align")||(t.lexical.align=!1),t.indented=e.indentation());if(e.eatSpace())return null;var n=t.tokenize(e,t);return f=="comment"?n:(t.lastType=f,y(t,n,f,l,e))},indent:function(e,t){if(e.tokenize==d)return CodeMirror.Pass;if(e.tokenize!=h)return 0;var r=t&&t.charAt(0),i=e.lexical;i.type=="stat"&&r=="}"&&(i=i.prev);var s=i.type,o=r==s;return s=="vardef"?i.indented+(e.lastType=="operator"||e.lastType==","?4:0):s=="form"&&r=="{"?i.indented:s=="form"?i.indented+n:s=="stat"?i.indented+(e.lastType=="operator"||e.lastType==","?n:0):i.info=="switch"&&!o?i.indented+(/^(?:case|default)\b/.test(t)?n:2*n):i.align?i.column+(o?0:1):i.indented+(o?0:n)},electricChars:":{}",jsonMode:r}}),CodeMirror.defineMIME("text/javascript","javascript"),CodeMirror.defineMIME("text/ecmascript","javascript"),CodeMirror.defineMIME("application/javascript","javascript"),CodeMirror.defineMIME("application/ecmascript","javascript"),CodeMirror.defineMIME("application/json",{name:"javascript",json:!0}),CodeMirror.defineMIME("text/typescript",{name:"javascript",typescript:!0}),CodeMirror.defineMIME("application/typescript",{name:"javascript",typescript:!0})
;
CodeMirror.defineMode("jinja2",function(){function t(e,t){var r=e.next();if(r=="{")if(r=e.eat(/\{|%|#/))return e.eat("-"),t.tokenize=n(r),"tag"}function n(n){return n=="{"&&(n="}"),function(r,i){var s=r.next();return(s==n||s=="-"&&r.eat(n))&&r.eat("}")?(i.tokenize=t,"tag"):r.match(e)?"keyword":n=="#"?"comment":"string"}}var e=["block","endblock","for","endfor","in","true","false","loop","none","self","super","if","as","not","and","else","import","with","without","context"];return e=new RegExp("^(("+e.join(")|(")+"))\\b"),{startState:function(){return{tokenize:t}},token:function(e,t){return t.tokenize(e,t)}}})
;
CodeMirror.defineMode("less",function(e){function r(e,t){return n=t,e}function s(e){for(var t=0;t<i.length;t++)if(e===i[t])return!0}function u(e,t){var i=e.next();if(i=="@")return e.eatWhile(/[\w\-]/),r("meta",e.current());if(i=="/"&&e.eat("*"))return t.tokenize=f,f(e,t);if(i=="<"&&e.eat("!"))return t.tokenize=l,l(e,t);if(i=="=")r(null,"compare");else{if(i=="|"&&e.eat("="))return r(null,"compare");if(i=='"'||i=="'")return t.tokenize=c(i),t.tokenize(e,t);if(i=="/"){if(e.eat("/"))return t.tokenize=a,a(e,t);if(n=="string"||n=="(")return r("string","string");if(t.stack[t.stack.length-1]!=undefined)return r(null,i);e.eatWhile(/[\a-zA-Z0-9\-_.\s]/);if(/\/|\)|#/.test(e.peek()||e.eatSpace()&&e.peek()==")")||e.eol())return r("string","string")}else{if(i=="!")return e.match(/^\s*\w*/),r("keyword","important");if(/\d/.test(i))return e.eatWhile(/[\w.%]/),r("number","unit");if(/[,+<>*\/]/.test(i))return e.peek()=="="||n=="a"?r("string","string"):r(null,"select-op");if(!/[;{}:\[\]()~\|]/.test(i)){if(i==".")return n=="("||n=="string"?r("string","string"):(e.eatWhile(/[\a-zA-Z0-9\-_]/),e.peek()==" "&&e.eatSpace(),e.peek()==")"?r("number","unit"):r("tag","tag"));if(i=="#")return e.eatWhile(/[A-Za-z0-9]/),e.current().length==4||e.current().length==7?e.current().match(/[A-Fa-f0-9]{6}|[A-Fa-f0-9]{3}/,false)!=null?e.current().substring(1)!=e.current().match(/[A-Fa-f0-9]{6}|[A-Fa-f0-9]{3}/,false)?r("atom","tag"):(e.eatSpace(),/[\/<>.(){!$%^&*_\-\\?=+\|#'~`]/.test(e.peek())?r("atom","tag"):e.peek()=="}"?r("number","unit"):/[a-zA-Z\\]/.test(e.peek())?r("atom","tag"):e.eol()?r("atom","tag"):r("number","unit")):(e.eatWhile(/[\w\\\-]/),r("atom","tag")):(e.eatWhile(/[\w\\\-]/),r("atom","tag"));if(i=="&")return e.eatWhile(/[\w\-]/),r(null,i);e.eatWhile(/[\w\\\-_%.{]/);if(n=="string")return r("string","string");if(e.current().match(/(^http$|^https$)/)!=null)return e.eatWhile(/[\w\\\-_%.{:\/]/),r("string","string");if(e.peek()=="<"||e.peek()==">")return r("tag","tag");if(/\(/.test(e.peek()))return r(null,i);if(e.peek()=="/"&&t.stack[t.stack.length-1]!=undefined)return r("string","string");if(e.current().match(/\-\d|\-.\d/))return r("number","unit");if(s(e.current().toLowerCase()))return r("tag","tag");if(/\/|[\s\)]/.test(e.peek()||e.eol()||e.eatSpace()&&e.peek()=="/")&&e.current().indexOf(".")!==-1)return e.current().substring(e.current().length-1,e.current().length)=="{"?(e.backUp(1),r("tag","tag")):(e.eatSpace(),/[{<>.a-zA-Z\/]/.test(e.peek())||e.eol()?r("tag","tag"):r("string","string"));if(e.eol()||e.peek()=="["||e.peek()=="#"||n=="tag")return e.current().substring(e.current().length-1,e.current().length)=="{"&&e.backUp(1),r("tag","tag");if(n=="compare"||n=="a"||n=="(")return r("string","string");if(n=="|"||e.current()=="-"||n=="[")return r(null,i);if(e.peek()==":"){e.next();var u=e.peek()==":"?!0:!1;if(!u){var h=e.pos,p=e.current().length;e.eatWhile(/[a-z\\\-]/);var d=e.pos;if(e.current().substring(p-1).match(o)!=null)return e.backUp(d-(h-1)),r("tag","tag");e.backUp(d-(h-1))}else e.backUp(1);return u?r("tag","tag"):r("variable","variable")}return r("variable","variable")}if(i==":")return e.eatWhile(/[a-z\\\-]/),o.test(e.current())?r("tag","tag"):e.peek()==":"?(e.next(),e.eatWhile(/[a-z\\\-]/),e.current().match(/\:\:\-(o|ms|moz|webkit)\-/)?r("string","string"):o.test(e.current().substring(1))?r("tag","tag"):r(null,i)):r(null,i);if(i!="~")return r(null,i);if(n=="r")return r("string","string")}}}function a(e,t){return e.skipToEnd(),t.tokenize=u,r("comment","comment")}function f(e,t){var n=!1,i;while((i=e.next())!=null){if(n&&i=="/"){t.tokenize=u;break}n=i=="*"}return r("comment","comment")}function l(e,t){var n=0,i;while((i=e.next())!=null){if(n>=2&&i==">"){t.tokenize=u;break}n=i=="-"?n+1:0}return r("comment","comment")}function c(e){return function(t,n){var i=!1,s;while((s=t.next())!=null){if(s==e&&!i)break;i=!i&&s=="\\"}return i||(n.tokenize=u),r("string","string")}}var t=e.indentUnit,n,i="a abbr acronym address applet area article aside audio b base basefont bdi bdo big blockquote body br button canvas caption cite code col colgroup command datalist dd del details dfn dir div dl dt em embed fieldset figcaption figure font footer form frame frameset h1 h2 h3 h4 h5 h6 head header hgroup hr html i iframe img input ins keygen kbd label legend li link map mark menu meta meter nav noframes noscript object ol optgroup option output p param pre progress q rp rt ruby s samp script section select small source span strike strong style sub summary sup table tbody td textarea tfoot th thead time title tr track tt u ul var video wbr".split(" "),o=/(^\:root$|^\:nth\-child$|^\:nth\-last\-child$|^\:nth\-of\-type$|^\:nth\-last\-of\-type$|^\:first\-child$|^\:last\-child$|^\:first\-of\-type$|^\:last\-of\-type$|^\:only\-child$|^\:only\-of\-type$|^\:empty$|^\:link|^\:visited$|^\:active$|^\:hover$|^\:focus$|^\:target$|^\:lang$|^\:enabled^\:disabled$|^\:checked$|^\:first\-line$|^\:first\-letter$|^\:before$|^\:after$|^\:not$|^\:required$|^\:invalid$)/;return{startState:function(e){return{tokenize:u,baseIndent:e||0,stack:[]}},token:function(e,t){if(e.eatSpace())return null;var r=t.tokenize(e,t),i=t.stack[t.stack.length-1];if(n=="hash"&&i=="rule")r="atom";else if(r=="variable")if(i=="rule")r=null;else if(!i||i=="@media{")r=e.current()=="when"?"variable":/[\s,|\s\)|\s]/.test(e.peek())?"tag":n;return i=="rule"&&/^[\{\};]$/.test(n)&&t.stack.pop(),n=="{"?i=="@media"?t.stack[t.stack.length-1]="@media{":t.stack.push("{"):n=="}"?t.stack.pop():n=="@media"?t.stack.push("@media"):i=="{"&&n!="comment"&&t.stack.push("rule"),r},indent:function(e,n){var r=e.stack.length;return/^\}/.test(n)&&(r-=e.stack[e.stack.length-1]=="rule"?2:1),e.baseIndent+r*t},electricChars:"}"}}),CodeMirror.defineMIME("text/x-less","less"),CodeMirror.mimeModes.hasOwnProperty("text/css")||CodeMirror.defineMIME("text/css","less")
;
CodeMirror.defineMode("lua",function(e,t){function r(e){return new RegExp("^(?:"+e.join("|")+")","i")}function i(e){return new RegExp("^(?:"+e.join("|")+")$","i")}function c(e){var t=0;while(e.eat("="))++t;return e.eat("["),t}function h(e,t){var n=e.next();return n=="-"&&e.eat("-")?e.eat("[")&&e.eat("[")?(t.cur=p(c(e),"comment"))(e,t):(e.skipToEnd(),"comment"):n=='"'||n=="'"?(t.cur=d(n))(e,t):n=="["&&/[\[=]/.test(e.peek())?(t.cur=p(c(e),"string"))(e,t):/\d/.test(n)?(e.eatWhile(/[\w.%]/),"number"):/[\w_]/.test(n)?(e.eatWhile(/[\w\\\-_.]/),"variable"):null}function p(e,t){return function(n,r){var i=null,s;while((s=n.next())!=null)if(i==null)s=="]"&&(i=0);else if(s=="=")++i;else{if(s=="]"&&i==e){r.cur=h;break}i=null}return t}}function d(e){return function(t,n){var r=!1,i;while((i=t.next())!=null){if(i==e&&!r)break;r=!r&&i=="\\"}return r||(n.cur=h),"string"}}var n=e.indentUnit,s=i(t.specials||[]),o=i(["_G","_VERSION","assert","collectgarbage","dofile","error","getfenv","getmetatable","ipairs","load","loadfile","loadstring","module","next","pairs","pcall","print","rawequal","rawget","rawset","require","select","setfenv","setmetatable","tonumber","tostring","type","unpack","xpcall","coroutine.create","coroutine.resume","coroutine.running","coroutine.status","coroutine.wrap","coroutine.yield","debug.debug","debug.getfenv","debug.gethook","debug.getinfo","debug.getlocal","debug.getmetatable","debug.getregistry","debug.getupvalue","debug.setfenv","debug.sethook","debug.setlocal","debug.setmetatable","debug.setupvalue","debug.traceback","close","flush","lines","read","seek","setvbuf","write","io.close","io.flush","io.input","io.lines","io.open","io.output","io.popen","io.read","io.stderr","io.stdin","io.stdout","io.tmpfile","io.type","io.write","math.abs","math.acos","math.asin","math.atan","math.atan2","math.ceil","math.cos","math.cosh","math.deg","math.exp","math.floor","math.fmod","math.frexp","math.huge","math.ldexp","math.log","math.log10","math.max","math.min","math.modf","math.pi","math.pow","math.rad","math.random","math.randomseed","math.sin","math.sinh","math.sqrt","math.tan","math.tanh","os.clock","os.date","os.difftime","os.execute","os.exit","os.getenv","os.remove","os.rename","os.setlocale","os.time","os.tmpname","package.cpath","package.loaded","package.loaders","package.loadlib","package.path","package.preload","package.seeall","string.byte","string.char","string.dump","string.find","string.format","string.gmatch","string.gsub","string.len","string.lower","string.match","string.rep","string.reverse","string.sub","string.upper","table.concat","table.insert","table.maxn","table.remove","table.sort"]),u=i(["and","break","elseif","false","nil","not","or","return","true","function","end","if","then","else","do","while","repeat","until","for","in","local"]),a=i(["function","if","repeat","do","\\(","{"]),f=i(["end","until","\\)","}"]),l=r(["end","until","\\)","}","else","elseif"]);return{startState:function(e){return{basecol:e||0,indentDepth:0,cur:h}},token:function(e,t){if(e.eatSpace())return null;var n=t.cur(e,t),r=e.current();return n=="variable"&&(u.test(r)?n="keyword":o.test(r)?n="builtin":s.test(r)&&(n="variable-2")),n!="comment"&&n!="string"&&(a.test(r)?++t.indentDepth:f.test(r)&&--t.indentDepth),n},indent:function(e,t){var r=l.test(t);return e.basecol+n*(e.indentDepth-(r?1:0))}}}),CodeMirror.defineMIME("text/x-lua","lua")
;
CodeMirror.defineMode("markdown",function(e,t){function k(e,t,n){return t.f=t.inline=n,n(e,t)}function L(e,t,n){return t.f=t.block=n,n(e,t)}function A(e){return e.linkTitle=!1,e.em=!1,e.strong=!1,e.quote=!1,!n&&e.f==M&&(e.f=H,e.block=O),null}function O(e,n){n.list!==!1&&n.indentationDiff>=0?(n.indentationDiff<4&&(n.indentation-=n.indentationDiff),n.list=null):n.list=!1;if(n.indentationDiff>=4)return n.indentation-=4,e.skipToEnd(),l;if(e.eatSpace())return null;if(e.peek()==="#"||u&&e.match(N))n.header=!0;else if(e.eat(">"))n.indentation++,n.quote=!0;else{if(e.peek()==="[")return k(e,n,j);if(e.match(S,!0))return p;if(e.match(x,!0)||e.match(T,!0))n.indentation+=4,n.list=!0;else if(t.fencedCodeBlocks&&e.match(/^```([\w+#]*)/,!0))return n.localMode=s(RegExp.$1),n.localMode&&(n.localState=n.localMode.startState()),L(e,n,_),l}return k(e,n,n.inline)}function M(e,t){var i=r.token(e,t.htmlState);return n&&i==="tag"&&t.htmlState.type!=="openTag"&&!t.htmlState.context&&(t.f=H,t.block=O),t.md_inside&&e.current().indexOf(">")!=-1&&(t.f=H,t.block=O,t.htmlState.context=undefined),i}function _(e,t){return e.sol()&&e.match(/^```/,!0)?(t.localMode=t.localState=null,t.f=H,t.block=O,l):t.localMode?t.localMode.token(e,t.localState):(e.skipToEnd(),l)}function D(e){var t=[];return e.strong?t.push(e.em?E:w):e.em&&t.push(b),e.linkText&&t.push(g),e.code&&t.push(l),e.header&&t.push(f),e.quote&&t.push(c),e.list!==!1&&t.push(h),t.length?t.join(" "):null}function P(e,t){return e.match(C,!0)?D(t):undefined}function H(e,n){var r=n.text(e,n);if(typeof r!="undefined")return r;if(n.list)return n.list=null,h;var i=e.next();if(i==="\\")return e.next(),D(n);if(n.linkTitle){n.linkTitle=!1;var s=i;i==="("&&(s=")"),s=(s+"").replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1");var u="^\\s*(?:[^"+s+"\\\\]+|\\\\\\\\|\\\\.)"+s;if(e.match(new RegExp(u),!0))return y}if(i==="`"){var a=D(n),f=e.pos;e.eatWhile("`");var l=1+e.pos-f;return n.code?l===o?(n.code=!1,a):D(n):(o=l,n.code=!0,D(n))}if(n.code)return D(n);if(i==="!"&&e.match(/\[[^\]]*\] ?(?:\(|\[)/,!1))return e.match(/\[[^\]]*\]/),n.inline=n.f=B,d;if(i==="["&&e.match(/.*\](\(| ?\[)/,!1))return n.linkText=!0,D(n);if(i==="]"&&n.linkText){var c=D(n);return n.linkText=!1,n.inline=n.f=B,c}if(i==="<"&&e.match(/^(https?|ftps?):\/\/(?:[^\\>]|\\.)+>/,!0))return k(e,n,R(v,">"));if(i==="<"&&e.match(/^[^> \\]+@(?:[^\\>]|\\.)+>/,!0))return k(e,n,R(m,">"));if(i==="<"&&e.match(/^\w/,!1)){if(e.string.indexOf(">")!=-1){var p=e.string.substring(1,e.string.indexOf(">"));/markdown\s*=\s*('|"){0,1}1('|"){0,1}/.test(p)&&(n.md_inside=!0)}return e.backUp(1),L(e,n,M)}if(i==="<"&&e.match(/^\/\w*?>/))return n.md_inside=!1,"tag";var g=!1;if(!t.underscoresBreakWords&&i==="_"&&e.peek()!=="_"&&e.match(/(\w)/,!1)){var b=e.pos-2;if(b>=0){var w=e.string.charAt(b);w!=="_"&&w.match(/(\w)/,!1)&&(g=!0)}}var a=D(n);if(i==="*"||i==="_"&&!g){if(n.strong===i&&e.eat(i))return n.strong=!1,a;if(!n.strong&&e.eat(i))return n.strong=i,D(n);if(n.em===i)return n.em=!1,a;if(!n.em)return n.em=i,D(n)}else if(i===" ")if(e.eat("*")||e.eat("_")){if(e.peek()===" ")return D(n);e.backUp(1)}return D(n)}function B(e,t){if(e.eatSpace())return null;var n=e.next();return n==="("||n==="["?k(e,t,R(y,n==="("?")":"]")):"error"}function j(e,t){return e.match(/^[^\]]*\]:/,!0)?(t.f=F,g):k(e,t,H)}function F(e,t){return e.eatSpace()?null:(e.match(/^[^\s]+/,!0),e.peek()===undefined?t.linkTitle=!0:e.match(/^(?:\s+(?:"(?:[^"\\]|\\\\|\\.)+"|'(?:[^'\\]|\\\\|\\.)+'|\((?:[^)\\]|\\\\|\\.)+\)))?/,!0),t.f=t.inline=H,y)}function q(e){return I[e]||(e=(e+"").replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1"),I[e]=new RegExp("^(?:[^\\\\]|\\\\.)*?("+e+")")),I[e]}function R(e,t,n){return n=n||H,function(r,i){return r.match(q(t)),i.inline=i.f=n,e}}var n=CodeMirror.mimeModes.hasOwnProperty("text/html"),r=CodeMirror.getMode(e,n?"text/html":"text/plain"),i={html:"htmlmixed",js:"javascript",json:"application/json",c:"text/x-csrc","c++":"text/x-c++src",java:"text/x-java",csharp:"text/x-csharp","c#":"text/x-csharp",scala:"text/x-scala"},s=function(){var t,n={},r={},s,o=[];for(var u in CodeMirror.modes)CodeMirror.modes.propertyIsEnumerable(u)&&o.push(u);for(t=0;t<o.length;t++)n[o[t]]=o[t];var a=[];for(var u in CodeMirror.mimeModes)CodeMirror.mimeModes.propertyIsEnumerable(u)&&a.push({mime:u,mode:CodeMirror.mimeModes[u]});for(t=0;t<a.length;t++)s=a[t].mime,r[s]=a[t].mime;for(var f in i)if(i[f]in n||i[f]in r)n[f]=i[f];return function(t){return n[t]?CodeMirror.getMode(e,n[t]):null}}();t.underscoresBreakWords===undefined&&(t.underscoresBreakWords=!0),t.fencedCodeBlocks===undefined&&(t.fencedCodeBlocks=!1);var o=0,u=!1,a=!1,f="header",l="comment",c="quote",h="string",p="hr",d="tag",v="link",m="link",g="link",y="string",b="em",w="strong",E="emstrong",S=/^([*\-=_])(?:\s*\1){2,}\s*$/,x=/^[*\-+]\s+/,T=/^[0-9]+\.\s+/,N=/^(?:\={1,}|-{1,})$/,C=/^[^!\[\]*_\\<>` "'(]+/,I=[];return{startState:function(){return u=!1,a=!1,{f:O,block:O,htmlState:CodeMirror.startState(r),indentation:0,inline:H,text:P,linkText:!1,linkTitle:!1,em:!1,strong:!1,header:!1,list:!1,quote:!1}},copyState:function(e){return{f:e.f,block:e.block,htmlState:CodeMirror.copyState(r,e.htmlState),indentation:e.indentation,localMode:e.localMode,localState:e.localMode?CodeMirror.copyState(e.localMode,e.localState):null,inline:e.inline,text:e.text,linkTitle:e.linkTitle,em:e.em,strong:e.strong,header:e.header,list:e.list,quote:e.quote,md_inside:e.md_inside}},token:function(e,t){if(e.sol()){if(e.match(/^\s*$/,!0))return u=!1,A(t);a&&(u=!0,a=!1),a=!0,t.header=!1,t.code=!1,t.f=t.block;var n=e.match(/^\s*/,!0)[0].replace(/\t/g,"    ").length,r=Math.floor((n-t.indentation)/4)*4;r>4&&(r=4);var i=t.indentation+r;t.indentationDiff=i-t.indentation,t.indentation=i;if(n>0)return null}return t.f(e,t)},blankLine:A,getType:D}},"xml"),CodeMirror.defineMIME("text/x-markdown","markdown")
;
CodeMirror.defineMode("mysql",function(e){function r(e){return new RegExp("^(?:"+e.join("|")+")$","i")}function u(e,t){var r=e.next();n=null;if(r=="$"||r=="?")return e.match(/^[\w\d]*/),"variable-2";if(r=="<"&&!e.match(/^[\s\u00a0=]/,!1))return e.match(/^[^\s\u00a0>]*>?/),"atom";if(r=='"'||r=="'")return t.tokenize=a(r),t.tokenize(e,t);if(r=="`")return t.tokenize=f(r),t.tokenize(e,t);if(/[{}\(\),\.;\[\]]/.test(r))return n=r,null;if(r=="-"&&e.eat("-"))return e.skipToEnd(),"comment";if(r=="/"&&e.eat("*"))return t.tokenize=l,t.tokenize(e,t);if(o.test(r))return e.eatWhile(o),null;if(r==":")return e.eatWhile(/[\w\d\._\-]/),"atom";e.eatWhile(/[_\w\d]/);if(e.eat(":"))return e.eatWhile(/[\w\d_\-]/),"atom";var u=e.current();return i.test(u)?null:s.test(u)?"keyword":"variable"}function a(e){return function(t,n){var r=!1,i;while((i=t.next())!=null){if(i==e&&!r){n.tokenize=u;break}r=!r&&i=="\\"}return"string"}}function f(e){return function(t,n){var r=!1,i;while((i=t.next())!=null){if(i==e&&!r){n.tokenize=u;break}r=!r&&i=="\\"}return"variable-2"}}function l(e,t){for(;;){if(!e.skipTo("*")){e.skipToEnd();break}e.next();if(e.eat("/")){t.tokenize=u;break}}return"comment"}function c(e,t,n){e.context={prev:e.context,indent:e.indent,col:n,type:t}}function h(e){e.indent=e.context.indent,e.context=e.context.prev}var t=e.indentUnit,n,i=r(["str","lang","langmatches","datatype","bound","sameterm","isiri","isuri","isblank","isliteral","union","a"]),s=r(["ACCESSIBLE","ALTER","AS","BEFORE","BINARY","BY","CASE","CHARACTER","COLUMN","CONTINUE","CROSS","CURRENT_TIMESTAMP","DATABASE","DAY_MICROSECOND","DEC","DEFAULT","DESC","DISTINCT","DOUBLE","EACH","ENCLOSED","EXIT","FETCH","FLOAT8","FOREIGN","GRANT","HIGH_PRIORITY","HOUR_SECOND","IN","INNER","INSERT","INT2","INT8","INTO","JOIN","KILL","LEFT","LINEAR","LOCALTIME","LONG","LOOP","MATCH","MEDIUMTEXT","MINUTE_SECOND","NATURAL","NULL","OPTIMIZE","OR","OUTER","PRIMARY","RANGE","READ_WRITE","REGEXP","REPEAT","RESTRICT","RIGHT","SCHEMAS","SENSITIVE","SHOW","SPECIFIC","SQLSTATE","SQL_CALC_FOUND_ROWS","STARTING","TERMINATED","TINYINT","TRAILING","UNDO","UNLOCK","USAGE","UTC_DATE","VALUES","VARCHARACTER","WHERE","WRITE","ZEROFILL","ALL","AND","ASENSITIVE","BIGINT","BOTH","CASCADE","CHAR","COLLATE","CONSTRAINT","CREATE","CURRENT_TIME","CURSOR","DAY_HOUR","DAY_SECOND","DECLARE","DELETE","DETERMINISTIC","DIV","DUAL","ELSEIF","EXISTS","FALSE","FLOAT4","FORCE","FULLTEXT","HAVING","HOUR_MINUTE","IGNORE","INFILE","INSENSITIVE","INT1","INT4","INTERVAL","ITERATE","KEYS","LEAVE","LIMIT","LOAD","LOCK","LONGTEXT","MASTER_SSL_VERIFY_SERVER_CERT","MEDIUMINT","MINUTE_MICROSECOND","MODIFIES","NO_WRITE_TO_BINLOG","ON","OPTIONALLY","OUT","PRECISION","PURGE","READS","REFERENCES","RENAME","REQUIRE","REVOKE","SCHEMA","SELECT","SET","SPATIAL","SQLEXCEPTION","SQL_BIG_RESULT","SSL","TABLE","TINYBLOB","TO","TRUE","UNIQUE","UPDATE","USING","UTC_TIMESTAMP","VARCHAR","WHEN","WITH","YEAR_MONTH","ADD","ANALYZE","ASC","BETWEEN","BLOB","CALL","CHANGE","CHECK","CONDITION","CONVERT","CURRENT_DATE","CURRENT_USER","DATABASES","DAY_MINUTE","DECIMAL","DELAYED","DESCRIBE","DISTINCTROW","DROP","ELSE","ESCAPED","EXPLAIN","FLOAT","FOR","FROM","GROUP","HOUR_MICROSECOND","IF","INDEX","INOUT","INT","INT3","INTEGER","IS","KEY","LEADING","LIKE","LINES","LOCALTIMESTAMP","LONGBLOB","LOW_PRIORITY","MEDIUMBLOB","MIDDLEINT","MOD","NOT","NUMERIC","OPTION","ORDER","OUTFILE","PROCEDURE","READ","REAL","RELEASE","REPLACE","RETURN","RLIKE","SECOND_MICROSECOND","SEPARATOR","SMALLINT","SQL","SQLWARNING","SQL_SMALL_RESULT","STRAIGHT_JOIN","THEN","TINYTEXT","TRIGGER","UNION","UNSIGNED","USE","UTC_TIME","VARBINARY","VARYING","WHILE","XOR","FULL","COLUMNS","MIN","MAX","STDEV","COUNT"]),o=/[*+\-<>=&|]/;return{startState:function(){return{tokenize:u,context:null,indent:0,col:0}},token:function(e,t){e.sol()&&(t.context&&t.context.align==null&&(t.context.align=!1),t.indent=e.indentation());if(e.eatSpace())return null;var r=t.tokenize(e,t);r!="comment"&&t.context&&t.context.align==null&&t.context.type!="pattern"&&(t.context.align=!0);if(n=="(")c(t,")",e.column());else if(n=="[")c(t,"]",e.column());else if(n=="{")c(t,"}",e.column());else if(/[\]\}\)]/.test(n)){while(t.context&&t.context.type=="pattern")h(t);t.context&&n==t.context.type&&h(t)}else n=="."&&t.context&&t.context.type=="pattern"?h(t):/atom|string|variable/.test(r)&&t.context&&(/[\}\]]/.test(t.context.type)?c(t,"pattern",e.column()):t.context.type=="pattern"&&!t.context.align&&(t.context.align=!0,t.context.col=e.column()));return r},indent:function(e,n){var r=n&&n.charAt(0),i=e.context;if(/[\]\}]/.test(r))while(i&&i.type=="pattern")i=i.prev;var s=i&&r==i.type;return i?i.type=="pattern"?i.col:i.align?i.col+(s?0:1):i.indent+(s?0:t):0}}}),CodeMirror.defineMIME("text/x-mysql","mysql")
;
CodeMirror.defineMode("ntriples",function(){function t(t,n){var r=t.location,i;r==e.PRE_SUBJECT&&n=="<"?i=e.WRITING_SUB_URI:r==e.PRE_SUBJECT&&n=="_"?i=e.WRITING_BNODE_URI:r==e.PRE_PRED&&n=="<"?i=e.WRITING_PRED_URI:r==e.PRE_OBJ&&n=="<"?i=e.WRITING_OBJ_URI:r==e.PRE_OBJ&&n=="_"?i=e.WRITING_OBJ_BNODE:r==e.PRE_OBJ&&n=='"'?i=e.WRITING_OBJ_LITERAL:r==e.WRITING_SUB_URI&&n==">"?i=e.PRE_PRED:r==e.WRITING_BNODE_URI&&n==" "?i=e.PRE_PRED:r==e.WRITING_PRED_URI&&n==">"?i=e.PRE_OBJ:r==e.WRITING_OBJ_URI&&n==">"?i=e.POST_OBJ:r==e.WRITING_OBJ_BNODE&&n==" "?i=e.POST_OBJ:r==e.WRITING_OBJ_LITERAL&&n=='"'?i=e.POST_OBJ:r==e.WRITING_LIT_LANG&&n==" "?i=e.POST_OBJ:r==e.WRITING_LIT_TYPE&&n==">"?i=e.POST_OBJ:r==e.WRITING_OBJ_LITERAL&&n=="@"?i=e.WRITING_LIT_LANG:r==e.WRITING_OBJ_LITERAL&&n=="^"?i=e.WRITING_LIT_TYPE:n!=" "||r!=e.PRE_SUBJECT&&r!=e.PRE_PRED&&r!=e.PRE_OBJ&&r!=e.POST_OBJ?r==e.POST_OBJ&&n=="."?i=e.PRE_SUBJECT:i=e.ERROR:i=r,t.location=i}var e={PRE_SUBJECT:0,WRITING_SUB_URI:1,WRITING_BNODE_URI:2,PRE_PRED:3,WRITING_PRED_URI:4,PRE_OBJ:5,WRITING_OBJ_URI:6,WRITING_OBJ_BNODE:7,WRITING_OBJ_LITERAL:8,WRITING_LIT_LANG:9,WRITING_LIT_TYPE:10,POST_OBJ:11,ERROR:12};return{startState:function(){return{location:e.PRE_SUBJECT,uris:[],anchors:[],bnodes:[],langs:[],types:[]}},token:function(e,n){var r=e.next();if(r=="<"){t(n,r);var i="";return e.eatWhile(function(e){return e!="#"&&e!=">"?(i+=e,!0):!1}),n.uris.push(i),e.match("#",!1)?"variable":(e.next(),t(n,">"),"variable")}if(r=="#"){var s="";return e.eatWhile(function(e){return e!=">"&&e!=" "?(s+=e,!0):!1}),n.anchors.push(s),"variable-2"}if(r==">")return t(n,">"),"variable";if(r=="_"){t(n,r);var o="";return e.eatWhile(function(e){return e!=" "?(o+=e,!0):!1}),n.bnodes.push(o),e.next(),t(n," "),"builtin"}if(r=='"')return t(n,r),e.eatWhile(function(e){return e!='"'}),e.next(),e.peek()!="@"&&e.peek()!="^"&&t(n,'"'),"string";if(r=="@"){t(n,"@");var u="";return e.eatWhile(function(e){return e!=" "?(u+=e,!0):!1}),n.langs.push(u),e.next(),t(n," "),"string-2"}if(r=="^"){e.next(),t(n,"^");var a="";return e.eatWhile(function(e){return e!=">"?(a+=e,!0):!1}),n.types.push(a),e.next(),t(n,">"),"variable"}r==" "&&t(n,r),r=="."&&t(n,r)}}}),CodeMirror.defineMIME("text/n-triples","ntriples")
;
CodeMirror.defineMode("ocaml",function(){function t(t,i){var s=t.next();if(s==='"')return i.tokenize=n,i.tokenize(t,i);if(s==="("&&t.eat("*"))return i.commentLevel++,i.tokenize=r,i.tokenize(t,i);if(s==="~")return t.eatWhile(/\w/),"variable-2";if(s==="`")return t.eatWhile(/\w/),"quote";if(/\d/.test(s))return t.eatWhile(/[\d]/),t.eat(".")&&t.eatWhile(/[\d]/),"number";if(/[+\-*&%=<>!?|]/.test(s))return"operator";t.eatWhile(/\w/);var o=t.current();return e[o]||"variable"}function n(e,n){var r,i=!1,s=!1;while((r=e.next())!=null){if(r==='"'&&!s){i=!0;break}s=!s&&r==="\\"}return i&&!s&&(n.tokenize=t),"string"}function r(e,n){var r,i;while(n.commentLevel>0&&(i=e.next())!=null)r==="("&&i==="*"&&n.commentLevel++,r==="*"&&i===")"&&n.commentLevel--,r=i;return n.commentLevel<=0&&(n.tokenize=t),"comment"}var e={"true":"atom","false":"atom",let:"keyword",rec:"keyword","in":"keyword",of:"keyword",and:"keyword",succ:"keyword","if":"keyword",then:"keyword","else":"keyword","for":"keyword",to:"keyword","while":"keyword","do":"keyword",done:"keyword",fun:"keyword","function":"keyword",val:"keyword",type:"keyword",mutable:"keyword",match:"keyword","with":"keyword","try":"keyword",raise:"keyword",begin:"keyword",end:"keyword",open:"builtin",trace:"builtin",ignore:"builtin",exit:"builtin",print_string:"builtin",print_endline:"builtin"};return{startState:function(){return{tokenize:t,commentLevel:0}},token:function(e,t){return e.eatSpace()?null:t.tokenize(e,t)}}}),CodeMirror.defineMIME("text/x-ocaml","ocaml")
;
CodeMirror.defineMode("pascal",function(){function e(e){var t={},n=e.split(" ");for(var r=0;r<n.length;++r)t[n[r]]=!0;return t}function i(e,i){var u=e.next();if(u=="#"&&i.startOfLine)return e.skipToEnd(),"meta";if(u=='"'||u=="'")return i.tokenize=s(u),i.tokenize(e,i);if(u=="("&&e.eat("*"))return i.tokenize=o,o(e,i);if(/[\[\]{}\(\),;\:\.]/.test(u))return null;if(/\d/.test(u))return e.eatWhile(/[\w\.]/),"number";if(u=="/"&&e.eat("/"))return e.skipToEnd(),"comment";if(r.test(u))return e.eatWhile(r),"operator";e.eatWhile(/[\w\$_]/);var a=e.current();return t.propertyIsEnumerable(a)?"keyword":n.propertyIsEnumerable(a)?"atom":"variable"}function s(e){return function(t,n){var r=!1,i,s=!1;while((i=t.next())!=null){if(i==e&&!r){s=!0;break}r=!r&&i=="\\"}if(s||!r)n.tokenize=null;return"string"}}function o(e,t){var n=!1,r;while(r=e.next()){if(r==")"&&n){t.tokenize=null;break}n=r=="*"}return"comment"}var t=e("and array begin case const div do downto else end file for forward integer boolean char function goto if in label mod nil not of or packed procedure program record repeat set string then to type until var while with"),n={"null":!0},r=/[+\-*&%=<>!?|\/]/;return{startState:function(){return{tokenize:null}},token:function(e,t){if(e.eatSpace())return null;var n=(t.tokenize||i)(e,t);return n=="comment"||n=="meta"?n:n},electricChars:"{}"}}),CodeMirror.defineMIME("text/x-pascal","pascal")
;
CodeMirror.defineMode("perl",function(){function r(e,t,n,r,i){return t.chain=null,t.style=null,t.tail=null,t.tokenize=function(e,t){var o=!1,u,a=0;while(u=e.next()){if(u===n[a]&&!o)return n[++a]!==undefined?(t.chain=n[a],t.style=r,t.tail=i):i&&e.eatWhile(i),t.tokenize=s,r;o=!o&&u=="\\"}return r},t.tokenize(e,t)}function i(e,t,n){return t.tokenize=function(e,t){return e.string==n&&(t.tokenize=s),e.skipToEnd(),"string"},t.tokenize(e,t)}function s(s,o){if(s.eatSpace())return null;if(o.chain)return r(s,o,o.chain,o.style,o.tail);if(s.match(/^\-?[\d\.]/,!1)&&s.match(/^(\-?(\d*\.\d+(e[+-]?\d+)?|\d+\.\d*)|0x[\da-fA-F]+|0b[01]+|\d+(e[+-]?\d+)?)/))return"number";if(s.match(/^<<(?=\w)/))return s.eatWhile(/\w/),i(s,o,s.current().substr(2));if(s.sol()&&s.match(/^\=item(?!\w)/))return i(s,o,"=cut");var u=s.next();if(u=='"'||u=="'"){if(s.prefix(3)=="<<"+u){var a=s.pos;s.eatWhile(/\w/);var f=s.current().substr(1);if(f&&s.eat(u))return i(s,o,f);s.pos=a}return r(s,o,[u],"string")}if(u=="q"){var l=s.look(-2);if(!l||!/\w/.test(l)){l=s.look(0);if(l=="x"){l=s.look(1);if(l=="(")return s.eatSuffix(2),r(s,o,[")"],t,n);if(l=="[")return s.eatSuffix(2),r(s,o,["]"],t,n);if(l=="{")return s.eatSuffix(2),r(s,o,["}"],t,n);if(l=="<")return s.eatSuffix(2),r(s,o,[">"],t,n);if(/[\^'"!~\/]/.test(l))return s.eatSuffix(1),r(s,o,[s.eat(l)],t,n)}else if(l=="q"){l=s.look(1);if(l=="(")return s.eatSuffix(2),r(s,o,[")"],"string");if(l=="[")return s.eatSuffix(2),r(s,o,["]"],"string");if(l=="{")return s.eatSuffix(2),r(s,o,["}"],"string");if(l=="<")return s.eatSuffix(2),r(s,o,[">"],"string");if(/[\^'"!~\/]/.test(l))return s.eatSuffix(1),r(s,o,[s.eat(l)],"string")}else if(l=="w"){l=s.look(1);if(l=="(")return s.eatSuffix(2),r(s,o,[")"],"bracket");if(l=="[")return s.eatSuffix(2),r(s,o,["]"],"bracket");if(l=="{")return s.eatSuffix(2),r(s,o,["}"],"bracket");if(l=="<")return s.eatSuffix(2),r(s,o,[">"],"bracket");if(/[\^'"!~\/]/.test(l))return s.eatSuffix(1),r(s,o,[s.eat(l)],"bracket")}else if(l=="r"){l=s.look(1);if(l=="(")return s.eatSuffix(2),r(s,o,[")"],t,n);if(l=="[")return s.eatSuffix(2),r(s,o,["]"],t,n);if(l=="{")return s.eatSuffix(2),r(s,o,["}"],t,n);if(l=="<")return s.eatSuffix(2),r(s,o,[">"],t,n);if(/[\^'"!~\/]/.test(l))return s.eatSuffix(1),r(s,o,[s.eat(l)],t,n)}else if(/[\^'"!~\/(\[{<]/.test(l)){if(l=="(")return s.eatSuffix(1),r(s,o,[")"],"string");if(l=="[")return s.eatSuffix(1),r(s,o,["]"],"string");if(l=="{")return s.eatSuffix(1),r(s,o,["}"],"string");if(l=="<")return s.eatSuffix(1),r(s,o,[">"],"string");if(/[\^'"!~\/]/.test(l))return r(s,o,[s.eat(l)],"string")}}}if(u=="m"){var l=s.look(-2);if(!l||!/\w/.test(l)){l=s.eat(/[(\[{<\^'"!~\/]/);if(l){if(/[\^'"!~\/]/.test(l))return r(s,o,[l],t,n);if(l=="(")return r(s,o,[")"],t,n);if(l=="[")return r(s,o,["]"],t,n);if(l=="{")return r(s,o,["}"],t,n);if(l=="<")return r(s,o,[">"],t,n)}}}if(u=="s"){var l=/[\/>\]})\w]/.test(s.look(-2));if(!l){l=s.eat(/[(\[{<\^'"!~\/]/);if(l)return l=="["?r(s,o,["]","]"],t,n):l=="{"?r(s,o,["}","}"],t,n):l=="<"?r(s,o,[">",">"],t,n):l=="("?r(s,o,[")",")"],t,n):r(s,o,[l,l],t,n)}}if(u=="y"){var l=/[\/>\]})\w]/.test(s.look(-2));if(!l){l=s.eat(/[(\[{<\^'"!~\/]/);if(l)return l=="["?r(s,o,["]","]"],t,n):l=="{"?r(s,o,["}","}"],t,n):l=="<"?r(s,o,[">",">"],t,n):l=="("?r(s,o,[")",")"],t,n):r(s,o,[l,l],t,n)}}if(u=="t"){var l=/[\/>\]})\w]/.test(s.look(-2));if(!l){l=s.eat("r");if(l){l=s.eat(/[(\[{<\^'"!~\/]/);if(l)return l=="["?r(s,o,["]","]"],t,n):l=="{"?r(s,o,["}","}"],t,n):l=="<"?r(s,o,[">",">"],t,n):l=="("?r(s,o,[")",")"],t,n):r(s,o,[l,l],t,n)}}}if(u=="`")return r(s,o,[u],"variable-2");if(u=="/")return/~\s*$/.test(s.prefix())?r(s,o,[u],t,n):"operator";if(u=="$"){var a=s.pos;if(s.eatWhile(/\d/)||s.eat("{")&&s.eatWhile(/\d/)&&s.eat("}"))return"variable-2";s.pos=a}if(/[$@%]/.test(u)){var a=s.pos;if(s.eat("^")&&s.eat(/[A-Z]/)||!/[@$%&]/.test(s.look(-2))&&s.eat(/[=|\\\-#?@;:&`~\^!\[\]*'"$+.,\/<>()]/)){var l=s.current();if(e[l])return"variable-2"}s.pos=a}if(/[$@%&]/.test(u))if(s.eatWhile(/[\w$\[\]]/)||s.eat("{")&&s.eatWhile(/[\w$\[\]]/)&&s.eat("}")){var l=s.current();return e[l]?"variable-2":"variable"}if(u=="#"&&s.look(-2)!="$")return s.skipToEnd(),"comment";if(/[:+\-\^*$&%@=<>!?|\/~\.]/.test(u)){var a=s.pos;s.eatWhile(/[:+\-\^*$&%@=<>!?|\/~\.]/);if(e[s.current()])return"operator";s.pos=a}if(u=="_"&&s.pos==1){if(s.suffix(6)=="_END__")return r(s,o,["\0"],"comment");if(s.suffix(7)=="_DATA__")return r(s,o,["\0"],"variable-2");if(s.suffix(7)=="_C__")return r(s,o,["\0"],"string")}if(/\w/.test(u)){var a=s.pos;if(s.look(-2)=="{"&&(s.look(0)=="}"||s.eatWhile(/\w/)&&s.look(0)=="}"))return"string";s.pos=a}if(/[A-Z]/.test(u)){var c=s.look(-2),a=s.pos;s.eatWhile(/[A-Z_]/);if(!/[\da-z]/.test(s.look(0))){var l=e[s.current()];return l?(l[1]&&(l=l[0]),c!=":"?l==1?"keyword":l==2?"def":l==3?"atom":l==4?"operator":l==5?"variable-2":"meta":"meta"):"meta"}s.pos=a}if(/[a-zA-Z_]/.test(u)){var c=s.look(-2);s.eatWhile(/\w/);var l=e[s.current()];return l?(l[1]&&(l=l[0]),c!=":"?l==1?"keyword":l==2?"def":l==3?"atom":l==4?"operator":l==5?"variable-2":"meta":"meta"):"meta"}return null}var e={"->":4,"++":4,"--":4,"**":4,"=~":4,"!~":4,"*":4,"/":4,"%":4,x:4,"+":4,"-":4,".":4,"<<":4,">>":4,"<":4,">":4,"<=":4,">=":4,lt:4,gt:4,le:4,ge:4,"==":4,"!=":4,"<=>":4,eq:4,ne:4,cmp:4,"~~":4,"&":4,"|":4,"^":4,"&&":4,"||":4,"//":4,"..":4,"...":4,"?":4,":":4,"=":4,"+=":4,"-=":4,"*=":4,",":4,"=>":4,"::":4,not:4,and:4,or:4,xor:4,BEGIN:[5,1],END:[5,1],PRINT:[5,1],PRINTF:[5,1],GETC:[5,1],READ:[5,1],READLINE:[5,1],DESTROY:[5,1],TIE:[5,1],TIEHANDLE:[5,1],UNTIE:[5,1],STDIN:5,STDIN_TOP:5,STDOUT:5,STDOUT_TOP:5,STDERR:5,STDERR_TOP:5,$ARG:5,$_:5,"@ARG":5,"@_":5,$LIST_SEPARATOR:5,'$"':5,$PROCESS_ID:5,$PID:5,$$:5,$REAL_GROUP_ID:5,$GID:5,"$(":5,$EFFECTIVE_GROUP_ID:5,$EGID:5,"$)":5,$PROGRAM_NAME:5,$0:5,$SUBSCRIPT_SEPARATOR:5,$SUBSEP:5,"$;":5,$REAL_USER_ID:5,$UID:5,"$<":5,$EFFECTIVE_USER_ID:5,$EUID:5,"$>":5,$a:5,$b:5,$COMPILING:5,"$^C":5,$DEBUGGING:5,"$^D":5,"${^ENCODING}":5,$ENV:5,"%ENV":5,$SYSTEM_FD_MAX:5,"$^F":5,"@F":5,"${^GLOBAL_PHASE}":5,"$^H":5,"%^H":5,"@INC":5,"%INC":5,$INPLACE_EDIT:5,"$^I":5,"$^M":5,$OSNAME:5,"$^O":5,"${^OPEN}":5,$PERLDB:5,"$^P":5,$SIG:5,"%SIG":5,$BASETIME:5,"$^T":5,"${^TAINT}":5,"${^UNICODE}":5,"${^UTF8CACHE}":5,"${^UTF8LOCALE}":5,$PERL_VERSION:5,"$^V":5,"${^WIN32_SLOPPY_STAT}":5,$EXECUTABLE_NAME:5,"$^X":5,$1:5,$MATCH:5,"$&":5,"${^MATCH}":5,$PREMATCH:5,"$`":5,"${^PREMATCH}":5,$POSTMATCH:5,"$'":5,"${^POSTMATCH}":5,$LAST_PAREN_MATCH:5,"$+":5,$LAST_SUBMATCH_RESULT:5,"$^N":5,"@LAST_MATCH_END":5,"@+":5,"%LAST_PAREN_MATCH":5,"%+":5,"@LAST_MATCH_START":5,"@-":5,"%LAST_MATCH_START":5,"%-":5,$LAST_REGEXP_CODE_RESULT:5,"$^R":5,"${^RE_DEBUG_FLAGS}":5,"${^RE_TRIE_MAXBUF}":5,$ARGV:5,"@ARGV":5,ARGV:5,ARGVOUT:5,$OUTPUT_FIELD_SEPARATOR:5,$OFS:5,"$,":5,$INPUT_LINE_NUMBER:5,$NR:5,"$.":5,$INPUT_RECORD_SEPARATOR:5,$RS:5,"$/":5,$OUTPUT_RECORD_SEPARATOR:5,$ORS:5,"$\\":5,$OUTPUT_AUTOFLUSH:5,"$|":5,$ACCUMULATOR:5,"$^A":5,$FORMAT_FORMFEED:5,"$^L":5,$FORMAT_PAGE_NUMBER:5,"$%":5,$FORMAT_LINES_LEFT:5,"$-":5,$FORMAT_LINE_BREAK_CHARACTERS:5,"$:":5,$FORMAT_LINES_PER_PAGE:5,"$=":5,$FORMAT_TOP_NAME:5,"$^":5,$FORMAT_NAME:5,"$~":5,"${^CHILD_ERROR_NATIVE}":5,$EXTENDED_OS_ERROR:5,"$^E":5,$EXCEPTIONS_BEING_CAUGHT:5,"$^S":5,$WARNING:5,"$^W":5,"${^WARNING_BITS}":5,$OS_ERROR:5,$ERRNO:5,"$!":5,"%OS_ERROR":5,"%ERRNO":5,"%!":5,$CHILD_ERROR:5,"$?":5,$EVAL_ERROR:5,"$@":5,$OFMT:5,"$#":5,"$*":5,$ARRAY_BASE:5,"$[":5,$OLD_PERL_VERSION:5,"$]":5,"if":[1,1],elsif:[1,1],"else":[1,1],"while":[1,1],unless:[1,1],"for":[1,1],foreach:[1,1],abs:1,accept:1,alarm:1,atan2:1,bind:1,binmode:1,bless:1,bootstrap:1,"break":1,caller:1,chdir:1,chmod:1,chomp:1,chop:1,chown:1,chr:1,chroot:1,close:1,closedir:1,connect:1,"continue":[1,1],cos:1,crypt:1,dbmclose:1,dbmopen:1,"default":1,defined:1,"delete":1,die:1,"do":1,dump:1,each:1,endgrent:1,endhostent:1,endnetent:1,endprotoent:1,endpwent:1,endservent:1,eof:1,eval:1,exec:1,exists:1,exit:1,exp:1,fcntl:1,fileno:1,flock:1,fork:1,format:1,formline:1,getc:1,getgrent:1,getgrgid:1,getgrnam:1,gethostbyaddr:1,gethostbyname:1,gethostent:1,getlogin:1,getnetbyaddr:1,getnetbyname:1,getnetent:1,getpeername:1,getpgrp:1,getppid:1,getpriority:1,getprotobyname:1,getprotobynumber:1,getprotoent:1,getpwent:1,getpwnam:1,getpwuid:1,getservbyname:1,getservbyport:1,getservent:1,getsockname:1,getsockopt:1,given:1,glob:1,gmtime:1,"goto":1,grep:1,hex:1,"import":1,index:1,"int":1,ioctl:1,join:1,keys:1,kill:1,last:1,lc:1,lcfirst:1,length:1,link:1,listen:1,local:2,localtime:1,lock:1,log:1,lstat:1,m:null,map:1,mkdir:1,msgctl:1,msgget:1,msgrcv:1,msgsnd:1,my:2,"new":1,next:1,no:1,oct:1,open:1,opendir:1,ord:1,our:2,pack:1,"package":1,pipe:1,pop:1,pos:1,print:1,printf:1,prototype:1,push:1,q:null,qq:null,qr:null,quotemeta:null,qw:null,qx:null,rand:1,read:1,readdir:1,readline:1,readlink:1,readpipe:1,recv:1,redo:1,ref:1,rename:1,require:1,reset:1,"return":1,reverse:1,rewinddir:1,rindex:1,rmdir:1,s:null,say:1,scalar:1,seek:1,seekdir:1,select:1,semctl:1,semget:1,semop:1,send:1,setgrent:1,sethostent:1,setnetent:1,setpgrp:1,setpriority:1,setprotoent:1,setpwent:1,setservent:1,setsockopt:1,shift:1,shmctl:1,shmget:1,shmread:1,shmwrite:1,shutdown:1,sin:1,sleep:1,socket:1,socketpair:1,sort:1,splice:1,split:1,sprintf:1,sqrt:1,srand:1,stat:1,state:1,study:1,sub:1,substr:1,symlink:1,syscall:1,sysopen:1,sysread:1,sysseek:1,system:1,syswrite:1,tell:1,telldir:1,tie:1,tied:1,time:1,times:1,tr:null,truncate:1,uc:1,ucfirst:1,umask:1,undef:1,unlink:1,unpack:1,unshift:1,untie:1,use:1,utime:1,values:1,vec:1,wait:1,waitpid:1,wantarray:1,warn:1,when:1,write:1,y:null},t="string-2",n=/[goseximacplud]/;return{startState:function(){return{tokenize:s,chain:null,style:null,tail:null}},token:function(e,t){return(t.tokenize||s)(e,t)},electricChars:"{}"}}),CodeMirror.defineMIME("text/x-perl","perl"),CodeMirror.StringStream.prototype.look=function(e){return this.string.charAt(this.pos+(e||0))},CodeMirror.StringStream.prototype.prefix=function(e){if(e){var t=this.pos-e;return this.string.substr(t>=0?t:0,e)}return this.string.substr(0,this.pos-1)},CodeMirror.StringStream.prototype.suffix=function(e){var t=this.string.length,n=t-this.pos+1;return this.string.substr(this.pos,e&&e<t?e:n)},CodeMirror.StringStream.prototype.nsuffix=function(e){var t=this.pos,n=e||this.string.length-this.pos+1;return this.pos+=n,this.string.substr(t,n)},CodeMirror.StringStream.prototype.eatSuffix=function(e){var t=this.pos+e,n;t<=0?this.pos=0:t>=(n=this.string.length-1)?this.pos=n:this.pos=t}
;
(function(){function e(e){var t={},n=e.split(" ");for(var r=0;r<n.length;++r)t[n[r]]=!0;return t}function t(e){return function(t,n){return t.match(e)?n.tokenize=null:t.skipToEnd(),"string"}}var n={name:"clike",keywords:e("abstract and array as break case catch class clone const continue declare default do else elseif enddeclare endfor endforeach endif endswitch endwhile extends final for foreach function global goto if implements interface instanceof namespace new or private protected public static switch throw trait try use var while xor die echo empty exit eval include include_once isset list require require_once return print unset __halt_compiler self static parent"),blockKeywords:e("catch do else elseif for foreach if switch try while"),atoms:e("true false null TRUE FALSE NULL __CLASS__ __DIR__ __FILE__ __LINE__ __METHOD__ __FUNCTION__ __NAMESPACE__"),builtin:e("func_num_args func_get_arg func_get_args strlen strcmp strncmp strcasecmp strncasecmp each error_reporting define defined trigger_error user_error set_error_handler restore_error_handler get_declared_classes get_loaded_extensions extension_loaded get_extension_funcs debug_backtrace constant bin2hex sleep usleep time mktime gmmktime strftime gmstrftime strtotime date gmdate getdate localtime checkdate flush wordwrap htmlspecialchars htmlentities html_entity_decode md5 md5_file crc32 getimagesize image_type_to_mime_type phpinfo phpversion phpcredits strnatcmp strnatcasecmp substr_count strspn strcspn strtok strtoupper strtolower strpos strrpos strrev hebrev hebrevc nl2br basename dirname pathinfo stripslashes stripcslashes strstr stristr strrchr str_shuffle str_word_count strcoll substr substr_replace quotemeta ucfirst ucwords strtr addslashes addcslashes rtrim str_replace str_repeat count_chars chunk_split trim ltrim strip_tags similar_text explode implode setlocale localeconv parse_str str_pad chop strchr sprintf printf vprintf vsprintf sscanf fscanf parse_url urlencode urldecode rawurlencode rawurldecode readlink linkinfo link unlink exec system escapeshellcmd escapeshellarg passthru shell_exec proc_open proc_close rand srand getrandmax mt_rand mt_srand mt_getrandmax base64_decode base64_encode abs ceil floor round is_finite is_nan is_infinite bindec hexdec octdec decbin decoct dechex base_convert number_format fmod ip2long long2ip getenv putenv getopt microtime gettimeofday getrusage uniqid quoted_printable_decode set_time_limit get_cfg_var magic_quotes_runtime set_magic_quotes_runtime get_magic_quotes_gpc get_magic_quotes_runtime import_request_variables error_log serialize unserialize memory_get_usage var_dump var_export debug_zval_dump print_r highlight_file show_source highlight_string ini_get ini_get_all ini_set ini_alter ini_restore get_include_path set_include_path restore_include_path setcookie header headers_sent connection_aborted connection_status ignore_user_abort parse_ini_file is_uploaded_file move_uploaded_file intval floatval doubleval strval gettype settype is_null is_resource is_bool is_long is_float is_int is_integer is_double is_real is_numeric is_string is_array is_object is_scalar ereg ereg_replace eregi eregi_replace split spliti join sql_regcase dl pclose popen readfile rewind rmdir umask fclose feof fgetc fgets fgetss fread fopen fpassthru ftruncate fstat fseek ftell fflush fwrite fputs mkdir rename copy tempnam tmpfile file file_get_contents stream_select stream_context_create stream_context_set_params stream_context_set_option stream_context_get_options stream_filter_prepend stream_filter_append fgetcsv flock get_meta_tags stream_set_write_buffer set_file_buffer set_socket_blocking stream_set_blocking socket_set_blocking stream_get_meta_data stream_register_wrapper stream_wrapper_register stream_set_timeout socket_set_timeout socket_get_status realpath fnmatch fsockopen pfsockopen pack unpack get_browser crypt opendir closedir chdir getcwd rewinddir readdir dir glob fileatime filectime filegroup fileinode filemtime fileowner fileperms filesize filetype file_exists is_writable is_writeable is_readable is_executable is_file is_dir is_link stat lstat chown touch clearstatcache mail ob_start ob_flush ob_clean ob_end_flush ob_end_clean ob_get_flush ob_get_clean ob_get_length ob_get_level ob_get_status ob_get_contents ob_implicit_flush ob_list_handlers ksort krsort natsort natcasesort asort arsort sort rsort usort uasort uksort shuffle array_walk count end prev next reset current key min max in_array array_search extract compact array_fill range array_multisort array_push array_pop array_shift array_unshift array_splice array_slice array_merge array_merge_recursive array_keys array_values array_count_values array_reverse array_reduce array_pad array_flip array_change_key_case array_rand array_unique array_intersect array_intersect_assoc array_diff array_diff_assoc array_sum array_filter array_map array_chunk array_key_exists pos sizeof key_exists assert assert_options version_compare ftok str_rot13 aggregate session_name session_module_name session_save_path session_id session_regenerate_id session_decode session_register session_unregister session_is_registered session_encode session_start session_destroy session_unset session_set_save_handler session_cache_limiter session_cache_expire session_set_cookie_params session_get_cookie_params session_write_close preg_match preg_match_all preg_replace preg_replace_callback preg_split preg_quote preg_grep overload ctype_alnum ctype_alpha ctype_cntrl ctype_digit ctype_lower ctype_graph ctype_print ctype_punct ctype_space ctype_upper ctype_xdigit virtual apache_request_headers apache_note apache_lookup_uri apache_child_terminate apache_setenv apache_response_headers apache_get_version getallheaders mysql_connect mysql_pconnect mysql_close mysql_select_db mysql_create_db mysql_drop_db mysql_query mysql_unbuffered_query mysql_db_query mysql_list_dbs mysql_list_tables mysql_list_fields mysql_list_processes mysql_error mysql_errno mysql_affected_rows mysql_insert_id mysql_result mysql_num_rows mysql_num_fields mysql_fetch_row mysql_fetch_array mysql_fetch_assoc mysql_fetch_object mysql_data_seek mysql_fetch_lengths mysql_fetch_field mysql_field_seek mysql_free_result mysql_field_name mysql_field_table mysql_field_len mysql_field_type mysql_field_flags mysql_escape_string mysql_real_escape_string mysql_stat mysql_thread_id mysql_client_encoding mysql_get_client_info mysql_get_host_info mysql_get_proto_info mysql_get_server_info mysql_info mysql mysql_fieldname mysql_fieldtable mysql_fieldlen mysql_fieldtype mysql_fieldflags mysql_selectdb mysql_createdb mysql_dropdb mysql_freeresult mysql_numfields mysql_numrows mysql_listdbs mysql_listtables mysql_listfields mysql_db_name mysql_dbname mysql_tablename mysql_table_name pg_connect pg_pconnect pg_close pg_connection_status pg_connection_busy pg_connection_reset pg_host pg_dbname pg_port pg_tty pg_options pg_ping pg_query pg_send_query pg_cancel_query pg_fetch_result pg_fetch_row pg_fetch_assoc pg_fetch_array pg_fetch_object pg_fetch_all pg_affected_rows pg_get_result pg_result_seek pg_result_status pg_free_result pg_last_oid pg_num_rows pg_num_fields pg_field_name pg_field_num pg_field_size pg_field_type pg_field_prtlen pg_field_is_null pg_get_notify pg_get_pid pg_result_error pg_last_error pg_last_notice pg_put_line pg_end_copy pg_copy_to pg_copy_from pg_trace pg_untrace pg_lo_create pg_lo_unlink pg_lo_open pg_lo_close pg_lo_read pg_lo_write pg_lo_read_all pg_lo_import pg_lo_export pg_lo_seek pg_lo_tell pg_escape_string pg_escape_bytea pg_unescape_bytea pg_client_encoding pg_set_client_encoding pg_meta_data pg_convert pg_insert pg_update pg_delete pg_select pg_exec pg_getlastoid pg_cmdtuples pg_errormessage pg_numrows pg_numfields pg_fieldname pg_fieldsize pg_fieldtype pg_fieldnum pg_fieldprtlen pg_fieldisnull pg_freeresult pg_result pg_loreadall pg_locreate pg_lounlink pg_loopen pg_loclose pg_loread pg_lowrite pg_loimport pg_loexport echo print global static exit array empty eval isset unset die include require include_once require_once"),multiLineStrings:!0,hooks:{$:function(e){return e.eatWhile(/[\w\$_]/),"variable-2"},"<":function(e,n){return e.match(/<</)?(e.eatWhile(/[\w\.]/),n.tokenize=t(e.current().slice(3)),n.tokenize(e,n)):!1},"#":function(e){while(!e.eol()&&!e.match("?>",!1))e.next();return"comment"},"/":function(e){if(e.eat("/")){while(!e.eol()&&!e.match("?>",!1))e.next();return"comment"}return!1}}};CodeMirror.defineMode("php",function(e,t){function s(e,t){var n=t.curMode==i;e.sol()&&t.pending!='"'&&(t.pending=null);if(!n){if(e.match(/^<\?\w*/))return t.curMode=i,t.curState=t.php,"meta";if(t.pending=='"'){while(!e.eol()&&e.next()!='"');var s="string"}else if(t.pending&&e.pos<t.pending.end){e.pos=t.pending.end;var s=t.pending.style}else var s=r.token(e,t.curState);t.pending=null;var o=e.current(),u=o.search(/<\?/);return u!=-1&&(s=="string"&&/\"$/.test(o)&&!/\?>/.test(o)?t.pending='"':t.pending={end:e.pos,style:s},e.backUp(o.length-u)),s}return n&&t.php.tokenize==null&&e.match("?>")?(t.curMode=r,t.curState=t.html,"meta"):i.token(e,t.curState)}var r=CodeMirror.getMode(e,"text/html"),i=CodeMirror.getMode(e,n);return{startState:function(){var e=CodeMirror.startState(r),n=CodeMirror.startState(i);return{html:e,php:n,curMode:t.startOpen?i:r,curState:t.startOpen?n:e,pending:null}},copyState:function(e){var t=e.html,n=CodeMirror.copyState(r,t),s=e.php,o=CodeMirror.copyState(i,s),u;return e.curMode==r?u=n:u=o,{html:n,php:o,curMode:e.curMode,curState:u,pending:e.pending}},token:s,indent:function(e,t){return e.curMode!=i&&/^\s*<\//.test(t)||e.curMode==i&&/^\?>/.test(t)?r.indent(e.html,t):e.curMode.indent(e.curState,t)},electricChars:"/{}:",innerMode:function(e){return{state:e.curState,mode:e.curMode}}}},"htmlmixed"),CodeMirror.defineMIME("application/x-httpd-php","php"),CodeMirror.defineMIME("application/x-httpd-php-open",{name:"php",startOpen:!0}),CodeMirror.defineMIME("text/x-php",n)})()
;
CodeMirror.defineMode("pig",function(e,t){function u(e,t,n){return t.tokenize=n,n(e,t)}function f(e,t){return a=e,t}function l(e,t){var n=!1,r;while(r=e.next()){if(r=="/"&&n){t.tokenize=h;break}n=r=="*"}return f("comment","comment")}function c(e){return function(t,n){var r=!1,i,o=!1;while((i=t.next())!=null){if(i==e&&!r){o=!0;break}r=!r&&i=="\\"}if(o||!r&&!s)n.tokenize=h;return f("string","error")}}function h(e,t){var s=e.next();return s=='"'||s=="'"?u(e,t,c(s)):/[\[\]{}\(\),;\.]/.test(s)?f(s):/\d/.test(s)?(e.eatWhile(/[\w\.]/),f("number","number")):s=="/"?e.eat("*")?u(e,t,l):(e.eatWhile(o),f("operator","operator")):s=="-"?e.eat("-")?(e.skipToEnd(),f("comment","comment")):(e.eatWhile(o),f("operator","operator")):o.test(s)?(e.eatWhile(o),f("operator","operator")):(e.eatWhile(/[\w\$_]/),n&&n.propertyIsEnumerable(e.current().toUpperCase())&&!e.eat(")")&&!e.eat(".")?("keyword","keyword"):r&&r.propertyIsEnumerable(e.current().toUpperCase())?("keyword","variable-2"):i&&i.propertyIsEnumerable(e.current().toUpperCase())?("keyword","variable-3"):f("variable","pig-word"))}var n=t.keywords,r=t.builtins,i=t.types,s=t.multiLineStrings,o=/[*+\-%<>=&?:\/!|]/,a;return{startState:function(){return{tokenize:h,startOfLine:!0}},token:function(e,t){if(e.eatSpace())return null;var n=t.tokenize(e,t);return n}}}),function(){function e(e){var t={},n=e.split(" ");for(var r=0;r<n.length;++r)t[n[r]]=!0;return t}var t="ABS ACOS ARITY ASIN ATAN AVG BAGSIZE BINSTORAGE BLOOM BUILDBLOOM CBRT CEIL CONCAT COR COS COSH COUNT COUNT_STAR COV CONSTANTSIZE CUBEDIMENSIONS DIFF DISTINCT DOUBLEABS DOUBLEAVG DOUBLEBASE DOUBLEMAX DOUBLEMIN DOUBLEROUND DOUBLESUM EXP FLOOR FLOATABS FLOATAVG FLOATMAX FLOATMIN FLOATROUND FLOATSUM GENERICINVOKER INDEXOF INTABS INTAVG INTMAX INTMIN INTSUM INVOKEFORDOUBLE INVOKEFORFLOAT INVOKEFORINT INVOKEFORLONG INVOKEFORSTRING INVOKER ISEMPTY JSONLOADER JSONMETADATA JSONSTORAGE LAST_INDEX_OF LCFIRST LOG LOG10 LOWER LONGABS LONGAVG LONGMAX LONGMIN LONGSUM MAX MIN MAPSIZE MONITOREDUDF NONDETERMINISTIC OUTPUTSCHEMA  PIGSTORAGE PIGSTREAMING RANDOM REGEX_EXTRACT REGEX_EXTRACT_ALL REPLACE ROUND SIN SINH SIZE SQRT STRSPLIT SUBSTRING SUM STRINGCONCAT STRINGMAX STRINGMIN STRINGSIZE TAN TANH TOBAG TOKENIZE TOMAP TOP TOTUPLE TRIM TEXTLOADER TUPLESIZE UCFIRST UPPER UTF8STORAGECONVERTER ",n="VOID IMPORT RETURNS DEFINE LOAD FILTER FOREACH ORDER CUBE DISTINCT COGROUP JOIN CROSS UNION SPLIT INTO IF OTHERWISE ALL AS BY USING INNER OUTER ONSCHEMA PARALLEL PARTITION GROUP AND OR NOT GENERATE FLATTEN ASC DESC IS STREAM THROUGH STORE MAPREDUCE SHIP CACHE INPUT OUTPUT STDERROR STDIN STDOUT LIMIT SAMPLE LEFT RIGHT FULL EQ GT LT GTE LTE NEQ MATCHES TRUE FALSE ",r="BOOLEAN INT LONG FLOAT DOUBLE CHARARRAY BYTEARRAY BAG TUPLE MAP ";CodeMirror.defineMIME("text/x-pig",{name:"pig",builtins:e(t),keywords:e(n),types:e(r)})}()
;
CodeMirror.defineMode("plsql",function(e,t){function a(e,t,n){return t.tokenize=n,n(e,t)}function l(e,t){return f=e,t}function c(e,t){var o=e.next();return o=='"'||o=="'"?a(e,t,h(o)):/[\[\]{}\(\),;\.]/.test(o)?l(o):/\d/.test(o)?(e.eatWhile(/[\w\.]/),l("number","number")):o=="/"?e.eat("*")?a(e,t,p):(e.eatWhile(u),l("operator","operator")):o=="-"?e.eat("-")?(e.skipToEnd(),l("comment","comment")):(e.eatWhile(u),l("operator","operator")):o=="@"||o=="$"?(e.eatWhile(/[\w\d\$_]/),l("word","variable")):u.test(o)?(e.eatWhile(u),l("operator","operator")):(e.eatWhile(/[\w\$_]/),n&&n.propertyIsEnumerable(e.current().toLowerCase())?l("keyword","keyword"):r&&r.propertyIsEnumerable(e.current().toLowerCase())?l("keyword","builtin"):i&&i.propertyIsEnumerable(e.current().toLowerCase())?l("keyword","variable-2"):s&&s.propertyIsEnumerable(e.current().toLowerCase())?l("keyword","variable-3"):l("word","variable"))}function h(e){return function(t,n){var r=!1,i,s=!1;while((i=t.next())!=null){if(i==e&&!r){s=!0;break}r=!r&&i=="\\"}if(s||!r&&!o)n.tokenize=c;return l("string","plsql-string")}}function p(e,t){var n=!1,r;while(r=e.next()){if(r=="/"&&n){t.tokenize=c;break}n=r=="*"}return l("comment","plsql-comment")}var n=t.keywords,r=t.functions,i=t.types,s=t.sqlplus,o=t.multiLineStrings,u=/[+\-*&%=<>!?:\/|]/,f;return{startState:function(){return{tokenize:c,startOfLine:!0}},token:function(e,t){if(e.eatSpace())return null;var n=t.tokenize(e,t);return n}}}),function(){function e(e){var t={},n=e.split(" ");for(var r=0;r<n.length;++r)t[n[r]]=!0;return t}var t="abort accept access add all alter and any array arraylen as asc assert assign at attributes audit authorization avg base_table begin between binary_integer body boolean by case cast char char_base check close cluster clusters colauth column comment commit compress connect connected constant constraint crash create current currval cursor data_base database date dba deallocate debugoff debugon decimal declare default definition delay delete desc digits dispose distinct do drop else elsif enable end entry escape exception exception_init exchange exclusive exists exit external fast fetch file for force form from function generic goto grant group having identified if immediate in increment index indexes indicator initial initrans insert interface intersect into is key level library like limited local lock log logging long loop master maxextents maxtrans member minextents minus mislabel mode modify multiset new next no noaudit nocompress nologging noparallel not nowait number_base object of off offline on online only open option or order out package parallel partition pctfree pctincrease pctused pls_integer positive positiven pragma primary prior private privileges procedure public raise range raw read rebuild record ref references refresh release rename replace resource restrict return returning reverse revoke rollback row rowid rowlabel rownum rows run savepoint schema segment select separate session set share snapshot some space split sql start statement storage subtype successful synonym tabauth table tables tablespace task terminate then to trigger truncate type union unique unlimited unrecoverable unusable update use using validate value values variable view views when whenever where while with work",n="abs acos add_months ascii asin atan atan2 average bfilename ceil chartorowid chr concat convert cos cosh count decode deref dual dump dup_val_on_index empty error exp false floor found glb greatest hextoraw initcap instr instrb isopen last_day least lenght lenghtb ln lower lpad ltrim lub make_ref max min mod months_between new_time next_day nextval nls_charset_decl_len nls_charset_id nls_charset_name nls_initcap nls_lower nls_sort nls_upper nlssort no_data_found notfound null nvl others power rawtohex reftohex round rowcount rowidtochar rpad rtrim sign sin sinh soundex sqlcode sqlerrm sqrt stddev substr substrb sum sysdate tan tanh to_char to_date to_label to_multi_byte to_number to_single_byte translate true trunc uid upper user userenv variance vsize",r="bfile blob character clob dec float int integer mlslabel natural naturaln nchar nclob number numeric nvarchar2 real rowtype signtype smallint string varchar varchar2",i="appinfo arraysize autocommit autoprint autorecovery autotrace blockterminator break btitle cmdsep colsep compatibility compute concat copycommit copytypecheck define describe echo editfile embedded escape exec execute feedback flagger flush heading headsep instance linesize lno loboffset logsource long longchunksize markup native newpage numformat numwidth pagesize pause pno recsep recsepchar release repfooter repheader serveroutput shiftinout show showmode size spool sqlblanklines sqlcase sqlcode sqlcontinue sqlnumber sqlpluscompatibility sqlprefix sqlprompt sqlterminator suffix tab term termout time timing trimout trimspool ttitle underline verify version wrap";CodeMirror.defineMIME("text/x-plsql",{name:"plsql",keywords:e(t),functions:e(n),types:e(r),sqlplus:e(i)})}()
;
CodeMirror.defineMode("properties",function(){return{token:function(e,t){var n=e.sol()||t.afterSection,r=e.eol();t.afterSection=!1,n&&(t.nextMultiline?(t.inMultiline=!0,t.nextMultiline=!1):t.position="def"),r&&!t.nextMultiline&&(t.inMultiline=!1,t.position="def");if(n)while(e.eatSpace());var i=e.next();return!n||i!=="#"&&i!=="!"&&i!==";"?n&&i==="["?(t.afterSection=!0,e.skipTo("]"),e.eat("]"),"header"):i==="="||i===":"?(t.position="quote",null):(i==="\\"&&t.position==="quote"&&e.next()!=="u"&&(t.nextMultiline=!0),t.position):(t.position="comment",e.skipToEnd(),"comment")},startState:function(){return{position:"def",nextMultiline:!1,inMultiline:!1,afterSection:!1}}}}),CodeMirror.defineMIME("text/x-properties","properties"),CodeMirror.defineMIME("text/x-ini","properties")
;
CodeMirror.defineMode("python",function(e,t){function r(e){return new RegExp("^(("+e.join(")|(")+"))\\b")}function b(e,t){if(e.sol()){var r=t.scopes[0].offset;if(e.eatSpace()){var c=e.indentation();return c>r?y="indent":c<r&&(y="dedent"),null}r>0&&S(e,t)}if(e.eatSpace())return null;var h=e.peek();if(h==="#")return e.skipToEnd(),"comment";if(e.match(/^[0-9\.]/,!1)){var p=!1;e.match(/^\d*\.\d+(e[\+\-]?\d+)?/i)&&(p=!0),e.match(/^\d+\.\d*/)&&(p=!0),e.match(/^\.\d+/)&&(p=!0);if(p)return e.eat(/J/i),"number";var d=!1;e.match(/^0x[0-9a-f]+/i)&&(d=!0),e.match(/^0b[01]+/i)&&(d=!0),e.match(/^0o[0-7]+/i)&&(d=!0),e.match(/^[1-9]\d*(e[\+\-]?\d+)?/)&&(e.eat(/J/i),d=!0),e.match(/^0(?![\dx])/i)&&(d=!0);if(d)return e.eat(/L/i),"number"}return e.match(v)?(t.tokenize=w(e.current()),t.tokenize(e,t)):e.match(a)||e.match(u)?null:e.match(o)||e.match(i)||e.match(l)?"operator":e.match(s)?null:e.match(m)?"keyword":e.match(g)?"builtin":e.match(f)?"variable":(e.next(),n)}function w(e){function s(s,o){while(!s.eol()){s.eatWhile(/[^'"\\]/);if(s.eat("\\")){s.next();if(r&&s.eol())return i}else{if(s.match(e))return o.tokenize=b,i;s.eat(/['"]/)}}if(r){if(t.singleLineStringErrors)return n;o.tokenize=b}return i}while("rub".indexOf(e.charAt(0).toLowerCase())>=0)e=e.substr(1);var r=e.length==1,i="string";return s.isString=!0,s}function E(t,n,r){r=r||"py";var i=0;if(r==="py"){if(n.scopes[0].type!=="py"){n.scopes[0].offset=t.indentation();return}for(var s=0;s<n.scopes.length;++s)if(n.scopes[s].type==="py"){i=n.scopes[s].offset+e.indentUnit;break}}else i=t.column()+t.current().length;n.scopes.unshift({offset:i,type:r})}function S(e,t,n){n=n||"py";if(t.scopes.length==1)return;if(t.scopes[0].type==="py"){var r=e.indentation(),i=-1;for(var s=0;s<t.scopes.length;++s)if(r===t.scopes[s].offset){i=s;break}if(i===-1)return!0;while(t.scopes[0].offset!==r)t.scopes.shift();return!1}return n==="py"?(t.scopes[0].offset=e.indentation(),!1):t.scopes[0].type!=n?!0:(t.scopes.shift(),!1)}function x(e,t){y=null;var r=t.tokenize(e,t),i=e.current();if(i===".")return r=e.match(f,!1)?null:n,r===null&&t.lastToken==="meta"&&(r="meta"),r;if(i==="@")return e.match(f,!1)?"meta":n;(r==="variable"||r==="builtin")&&t.lastToken==="meta"&&(r="meta");if(i==="pass"||i==="return")t.dedent+=1;i==="lambda"&&(t.lambda=!0),(i===":"&&!t.lambda&&t.scopes[0].type=="py"||y==="indent")&&E(e,t);var s="[({".indexOf(i);return s!==-1&&E(e,t,"])}".slice(s,s+1)),y==="dedent"&&S(e,t)?n:(s="])}".indexOf(i),s!==-1&&S(e,t,i)?n:(t.dedent>0&&e.eol()&&t.scopes[0].type=="py"&&(t.scopes.length>1&&t.scopes.shift(),t.dedent-=1),r))}var n="error",i=new RegExp("^[\\+\\-\\*/%&|\\^~<>!]"),s=new RegExp("^[\\(\\)\\[\\]\\{\\}@,:`=;\\.]"),o=new RegExp("^((==)|(!=)|(<=)|(>=)|(<>)|(<<)|(>>)|(//)|(\\*\\*))"),u=new RegExp("^((\\+=)|(\\-=)|(\\*=)|(%=)|(/=)|(&=)|(\\|=)|(\\^=))"),a=new RegExp("^((//=)|(>>=)|(<<=)|(\\*\\*=))"),f=new RegExp("^[_A-Za-z][_A-Za-z0-9]*"),l=r(["and","or","not","is","in"]),c=["as","assert","break","class","continue","def","del","elif","else","except","finally","for","from","global","if","import","lambda","pass","raise","return","try","while","with","yield"],h=["abs","all","any","bin","bool","bytearray","callable","chr","classmethod","compile","complex","delattr","dict","dir","divmod","enumerate","eval","filter","float","format","frozenset","getattr","globals","hasattr","hash","help","hex","id","input","int","isinstance","issubclass","iter","len","list","locals","map","max","memoryview","min","next","object","oct","open","ord","pow","property","range","repr","reversed","round","set","setattr","slice","sorted","staticmethod","str","sum","super","tuple","type","vars","zip","__import__","NotImplemented","Ellipsis","__debug__"],p={builtins:["apply","basestring","buffer","cmp","coerce","execfile","file","intern","long","raw_input","reduce","reload","unichr","unicode","xrange","False","True","None"],keywords:["exec","print"]},d={builtins:["ascii","bytes","exec","print"],keywords:["nonlocal","False","True","None"]};if(!t.version||parseInt(t.version,10)!==3){c=c.concat(p.keywords),h=h.concat(p.builtins);var v=new RegExp("^(([rub]|(ur)|(br))?('{3}|\"{3}|['\"]))","i")}else{c=c.concat(d.keywords),h=h.concat(d.builtins);var v=new RegExp("^(([rb]|(br))?('{3}|\"{3}|['\"]))","i")}var m=r(c),g=r(h),y=null,T={startState:function(e){return{tokenize:b,scopes:[{offset:e||0,type:"py"}],lastToken:null,lambda:!1,dedent:0}},token:function(e,t){var n=x(e,t);return t.lastToken=n,e.eol()&&e.lambda&&(t.lambda=!1),n},indent:function(e){return e.tokenize!=b?e.tokenize.isString?CodeMirror.Pass:0:e.scopes[0].offset}};return T}),CodeMirror.defineMIME("text/x-python","python")
;
CodeMirror.defineMode("r",function(e){function t(e){var t=e.split(" "),n={};for(var r=0;r<t.length;++r)n[t[r]]=!0;return n}function a(e,t){u=null;var a=e.next();if(a=="#")return e.skipToEnd(),"comment";if(a=="0"&&e.eat("x"))return e.eatWhile(/[\da-f]/i),"number";if(a=="."&&e.eat(/\d/))return e.match(/\d*(?:e[+\-]?\d+)?/),"number";if(/\d/.test(a))return e.match(/\d*(?:\.\d+)?(?:e[+\-]\d+)?L?/),"number";if(a=="'"||a=='"')return t.tokenize=f(a),"string";if(a=="."&&e.match(/.[.\d]+/))return"keyword";if(/[\w\.]/.test(a)&&a!="_"){e.eatWhile(/[\w\.]/);var l=e.current();return n.propertyIsEnumerable(l)?"atom":i.propertyIsEnumerable(l)?(s.propertyIsEnumerable(l)&&(u="block"),"keyword"):r.propertyIsEnumerable(l)?"builtin":"variable"}return a=="%"?(e.skipTo("%")&&e.next(),"variable-2"):a=="<"&&e.eat("-")?"arrow":a=="="&&t.ctx.argList?"arg-is":o.test(a)?a=="$"?"dollar":(e.eatWhile(o),"operator"):/[\(\){}\[\];]/.test(a)?(u=a,a==";"?"semi":null):null}function f(e){return function(t,n){if(t.eat("\\")){var r=t.next();return r=="x"?t.match(/^[a-f0-9]{2}/i):(r=="u"||r=="U")&&t.eat("{")&&t.skipTo("}")?t.next():r=="u"?t.match(/^[a-f0-9]{4}/i):r=="U"?t.match(/^[a-f0-9]{8}/i):/[0-7]/.test(r)&&t.match(/^[0-7]{1,2}/),"string-2"}var i;while((i=t.next())!=null){if(i==e){n.tokenize=a;break}if(i=="\\"){t.backUp(1);break}}return"string"}}function l(e,t,n){e.ctx={type:t,indent:e.indent,align:null,column:n.column(),prev:e.ctx}}function c(e){e.indent=e.ctx.indent,e.ctx=e.ctx.prev}var n=t("NULL NA Inf NaN NA_integer_ NA_real_ NA_complex_ NA_character_"),r=t("list quote bquote eval return call parse deparse"),i=t("if else repeat while function for in next break"),s=t("if else repeat while function for"),o=/[+\-*\/^<>=!&|~$:]/,u;return{startState:function(){return{tokenize:a,ctx:{type:"top",indent:-e.indentUnit,align:!1},indent:0,afterIdent:!1}},token:function(e,t){e.sol()&&(t.ctx.align==null&&(t.ctx.align=!1),t.indent=e.indentation());if(e.eatSpace())return null;var n=t.tokenize(e,t);n!="comment"&&t.ctx.align==null&&(t.ctx.align=!0);var r=t.ctx.type;return(u==";"||u=="{"||u=="}")&&r=="block"&&c(t),u=="{"?l(t,"}",e):u=="("?(l(t,")",e),t.afterIdent&&(t.ctx.argList=!0)):u=="["?l(t,"]",e):u=="block"?l(t,"block",e):u==r&&c(t),t.afterIdent=n=="variable"||n=="keyword",n},indent:function(t,n){if(t.tokenize!=a)return 0;var r=n&&n.charAt(0),i=t.ctx,s=r==i.type;return i.type=="block"?i.indent+(r=="{"?0:e.indentUnit):i.align?i.column+(s?0:1):i.indent+(s?0:e.indentUnit)}}}),CodeMirror.defineMIME("text/x-rsrc","r")
;
CodeMirror.defineMode("changes",function(){var e=/^-+$/,t=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)  ?\d{1,2} \d{2}:\d{2}(:\d{2})? [A-Z]{3,4} \d{4} - /,n=/^[\w+.-]+@[\w.-]+/;return{token:function(r){if(r.sol()){if(r.match(e))return"tag";if(r.match(t))return"tag"}return r.match(n)?"string":(r.next(),null)}}}),CodeMirror.defineMIME("text/x-rpm-changes","changes")
;
CodeMirror.defineMode("spec",function(){var e=/^(i386|i586|i686|x86_64|ppc64|ppc|ia64|s390x|s390|sparc64|sparcv9|sparc|noarch|alphaev6|alpha|hppa|mipsel)/,t=/^(Name|Version|Release|License|Summary|Url|Group|Source|BuildArch|BuildRequires|BuildRoot|AutoReqProv|Provides|Requires(\(\w+\))?|Obsoletes|Conflicts|Recommends|Source\d*|Patch\d*|ExclusiveArch|NoSource|Supplements):/,n=/^%(debug_package|package|description|prep|build|install|files|clean|changelog|preun|postun|pre|post|triggerin|triggerun|pretrans|posttrans|verifyscript|check|triggerpostun|triggerprein|trigger)/,r=/^%(ifnarch|ifarch|if)/,i=/^%(else|endif)/,s=/^(\!|\?|\<\=|\<|\>\=|\>|\=\=|\&\&|\|\|)/;return{startState:function(){return{controlFlow:!1,macroParameters:!1,section:!1}},token:function(o,u){var a=o.peek();if(a=="#")return o.skipToEnd(),"comment";if(o.sol()){if(o.match(t))return"preamble";if(o.match(n))return"section"}if(o.match(/^\$\w+/))return"def";if(o.match(/^\$\{\w+\}/))return"def";if(o.match(i))return"keyword";if(o.match(r))return u.controlFlow=!0,"keyword";if(u.controlFlow){if(o.match(s))return"operator";if(o.match(/^(\d+)/))return"number";o.eol()&&(u.controlFlow=!1)}if(o.match(e))return"number";if(o.match(/^%[\w]+/))return o.match(/^\(/)&&(u.macroParameters=!0),"macro";if(u.macroParameters){if(o.match(/^\d+/))return"number";if(o.match(/^\)/))return u.macroParameters=!1,"macro"}return o.match(/^%\{\??[\w \-]+\}/)?"macro":(o.next(),null)}}}),CodeMirror.defineMIME("text/x-rpm-spec","spec")
;
CodeMirror.defineMode("rst",function(e,t){function n(e,t,n){e.fn=t,r(e,n)}function r(e,t){e.ctx=t||{}}function i(e,t){if(t&&typeof t!="string"){var r=t.current();t=r[r.length-1]}n(e,E,{back:t})}function s(e){return e&&CodeMirror.modes.hasOwnProperty(e)}function o(t){return s(t)?CodeMirror.getMode(e,t):null}function E(e,t){function c(e){return s||!t.ctx.back||e.test(t.ctx.back)}function h(t){return e.eol()||e.match(t,!1)}function p(t){return e.match(t)&&c(/\W/)&&h(/\W/)}var r,s,o;if(e.eat(/\\/))return r=e.next(),i(t,r),null;s=e.sol();if(s&&(r=e.eat(f))){for(o=0;e.eat(r);o++);if(o>=3&&e.match(/^\s*$/))return i(t,null),"header";e.backUp(o+1)}if(s&&e.match(m))return e.eol()||n(t,x),"meta";if(e.match(g)){if(!u)n(t,C);else{var l=u;n(t,C,{mode:l,local:l.startState()})}return"meta"}if(s&&e.match(w,!1)){if(!a)return n(t,C),"meta";var l=a;return n(t,C,{mode:l,local:l.startState()}),null}if(p(d))return i(t,e),"footnote";if(p(v))return i(t,e),"citation";r=e.next();if(c(y)){if(!(r!==":"&&r!=="|"||!e.eat(/\S/))){var b;return r===":"?b="builtin":b="atom",n(t,S,{ch:r,wide:!1,prev:null,token:b}),b}if(r==="*"||r==="`"){var E=r,T=!1;r=e.next(),r==E&&(T=!0,r=e.next());if(r&&!/\s/.test(r)){var b;return E==="*"?b=T?"strong":"em":b=T?"string":"string-2",n(t,S,{ch:E,wide:T,prev:null,token:b}),b}}}return i(t,r),null}function S(e,t){function o(e){return t.ctx.prev=e,s}var r=e.next(),s=t.ctx.token;if(r!=t.ctx.ch)return o(r);if(/\s/.test(t.ctx.prev))return o(r);if(t.ctx.wide){r=e.next();if(r!=t.ctx.ch)return o(r)}return!e.eol()&&!b.test(e.peek())?(t.ctx.wide&&e.backUp(1),o(r)):(n(t,E),i(t,r),s)}function x(e,t){var r=null;if(e.match(l))r="attribute";else if(e.match(c))r="link";else if(e.match(h))r="quote";else{if(!e.match(p))return e.eatSpace(),e.eol()?(i(t,e),null):(e.skipToEnd(),n(t,N),"comment");r="quote"}return n(t,T,{start:!0}),r}function T(e,t){var n="body";return!t.ctx.start||e.sol()?k(e,t,n):(e.skipToEnd(),r(t),n)}function N(e,t){return k(e,t,"comment")}function C(e,t){return u?e.sol()?(e.eatSpace()||i(t,e),null):u.token(e,t.ctx.local):k(e,t,"meta")}function k(e,t,n){return e.eol()||e.eatSpace()?(e.skipToEnd(),n):(i(t,e),null)}var u=o(t.verbatim),a=o("python"),f=/^[!"#$%&'()*+,-./:;<=>?@[\\\]^_`{|}~]/,l=/^\s*\w([-:.\w]*\w)?::(\s|$)/,c=/^\s*_[\w-]+:(\s|$)/,h=/^\s*\[(\d+|#)\](\s|$)/,p=/^\s*\[[A-Za-z][\w-]*\](\s|$)/,d=/^\[(\d+|#)\]_/,v=/^\[[A-Za-z][\w-]*\]_/,m=/^\.\.(\s|$)/,g=/^::\s*$/,y=/^[-\s"([{</:]/,b=/^[-\s`'")\]}>/:.,;!?\\_]/,w=/^\s+(>>>|In \[\d+\]:)\s/;return{startState:function(){return{fn:E,ctx:{}}},copyState:function(e){return{fn:e.fn,ctx:e.ctx}},token:function(e,t){var n=t.fn(e,t);return n}}},"python"),CodeMirror.defineMIME("text/x-rst","rst")
;
CodeMirror.defineMode("ruby",function(e){function t(e){var t={};for(var n=0,r=e.length;n<r;++n)t[e[n]]=!0;return t}function u(e,t,n){return n.tokenize.push(e),e(t,n)}function a(e,t){o=null;if(e.sol()&&e.match("=begin")&&e.eol())return t.tokenize.push(h),"comment";if(e.eatSpace())return null;var n=e.next(),r;if(n=="`"||n=="'"||n=='"'||n=="/"&&!e.eol()&&e.peek()!=" ")return u(l(n,"string",n=='"'||n=="`"),e,t);if(n=="%"){var i,a=!1;e.eat("s")?i="atom":e.eat(/[WQ]/)?(i="string",a=!0):e.eat(/[wxqr]/)&&(i="string");var f=e.eat(/[^\w\s]/);return f?(s.propertyIsEnumerable(f)&&(f=s[f]),u(l(f,i,a,!0),e,t)):"operator"}if(n=="#")return e.skipToEnd(),"comment";if(n=="<"&&(r=e.match(/^<-?[\`\"\']?([a-zA-Z_?]\w*)[\`\"\']?(?:;|$)/)))return u(c(r[1]),e,t);if(n=="0")return e.eat("x")?e.eatWhile(/[\da-fA-F]/):e.eat("b")?e.eatWhile(/[01]/):e.eatWhile(/[0-7]/),"number";if(/\d/.test(n))return e.match(/^[\d_]*(?:\.[\d_]+)?(?:[eE][+\-]?[\d_]+)?/),"number";if(n=="?"){while(e.match(/^\\[CM]-/));return e.eat("\\")?e.eatWhile(/\w/):e.next(),"string"}return n==":"?e.eat("'")?u(l("'","atom",!1),e,t):e.eat('"')?u(l('"',"atom",!0),e,t):(e.eatWhile(/[\w\?]/),"atom"):n=="@"?(e.eat("@"),e.eatWhile(/[\w\?]/),"variable-2"):n=="$"?(e.next(),e.eatWhile(/[\w\?]/),"variable-3"):/\w/.test(n)?(e.eatWhile(/[\w\?]/),e.eat(":")?"atom":"ident"):n!="|"||!t.varList&&t.lastTok!="{"&&t.lastTok!="do"?/[\(\)\[\]{}\\;]/.test(n)?(o=n,null):n=="-"&&e.eat(">")?"arrow":/[=+\-\/*:\.^%<>~|]/.test(n)?(e.eatWhile(/[=+\-\/*:\.^%<>~|]/),"operator"):null:(o="|",null)}function f(){var e=1;return function(t,n){if(t.peek()=="}"){e--;if(e==0)return n.tokenize.pop(),n.tokenize[n.tokenize.length-1](t,n)}else t.peek()=="{"&&e++;return a(t,n)}}function l(e,t,n,r){return function(i,s){var o=!1,u;while((u=i.next())!=null){if(u==e&&(r||!o)){s.tokenize.pop();break}if(n&&u=="#"&&!o&&i.eat("{")){s.tokenize.push(f(arguments.callee));break}o=!o&&u=="\\"}return t}}function c(e){return function(t,n){return t.match(e)?n.tokenize.pop():t.skipToEnd(),"string"}}function h(e,t){return e.sol()&&e.match("=end")&&e.eol()&&t.tokenize.pop(),e.skipToEnd(),"comment"}var n=t(["alias","and","BEGIN","begin","break","case","class","def","defined?","do","else","elsif","END","end","ensure","false","for","if","in","module","next","not","or","redo","rescue","retry","return","self","super","then","true","undef","unless","until","when","while","yield","nil","raise","throw","catch","fail","loop","callcc","caller","lambda","proc","public","protected","private","require","load","require_relative","extend","autoload"]),r=t(["def","class","case","for","while","do","module","then","catch","loop","proc","begin"]),i=t(["end","until"]),s={"[":"]","{":"}","(":")"},o;return{startState:function(){return{tokenize:[a],indented:0,context:{type:"top",indented:-e.indentUnit},continuedLine:!1,lastTok:null,varList:!1}},token:function(e,t){e.sol()&&(t.indented=e.indentation());var s=t.tokenize[t.tokenize.length-1](e,t),u;if(s=="ident"){var a=e.current();s=n.propertyIsEnumerable(e.current())?"keyword":/^[A-Z]/.test(a)?"tag":t.lastTok=="def"||t.lastTok=="class"||t.varList?"def":"variable",r.propertyIsEnumerable(a)?u="indent":i.propertyIsEnumerable(a)?u="dedent":(a=="if"||a=="unless")&&e.column()==e.indentation()&&(u="indent")}if(o||s&&s!="comment")t.lastTok=a||o||s;return o=="|"&&(t.varList=!t.varList),u=="indent"||/[\(\[\{]/.test(o)?t.context={prev:t.context,type:o||s,indented:t.indented}:(u=="dedent"||/[\)\]\}]/.test(o))&&t.context.prev&&(t.context=t.context.prev),e.eol()&&(t.continuedLine=o=="\\"||s=="operator"),s},indent:function(t,n){if(t.tokenize[t.tokenize.length-1]!=a)return 0;var r=n&&n.charAt(0),i=t.context,o=i.type==s[r]||i.type=="keyword"&&/^(?:end|until|else|elsif|when|rescue)\b/.test(n);return i.indented+(o?0:e.indentUnit)+(t.continuedLine?e.indentUnit:0)},electricChars:"}de"}}),CodeMirror.defineMIME("text/x-ruby","ruby")
;
CodeMirror.defineMode("rust",function(){function u(e,t){return s=e,t}function a(e,t){var n=e.next();if(n=='"')return t.tokenize=f,t.tokenize(e,t);if(n=="'")return s="atom",e.eat("\\")?e.skipTo("'")?(e.next(),"string"):"error":(e.next(),e.eat("'")?"string":"error");if(n=="/"){if(e.eat("/"))return e.skipToEnd(),"comment";if(e.eat("*"))return t.tokenize=l(1),t.tokenize(e,t)}if(n=="#")return e.eat("[")?(s="open-attr",null):(e.eatWhile(/\w/),u("macro","meta"));if(n==":"&&e.match(":<"))return u("op",null);if(n.match(/\d/)||n=="."&&e.eat(/\d/)){var r=!1;return!e.match(/^x[\da-f]+/i)&&!e.match(/^b[01]+/)&&(e.eatWhile(/\d/),e.eat(".")&&(r=!0,e.eatWhile(/\d/)),e.match(/^e[+\-]?\d+/i)&&(r=!0)),r?e.match(/^f(?:32|64)/):e.match(/^[ui](?:8|16|32|64)/),u("atom","number")}return n.match(/[()\[\]{}:;,]/)?u(n,null):n=="-"&&e.eat(">")?u("->",null):n.match(i)?(e.eatWhile(i),u("op",null)):(e.eatWhile(/\w/),o=e.current(),e.match(/^::\w/)?(e.backUp(1),u("prefix","variable-2")):t.keywords.propertyIsEnumerable(o)?u(t.keywords[o],o.match(/true|false/)?"atom":"keyword"):u("name","variable"))}function f(e,t){var n,r=!1;while(n=e.next()){if(n=='"'&&!r)return t.tokenize=a,u("atom","string");r=!r&&n=="\\"}return u("op","string")}function l(e){return function(t,n){var r=null,i;while(i=t.next()){if(i=="/"&&r=="*"){if(e==1){n.tokenize=a;break}return n.tokenize=l(e-1),n.tokenize(t,n)}if(i=="*"&&r=="/")return n.tokenize=l(e+1),n.tokenize(t,n);r=i}return"comment"}}function h(){for(var e=arguments.length-1;e>=0;e--)c.cc.push(arguments[e])}function p(){return h.apply(null,arguments),!0}function d(e,t){var n=function(){var n=c.state;n.lexical={indented:n.indented,column:c.stream.column(),type:e,prev:n.lexical,info:t}};return n.lex=!0,n}function v(){var e=c.state;e.lexical.prev&&(e.lexical.type==")"&&(e.indented=e.lexical.indented),e.lexical=e.lexical.prev)}function m(){c.state.keywords=r}function g(){c.state.keywords=n}function y(e,t){function n(r){return r==","?p(e,n):r==t?p():p(n)}return function(r){return r==t?p():h(e,n)}}function b(e,t){return p(d("stat",t),e,v,w)}function w(e){return e=="}"?p():e=="let"?b(L,"let"):e=="fn"?b(_):e=="type"?p(d("stat"),D,E,v,w):e=="enum"?b(P):e=="mod"?b(B):e=="iface"?b(j):e=="impl"?b(F):e=="open-attr"?p(d("]"),y(S,"]"),v):e=="ignore"||e.match(/[\]\);,]/)?p(w):h(d("stat"),S,v,E,w)}function E(e){return e==";"?p():h()}function S(e){return e=="atom"||e=="name"?p(x):e=="{"?p(d("}"),N,v):e.match(/[\[\(]/)?Q(e,S):e.match(/[\]\)\};,]/)?h():e=="if-style"?p(S,S):e=="else-style"||e=="op"?p(S):e=="for"?p(W,O,M,S,S):e=="alt"?p(S,V):e=="fn"?p(_):e=="macro"?p(K):p()}function x(e){return o=="."?p(T):o=="::<"?p(I,x):e=="op"||o==":"?p(S):e=="("||e=="["?Q(e,S):h()}function T(){return o.match(/^\w+$/)?(c.marked="variable",p(x)):h(S)}function N(e){if(e=="op"){if(o=="|")return p(k,v,d("}","block"),w);if(o=="||")return p(v,d("}","block"),w)}return o=="mutable"||o.match(/^\w+$/)&&c.stream.peek()==":"&&!c.stream.match("::",!1)?h(C(S)):h(w)}function C(e){function t(n){return o=="mutable"||o=="with"?(c.marked="keyword",p(t)):o.match(/^\w*$/)?(c.marked="variable",p(t)):n==":"?p(e,t):n=="}"?p():p(t)}return t}function k(e){return e=="name"?(c.marked="def",p(k)):e=="op"&&o=="|"?p():p(k)}function L(e){return e.match(/[\]\)\};]/)?p():o=="="?p(S,A):e==","?p(L):h(W,O,L)}function A(e){return e.match(/[\]\)\};,]/)?h(L):h(S,A)}function O(e){return e==":"?p(m,R,g):h()}function M(e){return e=="name"&&o=="in"?(c.marked="keyword",p()):h()}function _(e){return o=="@"||o=="~"?(c.marked="keyword",p(_)):e=="name"?(c.marked="def",p(_)):o=="<"?p(I,_):e=="{"?h(S):e=="("?p(d(")"),y(q,")"),v,_):e=="->"?p(m,R,g,_):e==";"?p():p(_)}function D(e){return e=="name"?(c.marked="def",p(D)):o=="<"?p(I,D):o=="="?p(m,R,g):p(D)}function P(e){return e=="name"?(c.marked="def",p(P)):o=="<"?p(I,P):o=="="?p(m,R,g,E):e=="{"?p(d("}"),m,H,g,v):p(P)}function H(e){return e=="}"?p():e=="("?p(d(")"),y(R,")"),v,H):(o.match(/^\w+$/)&&(c.marked="def"),p(H))}function B(e){return e=="name"?(c.marked="def",p(B)):e=="{"?p(d("}"),w,v):h()}function j(e){return e=="name"?(c.marked="def",p(j)):o=="<"?p(I,j):e=="{"?p(d("}"),w,v):h()}function F(e){return o=="<"?p(I,F):o=="of"||o=="for"?(c.marked="keyword",p(R,F)):e=="name"?(c.marked="def",p(F)):e=="{"?p(d("}"),w,v):h()}function I(){return o==">"?p():o==","?p(I):o==":"?p(R,I):h(R,I)}function q(e){return e=="name"?(c.marked="def",p(q)):e==":"?p(m,R,g):h()}function R(e){return e=="name"?(c.marked="variable-3",p(U)):o=="mutable"?(c.marked="keyword",p(R)):e=="atom"?p(U):e=="op"||e=="obj"?p(R):e=="fn"?p(z):e=="{"?p(d("{"),C(R),v):Q(e,R)}function U(){return o=="<"?p(I):h()}function z(e){return e=="("?p(d("("),y(R,")"),v,z):e=="->"?p(R):h()}function W(e){return e=="name"?(c.marked="def",p(X)):e=="atom"?p(X):e=="op"?p(W):e.match(/[\]\)\};,]/)?h():Q(e,W)}function X(e){return e=="op"&&o=="."?p():o=="to"?(c.marked="keyword",p(W)):h()}function V(e){return e=="{"?p(d("}","alt"),$,v):h()}function $(e){return e=="}"?p():e=="|"?p($):o=="when"?(c.marked="keyword",p(S,J)):e.match(/[\]\);,]/)?p($):h(W,J)}function J(e){return e=="{"?p(d("}","alt"),w,v,$):h($)}function K(e){return e.match(/[\[\(\{]/)?Q(e,S):h()}function Q(e,t){return e=="["?p(d("]"),y(t,"]"),v):e=="("?p(d(")"),y(t,")"),v):e=="{"?p(d("}"),y(t,"}"),v):p()}function G(e,t,n){var r=e.cc;c.state=e,c.stream=t,c.marked=null,c.cc=r;for(;;){var i=r.length?r.pop():w;if(i(s)){while(r.length&&r[r.length-1].lex)r.pop()();return c.marked||n}}}var e=4,t=2,n={"if":"if-style","while":"if-style","else":"else-style","do":"else-style",ret:"else-style",fail:"else-style","break":"atom",cont:"atom","const":"let",resource:"fn",let:"let",fn:"fn","for":"for",alt:"alt",iface:"iface",impl:"impl",type:"type","enum":"enum",mod:"mod",as:"op","true":"atom","false":"atom",assert:"op",check:"op",claim:"op","native":"ignore",unsafe:"ignore","import":"else-style","export":"else-style",copy:"op",log:"op",log_err:"op",use:"op",bind:"op",self:"atom"},r=function(){var e={fn:"fn",block:"fn",obj:"obj"},t="bool uint int i8 i16 i32 i64 u8 u16 u32 u64 float f32 f64 str char".split(" ");for(var n=0,r=t.length;n<r;++n)e[t[n]]="atom";return e}(),i=/[+\-*&%=<>!?|\.@]/,s,o,c={state:null,stream:null,marked:null,cc:null};return v.lex=m.lex=g.lex=!0,{startState:function(){return{tokenize:a,cc:[],lexical:{indented:-e,column:0,type:"top",align:!1},keywords:n,indented:0}},token:function(e,t){e.sol()&&(t.lexical.hasOwnProperty("align")||(t.lexical.align=!1),t.indented=e.indentation());if(e.eatSpace())return null;s=o=null;var n=t.tokenize(e,t);return n=="comment"?n:(t.lexical.hasOwnProperty("align")||(t.lexical.align=!0),s=="prefix"?n:(o||(o=e.current()),G(t,e,n)))},indent:function(n,r){if(n.tokenize!=a)return 0;var i=r&&r.charAt(0),s=n.lexical,o=s.type,u=i==o;return o=="stat"?s.indented+e:s.align?s.column+(u?0:1):s.indented+(u?0:s.info=="alt"?t:e)},electricChars:"{}"}}),CodeMirror.defineMIME("text/x-rustsrc","rust")
;
CodeMirror.defineMode("scheme",function(){function u(e){var t={},n=e.split(" ");for(var r=0;r<n.length;++r)t[n[r]]=!0;return t}function l(e,t,n){this.indent=e,this.type=t,this.prev=n}function c(e,t,n){e.indentStack=new l(t,n,e.indentStack)}function h(e){e.indentStack=e.indentStack.prev}function g(e){return e.match(p)}function y(e){return e.match(d)}function b(e,t){return t===!0&&e.backUp(1),e.match(m)}function w(e){return e.match(v)}var e="builtin",t="comment",n="string",r="atom",i="number",s="bracket",o=2,a=u("λ case-lambda call/cc class define-class exit-handler field import inherit init-field interface let*-values let-values let/ec mixin opt-lambda override protect provide public rename require require-for-syntax syntax syntax-case syntax-error unit/sig unless when with-syntax and begin call-with-current-continuation call-with-input-file call-with-output-file case cond define define-syntax delay do dynamic-wind else for-each if lambda let let* let-syntax letrec letrec-syntax map or syntax-rules abs acos angle append apply asin assoc assq assv atan boolean? caar cadr call-with-input-file call-with-output-file call-with-values car cdddar cddddr cdr ceiling char->integer char-alphabetic? char-ci<=? char-ci<? char-ci=? char-ci>=? char-ci>? char-downcase char-lower-case? char-numeric? char-ready? char-upcase char-upper-case? char-whitespace? char<=? char<? char=? char>=? char>? char? close-input-port close-output-port complex? cons cos current-input-port current-output-port denominator display eof-object? eq? equal? eqv? eval even? exact->inexact exact? exp expt #f floor force gcd imag-part inexact->exact inexact? input-port? integer->char integer? interaction-environment lcm length list list->string list->vector list-ref list-tail list? load log magnitude make-polar make-rectangular make-string make-vector max member memq memv min modulo negative? newline not null-environment null? number->string number? numerator odd? open-input-file open-output-file output-port? pair? peek-char port? positive? procedure? quasiquote quote quotient rational? rationalize read read-char real-part real? remainder reverse round scheme-report-environment set! set-car! set-cdr! sin sqrt string string->list string->number string->symbol string-append string-ci<=? string-ci<? string-ci=? string-ci>=? string-ci>? string-copy string-fill! string-length string-ref string-set! string<=? string<? string=? string>=? string>? string? substring symbol->string symbol? #t tan transcript-off transcript-on truncate values vector vector->list vector-fill! vector-length vector-ref vector-set! with-input-from-file with-output-to-file write write-char zero?"),f=u("define let letrec let* lambda"),p=new RegExp(/^(?:[-+]i|[-+][01]+#*(?:\/[01]+#*)?i|[-+]?[01]+#*(?:\/[01]+#*)?@[-+]?[01]+#*(?:\/[01]+#*)?|[-+]?[01]+#*(?:\/[01]+#*)?[-+](?:[01]+#*(?:\/[01]+#*)?)?i|[-+]?[01]+#*(?:\/[01]+#*)?)(?=[()\s;"]|$)/i),d=new RegExp(/^(?:[-+]i|[-+][0-7]+#*(?:\/[0-7]+#*)?i|[-+]?[0-7]+#*(?:\/[0-7]+#*)?@[-+]?[0-7]+#*(?:\/[0-7]+#*)?|[-+]?[0-7]+#*(?:\/[0-7]+#*)?[-+](?:[0-7]+#*(?:\/[0-7]+#*)?)?i|[-+]?[0-7]+#*(?:\/[0-7]+#*)?)(?=[()\s;"]|$)/i),v=new RegExp(/^(?:[-+]i|[-+][\da-f]+#*(?:\/[\da-f]+#*)?i|[-+]?[\da-f]+#*(?:\/[\da-f]+#*)?@[-+]?[\da-f]+#*(?:\/[\da-f]+#*)?|[-+]?[\da-f]+#*(?:\/[\da-f]+#*)?[-+](?:[\da-f]+#*(?:\/[\da-f]+#*)?)?i|[-+]?[\da-f]+#*(?:\/[\da-f]+#*)?)(?=[()\s;"]|$)/i),m=new RegExp(/^(?:[-+]i|[-+](?:(?:(?:\d+#+\.?#*|\d+\.\d*#*|\.\d+#*|\d+)(?:[esfdl][-+]?\d+)?)|\d+#*\/\d+#*)i|[-+]?(?:(?:(?:\d+#+\.?#*|\d+\.\d*#*|\.\d+#*|\d+)(?:[esfdl][-+]?\d+)?)|\d+#*\/\d+#*)@[-+]?(?:(?:(?:\d+#+\.?#*|\d+\.\d*#*|\.\d+#*|\d+)(?:[esfdl][-+]?\d+)?)|\d+#*\/\d+#*)|[-+]?(?:(?:(?:\d+#+\.?#*|\d+\.\d*#*|\.\d+#*|\d+)(?:[esfdl][-+]?\d+)?)|\d+#*\/\d+#*)[-+](?:(?:(?:\d+#+\.?#*|\d+\.\d*#*|\.\d+#*|\d+)(?:[esfdl][-+]?\d+)?)|\d+#*\/\d+#*)?i|(?:(?:(?:\d+#+\.?#*|\d+\.\d*#*|\.\d+#*|\d+)(?:[esfdl][-+]?\d+)?)|\d+#*\/\d+#*))(?=[()\s;"]|$)/i);return{startState:function(){return{indentStack:null,indentation:0,mode:!1,sExprComment:!1}},token:function(u,l){l.indentStack==null&&u.sol()&&(l.indentation=u.indentation());if(u.eatSpace())return null;var p=null;switch(l.mode){case"string":var d,v=!1;while((d=u.next())!=null){if(d=='"'&&!v){l.mode=!1;break}v=!v&&d=="\\"}p=n;break;case"comment":var d,m=!1;while((d=u.next())!=null){if(d=="#"&&m){l.mode=!1;break}m=d=="|"}p=t;break;case"s-expr-comment":l.mode=!1;if(u.peek()!="("&&u.peek()!="["){u.eatWhile(/[^/s]/),p=t;break}l.sExprComment=0;default:var E=u.next();if(E=='"')l.mode="string",p=n;else if(E=="'")p=r;else if(E=="#")if(u.eat("|"))l.mode="comment",p=t;else if(u.eat(/[tf]/i))p=r;else if(u.eat(";"))l.mode="s-expr-comment",p=t;else{var S=null,x=!1,T=!0;u.eat(/[ei]/i)?x=!0:u.backUp(1),u.match(/^#b/i)?S=g:u.match(/^#o/i)?S=y:u.match(/^#x/i)?S=w:u.match(/^#d/i)?S=b:u.match(/^[-+0-9.]/,!1)?(T=!1,S=b):x||u.eat("#"),S!=null&&(T&&!x&&u.match(/^#[ei]/i),S(u)&&(p=i))}else if(/^[-+0-9.]/.test(E)&&b(u,!0))p=i;else if(E==";")u.skipToEnd(),p=t;else if(E=="("||E=="["){var N="",C=u.column(),k;while((k=u.eat(/[^\s\(\[\;\)\]]/))!=null)N+=k;N.length>0&&f.propertyIsEnumerable(N)?c(l,C+o,E):(u.eatSpace(),u.eol()||u.peek()==";"?c(l,C+1,E):c(l,C+u.current().length,E)),u.backUp(u.current().length-1),typeof l.sExprComment=="number"&&l.sExprComment++,p=s}else E==")"||E=="]"?(p=s,l.indentStack!=null&&l.indentStack.type==(E==")"?"(":"[")&&(h(l),typeof l.sExprComment=="number"&&--l.sExprComment==0&&(p=t,l.sExprComment=!1))):(u.eatWhile(/[\w\$_\-!$%&*+\.\/:<=>?@\^~]/),a&&a.propertyIsEnumerable(u.current())?p=e:p="variable")}return typeof l.sExprComment=="number"?t:p},indent:function(e){return e.indentStack==null?e.indentation:e.indentStack.indent}}}),CodeMirror.defineMIME("text/x-scheme","scheme")
;
CodeMirror.defineMode("shell",function(){function t(t,n){var r=n.split(" ");for(var i=0;i<r.length;i++)e[r[i]]=t}function n(t,n){var o=t.sol(),u=t.next();if(u==="'"||u==='"'||u==="`")return n.tokens.unshift(r(u)),s(t,n);if(u==="#")return o&&t.eat("!")?(t.skipToEnd(),"meta"):(t.skipToEnd(),"comment");if(u==="$")return n.tokens.unshift(i),s(t,n);if(u==="+"||u==="=")return"operator";if(u==="-")return t.eat("-"),t.eatWhile(/\w/),"attribute";if(/\d/.test(u)){t.eatWhile(/\d/);if(!/\w/.test(t.peek()))return"number"}t.eatWhile(/\w/);var a=t.current();return t.peek()==="="&&/\w+/.test(a)?"def":e.hasOwnProperty(a)?e[a]:null}function r(e){return function(t,n){var r,s=!1,o=!1;while((r=t.next())!=null){if(r===e&&!o){s=!0;break}if(r==="$"&&!o&&e!=="'"){o=!0,t.backUp(1),n.tokens.unshift(i);break}o=!o&&r==="\\"}return(s||!o)&&n.tokens.shift(),e==="`"||e===")"?"quote":"string"}}function s(e,t){return(t.tokens[0]||n)(e,t)}var e={};t("atom","true false"),t("keyword","if then do else elif while until for in esac fi fin fil done exit set unset export function"),t("builtin","ab awk bash beep cat cc cd chown chmod chroot clear cp curl cut diff echo find gawk gcc get git grep kill killall ln ls make mkdir openssl mv nc node npm ping ps restart rm rmdir sed service sh shopt shred source sort sleep ssh start stop su sudo tee telnet top touch vi vim wall wc wget who write yes zsh");var i=function(e,t){t.tokens.length>1&&e.eat("$");var n=e.next(),i=/\w/;return n==="{"&&(i=/[^}]/),n==="("?(t.tokens[0]=r(")"),s(e,t)):(/\d/.test(n)||(e.eatWhile(i),e.eat("}")),t.tokens.shift(),"def")};return{startState:function(){return{tokens:[]}},token:function(e,t){return e.eatSpace()?null:s(e,t)}}}),CodeMirror.defineMIME("text/x-sh","shell")
;
CodeMirror.defineMode("sieve",function(e){function t(e){var t={},n=e.split(" ");for(var r=0;r<n.length;++r)t[n[r]]=!0;return t}function s(e,t){var i=e.next();if(i=="/"&&e.eat("*"))return t.tokenize=u,u(e,t);if(i==="#")return e.skipToEnd(),"comment";if(i=='"')return t.tokenize=a(i),t.tokenize(e,t);if(i=="(")return t._indent.push("("),t._indent.push("{"),null;if(i==="{")return t._indent.push("{"),null;i==")"&&(t._indent.pop(),t._indent.pop());if(i==="}")return t._indent.pop(),null;if(i==",")return null;if(i==";")return null;if(/[{}\(\),;]/.test(i))return null;if(/\d/.test(i))return e.eatWhile(/[\d]/),e.eat(/[KkMmGg]/),"number";if(i==":")return e.eatWhile(/[a-zA-Z_]/),e.eatWhile(/[a-zA-Z0-9_]/),"operator";e.eatWhile(/\w/);var s=e.current();return s=="text"&&e.eat(":")?(t.tokenize=o,"string"):n.propertyIsEnumerable(s)?"keyword":r.propertyIsEnumerable(s)?"atom":null}function o(e,t){return t._multiLineString=!0,e.sol()?(e.next()=="."&&e.eol()&&(t._multiLineString=!1,t.tokenize=s),"string"):(e.eatSpace(),e.peek()=="#"?(e.skipToEnd(),"comment"):(e.skipToEnd(),"string"))}function u(e,t){var n=!1,r;while((r=e.next())!=null){if(n&&r=="/"){t.tokenize=s;break}n=r=="*"}return"comment"}function a(e){return function(t,n){var r=!1,i;while((i=t.next())!=null){if(i==e&&!r)break;r=!r&&i=="\\"}return r||(n.tokenize=s),"string"}}var n=t("if elsif else stop require"),r=t("true false not"),i=e.indentUnit;return{startState:function(e){return{tokenize:s,baseIndent:e||0,_indent:[]}},token:function(e,t){return e.eatSpace()?null:(t.tokenize||s)(e,t)},indent:function(e,t){var n=e._indent.length;return t&&t[0]=="}"&&n--,n<0&&(n=0),n*i},electricChars:"}"}}),CodeMirror.defineMIME("application/sieve","sieve")
;
CodeMirror.defineMode("smalltalk",function(e){var t=/[+\-/\\*~<>=@%|&?!.:;^]/,n=/true|false|nil|self|super|thisContext/,r=function(e,t){this.next=e,this.parent=t},i=function(e,t,n){this.name=e,this.context=t,this.eos=n},s=function(){this.context=new r(o,null),this.expectVariable=!0,this.indentation=0,this.userIndentationDelta=0};s.prototype.userIndent=function(t){this.userIndentationDelta=t>0?t/e.indentUnit-this.indentation:0};var o=function(e,s,o){var l=new i(null,s,!1),c=e.next();return c==='"'?l=u(e,new r(u,s)):c==="'"?l=a(e,new r(a,s)):c==="#"?(e.eatWhile(/[^ .]/),l.name="string-2"):c==="$"?(e.eatWhile(/[^ ]/),l.name="string-2"):c==="|"&&o.expectVariable?l.context=new r(f,s):/[\[\]{}()]/.test(c)?(l.name="bracket",l.eos=/[\[{(]/.test(c),c==="["?o.indentation++:c==="]"&&(o.indentation=Math.max(0,o.indentation-1))):t.test(c)?(e.eatWhile(t),l.name="operator",l.eos=c!==";"):/\d/.test(c)?(e.eatWhile(/[\w\d]/),l.name="number"):/[\w_]/.test(c)?(e.eatWhile(/[\w\d_]/),l.name=o.expectVariable?n.test(e.current())?"keyword":"variable":null):l.eos=o.expectVariable,l},u=function(e,t){return e.eatWhile(/[^"]/),new i("comment",e.eat('"')?t.parent:t,!0)},a=function(e,t){return e.eatWhile(/[^']/),new i("string",e.eat("'")?t.parent:t,!1)},f=function(e,t){var n=new i(null,t,!1),r=e.next();return r==="|"?(n.context=t.parent,n.eos=!0):(e.eatWhile(/[^|]/),n.name="variable"),n};return{startState:function(){return new s},token:function(e,t){t.userIndent(e.indentation());if(e.eatSpace())return null;var n=t.context.next(e,t.context,t);return t.context=n.context,t.expectVariable=n.eos,t.lastToken=n,n.name},blankLine:function(e){e.userIndent(0)},indent:function(t,n){var r=t.context.next===o&&n&&n.charAt(0)==="]"?-1:t.userIndentationDelta;return(t.indentation+r)*e.indentUnit},electricChars:"]"}}),CodeMirror.defineMIME("text/x-stsrc",{name:"smalltalk"})
;
CodeMirror.defineMode("smarty",function(e){function o(e,t){return n=t,e}function u(e,t){function n(n){return t.tokenize=n,n(e,t)}return e.match(i,!0)?e.eat("*")?n(l("comment","*"+s)):(t.tokenize=a,"tag"):(e.next(),null)}function a(e,i){if(e.match(s,!0))return i.tokenize=u,o("tag",null);var a=e.next();if(a=="$")return e.eatWhile(r.validIdentifier),o("variable-2","variable");if(a==".")return o("operator","property");if(r.stringChar.test(a))return i.tokenize=f(a),o("string","string");if(r.operatorChars.test(a))return e.eatWhile(r.operatorChars),o("operator","operator");if(a=="["||a=="]")return o("bracket","bracket");if(/\d/.test(a))return e.eatWhile(/\d/),o("number","number");if(i.last=="variable"){if(a=="@")return e.eatWhile(r.validIdentifier),o("property","property");if(a=="|")return e.eatWhile(r.validIdentifier),o("qualifier","modifier")}else{if(i.last=="whitespace")return e.eatWhile(r.validIdentifier),o("attribute","modifier");if(i.last=="property")return e.eatWhile(r.validIdentifier),o("property",null);if(/\s/.test(a))return n="whitespace",null}var l="";a!="/"&&(l+=a);var c="";while(c=e.eat(r.validIdentifier))l+=c;var h,p;for(h=0,p=t.length;h<p;h++)if(t[h]==l)return o("keyword","keyword");return/\s/.test(a)?null:o("tag","tag")}function f(e){return function(t,n){while(!t.eol())if(t.next()==e){n.tokenize=a;break}return"string"}}function l(e,t){return function(n,r){while(!n.eol()){if(n.match(t)){r.tokenize=u;break}n.next()}return e}}var t=["debug","extends","function","include","literal"],n,r={operatorChars:/[+\-*&%=<>!?]/,validIdentifier:/[a-zA-Z0-9\_]/,stringChar:/[\'\"]/},i=typeof e.mode.leftDelimiter!="undefined"?e.mode.leftDelimiter:"{",s=typeof e.mode.rightDelimiter!="undefined"?e.mode.rightDelimiter:"}";return{startState:function(){return{tokenize:u,mode:"smarty",last:null}},token:function(e,t){var r=t.tokenize(e,t);return t.last=n,r},electricChars:""}}),CodeMirror.defineMIME("text/x-smarty","smarty")
;
CodeMirror.defineMode("sparql",function(e){function r(e){return new RegExp("^(?:"+e.join("|")+")$","i")}function u(e,t){var r=e.next();n=null;if(r=="$"||r=="?")return e.match(/^[\w\d]*/),"variable-2";if(r=="<"&&!e.match(/^[\s\u00a0=]/,!1))return e.match(/^[^\s\u00a0>]*>?/),"atom";if(r=='"'||r=="'")return t.tokenize=a(r),t.tokenize(e,t);if(/[{}\(\),\.;\[\]]/.test(r))return n=r,null;if(r=="#")return e.skipToEnd(),"comment";if(o.test(r))return e.eatWhile(o),null;if(r==":")return e.eatWhile(/[\w\d\._\-]/),"atom";e.eatWhile(/[_\w\d]/);if(e.eat(":"))return e.eatWhile(/[\w\d_\-]/),"atom";var u=e.current();return i.test(u)?null:s.test(u)?"keyword":"variable"}function a(e){return function(t,n){var r=!1,i;while((i=t.next())!=null){if(i==e&&!r){n.tokenize=u;break}r=!r&&i=="\\"}return"string"}}function f(e,t,n){e.context={prev:e.context,indent:e.indent,col:n,type:t}}function l(e){e.indent=e.context.indent,e.context=e.context.prev}var t=e.indentUnit,n,i=r(["str","lang","langmatches","datatype","bound","sameterm","isiri","isuri","isblank","isliteral","union","a"]),s=r(["base","prefix","select","distinct","reduced","construct","describe","ask","from","named","where","order","limit","offset","filter","optional","graph","by","asc","desc"]),o=/[*+\-<>=&|]/;return{startState:function(){return{tokenize:u,context:null,indent:0,col:0}},token:function(e,t){e.sol()&&(t.context&&t.context.align==null&&(t.context.align=!1),t.indent=e.indentation());if(e.eatSpace())return null;var r=t.tokenize(e,t);r!="comment"&&t.context&&t.context.align==null&&t.context.type!="pattern"&&(t.context.align=!0);if(n=="(")f(t,")",e.column());else if(n=="[")f(t,"]",e.column());else if(n=="{")f(t,"}",e.column());else if(/[\]\}\)]/.test(n)){while(t.context&&t.context.type=="pattern")l(t);t.context&&n==t.context.type&&l(t)}else n=="."&&t.context&&t.context.type=="pattern"?l(t):/atom|string|variable/.test(r)&&t.context&&(/[\}\]]/.test(t.context.type)?f(t,"pattern",e.column()):t.context.type=="pattern"&&!t.context.align&&(t.context.align=!0,t.context.col=e.column()));return r},indent:function(e,n){var r=n&&n.charAt(0),i=e.context;if(/[\]\}]/.test(r))while(i&&i.type=="pattern")i=i.prev;var s=i&&r==i.type;return i?i.type=="pattern"?i.col:i.align?i.col+(s?0:1):i.indent+(s?0:t):0}}}),CodeMirror.defineMIME("application/x-sparql-query","sparql")
;
CodeMirror.defineMode("stex",function(){function e(e,t){e.cmdState.push(t)}function t(e){return e.cmdState.length>0?e.cmdState[e.cmdState.length-1]:null}function n(e){if(e.cmdState.length>0){var t=e.cmdState.pop();t.closeBracket()}}function r(e){var t=e.cmdState;for(var n=t.length-1;n>=0;n--){var r=t[n];if(r.name=="DEFAULT")continue;return r.styleIdentifier()}return null}function i(e,t,n,r){return function(){this.name=e,this.bracketNo=0,this.style=t,this.styles=r,this.brackets=n,this.styleIdentifier=function(){return this.bracketNo<=this.styles.length?this.styles[this.bracketNo-1]:null},this.openBracket=function(){return this.bracketNo++,"bracket"},this.closeBracket=function(){}}}function o(e,t){e.f=t}function u(n,i){if(n.match(/^\\[a-zA-Z@]+/)){var u=n.current();u=u.substr(1,u.length-1);var l;return s.hasOwnProperty(u)?l=s[u]:l=s.DEFAULT,l=new l,e(i,l),o(i,f),l.style}if(n.match(/^\\[$&%#{}_]/))return"tag";if(n.match(/^\\[,;!\/]/))return"tag";var c=n.next();if(c=="%")return n.eol()||o(i,a),"comment";if(c=="}"||c=="]")return l=t(i),l?(l.closeBracket(c),o(i,f),"bracket"):"error";return c=="{"||c=="["?(l=s.DEFAULT,l=new l,e(i,l),"bracket"):/\d/.test(c)?(n.eatWhile(/[\w.%]/),"atom"):(n.eatWhile(/[\w-_]/),r(i))}function a(e,t){return e.skipToEnd(),o(t,u),"comment"}function f(e,r){var i=e.peek();if(i=="{"||i=="["){var s=t(r);return s.openBracket(i),e.eat(i),o(r,u),"bracket"}return/[ \t\r]/.test(i)?(e.eat(i),null):(o(r,u),s=t(r),s&&n(r),u(e,r))}var s=new Array;return s.importmodule=i("importmodule","tag","{[",["string","builtin"]),s.documentclass=i("documentclass","tag","{[",["","atom"]),s.usepackage=i("documentclass","tag","[",["atom"]),s.begin=i("documentclass","tag","[",["atom"]),s.end=i("documentclass","tag","[",["atom"]),s.DEFAULT=function(){this.name="DEFAULT",this.style="tag",this.styleIdentifier=this.openBracket=this.closeBracket=function(){}},{startState:function(){return{f:u,cmdState:[]}},copyState:function(e){return{f:e.f,cmdState:e.cmdState.slice(0,e.cmdState.length)}},token:function(e,t){var n=t.f(e,t);return n}}}),CodeMirror.defineMIME("text/x-stex","stex"),CodeMirror.defineMIME("text/x-latex","stex")
;
CodeMirror.defineMode("tiddlywiki",function(){function d(e,t,n){return t.tokenize=n,n(e,t)}function g(e,t,n){return v=e,m=n,t}function y(t,h){var p=t.sol(),v;h.block=!1,v=t.peek();if(p&&/[<\/\*{}\-]/.test(v)){if(t.match(c))return h.block=!0,d(t,h,E);if(t.match(o))return g("quote","quote");if(t.match(i)||t.match(s))return g("code","comment");if(t.match(u)||t.match(a)||t.match(f)||t.match(l))return g("code","comment");if(t.match(r))return g("hr","hr")}v=t.next();if(p&&/[\/\*!#;:>|]/.test(v)){if(v=="!")return t.skipToEnd(),g("header","header");if(v=="*")return t.eatWhile("*"),g("list","comment");if(v=="#")return t.eatWhile("#"),g("list","comment");if(v==";")return t.eatWhile(";"),g("list","comment");if(v==":")return t.eatWhile(":"),g("list","comment");if(v==">")return t.eatWhile(">"),g("quote","quote");if(v=="|")return g("table","header")}if(v=="{"&&t.match(/\{\{/))return d(t,h,E);if(/[hf]/i.test(v)&&/[ti]/i.test(t.peek())&&t.match(/\b(ttps?|tp|ile):\/\/[\-A-Z0-9+&@#\/%?=~_|$!:,.;]*[A-Z0-9+&@#\/%=~_|$]/i))return g("link","link");if(v=='"')return g("string","string");if(v=="~")return g("text","brace");if(/[\[\]]/.test(v)&&t.peek()==v)return t.next(),g("brace","brace");if(v=="@")return t.eatWhile(n),g("link","link");if(/\d/.test(v))return t.eatWhile(/\d/),g("number","number");if(v=="/"){if(t.eat("%"))return d(t,h,b);if(t.eat("/"))return d(t,h,S)}if(v=="_"&&t.eat("_"))return d(t,h,x);if(v=="-"&&t.eat("-")){if(t.peek()!=" ")return d(t,h,T);if(t.peek()==" ")return g("text","brace")}if(v=="'"&&t.eat("'"))return d(t,h,w);if(v!="<")return g(v);if(t.eat("<"))return d(t,h,N);t.eatWhile(/[\w\$_]/);var m=t.current(),y=e.propertyIsEnumerable(m)&&e[m];return y?g(y.type,y.style,m):g("text",null,m)}function b(e,t){var n=!1,r;while(r=e.next()){if(r=="/"&&n){t.tokenize=y;break}n=r=="%"}return g("comment","comment")}function w(e,t){var n=!1,r;while(r=e.next()){if(r=="'"&&n){t.tokenize=y;break}n=r=="'"}return g("text","strong")}function E(e,t){var n,r=t.block;return r&&e.current()?g("code","comment"):!r&&e.match(p)?(t.tokenize=y,g("code","comment")):r&&e.sol()&&e.match(h)?(t.tokenize=y,g("code","comment")):(n=e.next(),r?g("code","comment"):g("code","comment"))}function S(e,t){var n=!1,r;while(r=e.next()){if(r=="/"&&n){t.tokenize=y;break}n=r=="/"}return g("text","em")}function x(e,t){var n=!1,r;while(r=e.next()){if(r=="_"&&n){t.tokenize=y;break}n=r=="_"}return g("text","underlined")}function T(e,t){var n=!1,r;while(r=e.next()){if(r=="-"&&n){t.tokenize=y;break}n=r=="-"}return g("text","strikethrough")}function N(e,n){var r,i,s;return e.current()=="<<"?g("brace","macro"):(r=e.next(),r?r==">"&&e.peek()==">"?(e.next(),n.tokenize=y,g("brace","macro")):(e.eatWhile(/[\w\$_]/),i=e.current(),s=t.propertyIsEnumerable(i)&&t[i],s?g(s.type,s.style,i):g("macro",null,i)):(n.tokenize=y,g(r)))}var e={},t=function(){function e(e){return{type:e,style:"macro"}}return{allTags:e("allTags"),closeAll:e("closeAll"),list:e("list"),newJournal:e("newJournal"),newTiddler:e("newTiddler"),permaview:e("permaview"),saveChanges:e("saveChanges"),search:e("search"),slider:e("slider"),tabs:e("tabs"),tag:e("tag"),tagging:e("tagging"),tags:e("tags"),tiddler:e("tiddler"),timeline:e("timeline"),today:e("today"),version:e("version"),option:e("option"),"with":e("with"),filter:e("filter")}}(),n=/[\w_\-]/i,r=/^\-\-\-\-+$/,i=/^\/\*\*\*$/,s=/^\*\*\*\/$/,o=/^<<<$/,u=/^\/\/\{\{\{$/,a=/^\/\/\}\}\}$/,f=/^<!--\{\{\{-->$/,l=/^<!--\}\}\}-->$/,c=/^\{\{\{$/,h=/^\}\}\}$/,p=/.*?\}\}\}/,v,m;return{startState:function(){return{tokenize:y,indented:0,level:0}},token:function(e,t){if(e.eatSpace())return null;var n=t.tokenize(e,t);return n},electricChars:""}}),CodeMirror.defineMIME("text/x-tiddlywiki","tiddlywiki")
;
CodeMirror.defineMode("tiki",function(e){function t(e,t,n){return function(i,s){while(!i.eol()){if(i.match(t)){s.tokenize=r;break}i.next()}return n&&(s.tokenize=n),e}}function n(e){return function(t,n){while(!t.eol())t.next();return n.tokenize=r,e}}function r(e,i){function s(t){return i.tokenize=t,t(e,i)}var o=e.sol(),a=e.next();switch(a){case"{":e.eat("/"),e.eatSpace();var f="",l;while(l=e.eat(/[^\s\u00a0=\"\'\/?(}]/))f+=l;return i.tokenize=u,"tag";case"_":if(e.eat("_"))return s(t("strong","__",r));break;case"'":if(e.eat("'"))return s(t("em","''",r));break;case"(":if(e.eat("("))return s(t("variable-2","))",r));break;case"[":return s(t("variable-3","]",r));case"|":if(e.eat("|"))return s(t("comment","||"));break;case"-":if(e.eat("="))return s(t("header string","=-",r));if(e.eat("-"))return s(t("error tw-deleted","--",r));break;case"=":if(e.match("=="))return s(t("tw-underline","===",r));break;case":":if(e.eat(":"))return s(t("comment","::"));break;case"^":return s(t("tw-box","^"));case"~":if(e.match("np~"))return s(t("meta","~/np~"))}if(o)switch(a){case"!":return e.match("!!!!!")?s(n("header string")):e.match("!!!!")?s(n("header string")):e.match("!!!")?s(n("header string")):e.match("!!")?s(n("header string")):s(n("header string"));case"*":case"#":case"+":return s(n("tw-listitem bracket"))}return null}function u(e,t){var n=e.next(),i=e.peek();return n=="}"?(t.tokenize=r,"tag"):n=="("||n==")"?"bracket":n=="="?(o="equals",i==">"&&(n=e.next(),i=e.peek()),/[\'\"]/.test(i)||(t.tokenize=f()),"operator"):/[\'\"]/.test(n)?(t.tokenize=a(n),t.tokenize(e,t)):(e.eatWhile(/[^\s\u00a0=\"\'\/?]/),"keyword")}function a(e){return function(t,n){while(!t.eol())if(t.next()==e){n.tokenize=u;break}return"string"}}function f(){return function(e,t){while(!e.eol()){var n=e.next(),r=e.peek();if(n==" "||n==","||/[ )}]/.test(r)){t.tokenize=u;break}}return"string"}}function h(){for(var e=arguments.length-1;e>=0;e--)l.cc.push(arguments[e])}function p(){return h.apply(null,arguments),!0}function d(e,t){var n=l.context&&l.context.noIndent;l.context={prev:l.context,pluginName:e,indent:l.indented,startOfLine:t,noIndent:n}}function v(){l.context&&(l.context=l.context.prev)}function m(e){if(e=="openPlugin")return l.pluginName=s,p(b,g(l.startOfLine));if(e=="closePlugin"){var t=!1;return l.context?(t=l.context.pluginName!=s,v()):t=!0,t&&(c="error"),p(y(t))}return e=="string"?((!l.context||l.context.name!="!cdata")&&d("!cdata"),l.tokenize==r&&v(),p()):p()}function g(e){return function(t){return t=="selfclosePlugin"||t=="endPlugin"?p():t=="endPlugin"?(d(l.pluginName,e),p()):p()}}function y(e){return function(t){return e&&(c="error"),t=="endPlugin"?p():h()}}function b(e){return e=="keyword"?(c="attribute",p(b)):e=="equals"?p(w,b):h()}function w(e){return e=="keyword"?(c="string",p()):e=="string"?p(E):h()}function E(e){return e=="string"?p(E):h()}var i=e.indentUnit,s,o,l,c;return{startState:function(){return{tokenize:r,cc:[],indented:0,startOfLine:!0,pluginName:null,context:null}},token:function(e,t){e.sol()&&(t.startOfLine=!0,t.indented=e.indentation());if(e.eatSpace())return null;c=o=s=null;var n=t.tokenize(e,t);if((n||o)&&n!="comment"){l=t;for(;;){var r=t.cc.pop()||m;if(r(o||n))break}}return t.startOfLine=!1,c||n},indent:function(e,t){var n=e.context;if(n&&n.noIndent)return 0;n&&/^{\//.test(t)&&(n=n.prev);while(n&&!n.startOfLine)n=n.prev;return n?n.indent+i:0},electricChars:"/"}}),CodeMirror.defineMIME("text/tiki","tiki")
;
CodeMirror.defineMode("vb",function(e,t){function r(e){return new RegExp("^(("+e.join(")|(")+"))\\b","i")}function N(e,t){t.currentIndent++}function C(e,t){t.currentIndent--}function k(e,t){if(e.eatSpace())return null;var r=e.peek();if(r==="'")return e.skipToEnd(),"comment";if(e.match(/^((&H)|(&O))?[0-9\.a-f]/i,!1)){var l=!1;e.match(/^\d*\.\d+F?/i)?l=!0:e.match(/^\d+\.\d*F?/)?l=!0:e.match(/^\.\d+F?/)&&(l=!0);if(l)return e.eat(/J/i),"number";var c=!1;e.match(/^&H[0-9a-f]+/i)?c=!0:e.match(/^&O[0-7]+/i)?c=!0:e.match(/^[1-9]\d*F?/)?(e.eat(/J/i),c=!0):e.match(/^0(?![\dx])/i)&&(c=!0);if(c)return e.eat(/L/i),"number"}return e.match(y)?(t.tokenize=L(e.current()),t.tokenize(e,t)):e.match(a)||e.match(u)?null:e.match(o)||e.match(i)||e.match(p)?"operator":e.match(s)?null:e.match(x)?(N(e,t),t.doInCurrentLine=!0,"keyword"):e.match(b)?(t.doInCurrentLine?t.doInCurrentLine=!1:N(e,t),"keyword"):e.match(w)?"keyword":e.match(S)?(C(e,t),C(e,t),"keyword"):e.match(E)?(C(e,t),"keyword"):e.match(g)?"keyword":e.match(m)?"keyword":e.match(f)?"variable":(e.next(),n)}function L(e){var r=e.length==1,i="string";return function(s,o){while(!s.eol()){s.eatWhile(/[^'"]/);if(s.match(e))return o.tokenize=k,i;s.eat(/['"]/)}if(r){if(t.singleLineStringErrors)return n;o.tokenize=k}return i}}function A(e,t){var r=t.tokenize(e,t),i=e.current();if(i===".")return r=t.tokenize(e,t),i=e.current(),r==="variable"?"variable":n;var s="[({".indexOf(i);return s!==-1&&N(e,t),T==="dedent"&&C(e,t)?n:(s="])}".indexOf(i),s!==-1&&C(e,t)?n:r)}var n="error",i=new RegExp("^[\\+\\-\\*/%&\\\\|\\^~<>!]"),s=new RegExp("^[\\(\\)\\[\\]\\{\\}@,:`=;\\.]"),o=new RegExp("^((==)|(<>)|(<=)|(>=)|(<>)|(<<)|(>>)|(//)|(\\*\\*))"),u=new RegExp("^((\\+=)|(\\-=)|(\\*=)|(%=)|(/=)|(&=)|(\\|=)|(\\^=))"),a=new RegExp("^((//=)|(>>=)|(<<=)|(\\*\\*=))"),f=new RegExp("^[_A-Za-z][_A-Za-z0-9]*"),l=["class","module","sub","enum","select","while","if","function","get","set","property","try"],c=["else","elseif","case","catch"],h=["next","loop"],p=r(["and","or","not","xor","in"]),d=["as","dim","break","continue","optional","then","until","goto","byval","byref","new","handles","property","return","const","private","protected","friend","public","shared","static","true","false"],v=["integer","string","double","decimal","boolean","short","char","float","single"],m=r(d),g=r(v),y='"',b=r(l),w=r(c),E=r(h),S=r(["end"]),x=r(["do"]),T=null,O={electricChars:"dDpPtTfFeE ",startState:function(){return{tokenize:k,lastToken:null,currentIndent:0,nextLineIndent:0,doInCurrentLine:!1}},token:function(e,t){e.sol()&&(t.currentIndent+=t.nextLineIndent,t.nextLineIndent=0,t.doInCurrentLine=0);var n=A(e,t);return t.lastToken={style:n,content:e.current()},n},indent:function(t,n){var r=n.replace(/^\s+|\s+$/g,"");return r.match(E)||r.match(S)||r.match(w)?e.indentUnit*(t.currentIndent-1):t.currentIndent<0?0:t.currentIndent*e.indentUnit}};return O}),CodeMirror.defineMIME("text/x-vb","vb")
;
CodeMirror.defineMode("vbscript",function(){var e=/^(?:Call|Case|CDate|Clear|CInt|CLng|Const|CStr|Description|Dim|Do|Each|Else|ElseIf|End|Err|Error|Exit|False|For|Function|If|LCase|Loop|LTrim|Next|Nothing|Now|Number|On|Preserve|Quit|ReDim|Resume|RTrim|Select|Set|Sub|Then|To|Trim|True|UBound|UCase|Until|VbCr|VbCrLf|VbLf|VbTab)$/im;return{token:function(t){if(t.eatSpace())return null;var n=t.next();if(n=="'")return t.skipToEnd(),"comment";if(n=='"')return t.skipTo('"'),"string";if(/\w/.test(n)){t.eatWhile(/\w/);if(e.test(t.current()))return"keyword"}return null}}}),CodeMirror.defineMIME("text/vbscript","vbscript")
;
CodeMirror.defineMode("velocity",function(){function e(e){var t={},n=e.split(" ");for(var r=0;r<n.length;++r)t[n[r]]=!0;return t}function s(e,t,n){return t.tokenize=n,n(e,t)}function o(e,o){var l=o.beforeParams;o.beforeParams=!1;var c=e.next();if(c!='"'&&c!="'"||!o.inParams){if(/[\[\]{}\(\),;\.]/.test(c))return c=="("&&l?o.inParams=!0:c==")"&&(o.inParams=!1),null;if(/\d/.test(c))return e.eatWhile(/[\w\.]/),"number";if(c=="#"&&e.eat("*"))return s(e,o,a);if(c=="#"&&e.match(/ *\[ *\[/))return s(e,o,f);if(c=="#"&&e.eat("#"))return e.skipToEnd(),"comment";if(c=="$")return e.eatWhile(/[\w\d\$_\.{}]/),r&&r.propertyIsEnumerable(e.current().toLowerCase())?"keyword":(o.beforeParams=!0,"builtin");if(i.test(c))return e.eatWhile(i),"operator";e.eatWhile(/[\w\$_{}]/);var h=e.current().toLowerCase();return t&&t.propertyIsEnumerable(h)?"keyword":n&&n.propertyIsEnumerable(h)||e.current().match(/^#[a-z0-9_]+ *$/i)&&e.peek()=="("?(o.beforeParams=!0,"keyword"):null}return s(e,o,u(c))}function u(e){return function(t,n){var r=!1,i,s=!1;while((i=t.next())!=null){if(i==e&&!r){s=!0;break}r=!r&&i=="\\"}return s&&(n.tokenize=o),"string"}}function a(e,t){var n=!1,r;while(r=e.next()){if(r=="#"&&n){t.tokenize=o;break}n=r=="*"}return"comment"}function f(e,t){var n=0,r;while(r=e.next()){if(r=="#"&&n==2){t.tokenize=o;break}r=="]"?n++:r!=" "&&(n=0)}return"meta"}var t=e("#end #else #break #stop #[[ #]] #{end} #{else} #{break} #{stop}"),n=e("#if #elseif #foreach #set #include #parse #macro #define #evaluate #{if} #{elseif} #{foreach} #{set} #{include} #{parse} #{macro} #{define} #{evaluate}"),r=e("$foreach.count $foreach.hasNext $foreach.first $foreach.last $foreach.topmost $foreach.parent $velocityCount"),i=/[+\-*&%=<>!?:\/|]/;return{startState:function(){return{tokenize:o,beforeParams:!1,inParams:!1}},token:function(e,t){return e.eatSpace()?null:t.tokenize(e,t)}}}),CodeMirror.defineMIME("text/velocity","velocity")
;
CodeMirror.defineMode("verilog",function(e,t){function l(e,t){var n=e.next();if(o[n]){var u=o[n](e,t);if(u!==!1)return u}if(n=='"')return t.tokenize=c(n),t.tokenize(e,t);if(/[\[\]{}\(\),;\:\.]/.test(n))return f=n,null;if(/[\d']/.test(n))return e.eatWhile(/[\w\.']/),"number";if(n=="/"){if(e.eat("*"))return t.tokenize=h,h(e,t);if(e.eat("/"))return e.skipToEnd(),"comment"}if(a.test(n))return e.eatWhile(a),"operator";e.eatWhile(/[\w\$_]/);var l=e.current();return r.propertyIsEnumerable(l)?(i.propertyIsEnumerable(l)&&(f="newstatement"),"keyword"):s.propertyIsEnumerable(l)?"atom":"variable"}function c(e){return function(t,n){var r=!1,i,s=!1;while((i=t.next())!=null){if(i==e&&!r){s=!0;break}r=!r&&i=="\\"}if(s||!r&&!u)n.tokenize=l;return"string"}}function h(e,t){var n=!1,r;while(r=e.next()){if(r=="/"&&n){t.tokenize=l;break}n=r=="*"}return"comment"}function p(e,t,n,r,i){this.indented=e,this.column=t,this.type=n,this.align=r,this.prev=i}function d(e,t,n){return e.context=new p(e.indented,t,n,null,e.context)}function v(e){var t=e.context.type;if(t==")"||t=="]"||t=="}")e.indented=e.context.indented;return e.context=e.context.prev}var n=e.indentUnit,r=t.keywords||{},i=t.blockKeywords||{},s=t.atoms||{},o=t.hooks||{},u=t.multiLineStrings,a=/[&|~><!\)\(*#%@+\/=?\:;}{,\.\^\-\[\]]/,f;return{startState:function(e){return{tokenize:null,context:new p((e||0)-n,0,"top",!1),indented:0,startOfLine:!0}},token:function(e,t){var n=t.context;e.sol()&&(n.align==null&&(n.align=!1),t.indented=e.indentation(),t.startOfLine=!0);if(e.eatSpace())return null;f=null;var r=(t.tokenize||l)(e,t);if(r=="comment"||r=="meta")return r;n.align==null&&(n.align=!0);if(f!=";"&&f!=":"||n.type!="statement")if(f=="{")d(t,e.column(),"}");else if(f=="[")d(t,e.column(),"]");else if(f=="(")d(t,e.column(),")");else if(f=="}"){while(n.type=="statement")n=v(t);n.type=="}"&&(n=v(t));while(n.type=="statement")n=v(t)}else f==n.type?v(t):(n.type=="}"||n.type=="top"||n.type=="statement"&&f=="newstatement")&&d(t,e.column(),"statement");else v(t);return t.startOfLine=!1,r},indent:function(e,t){if(e.tokenize!=l&&e.tokenize!=null)return 0;var r=t&&t.charAt(0),i=e.context,s=r==i.type;return i.type=="statement"?i.indented+(r=="{"?0:n):i.align?i.column+(s?0:1):i.indented+(s?0:n)},electricChars:"{}"}}),function(){function e(e){var t={},n=e.split(" ");for(var r=0;r<n.length;++r)t[n[r]]=!0;return t}function r(e){return e.eatWhile(/[\w\$_]/),"meta"}var t="always and assign automatic begin buf bufif0 bufif1 case casex casez cell cmos config deassign default defparam design disable edge else end endcase endconfig endfunction endgenerate endmodule endprimitive endspecify endtable endtask event for force forever fork function generate genvar highz0 highz1 if ifnone incdir include initial inout input instance integer join large liblist library localparam macromodule medium module nand negedge nmos nor noshowcancelled not notif0 notif1 or output parameter pmos posedge primitive pull0 pull1 pulldown pullup pulsestyle_onevent pulsestyle_ondetect rcmos real realtime reg release repeat rnmos rpmos rtran rtranif0 rtranif1 scalared showcancelled signed small specify specparam strong0 strong1 supply0 supply1 table task time tran tranif0 tranif1 tri tri0 tri1 triand trior trireg unsigned use vectored wait wand weak0 weak1 while wire wor xnor xor",n="begin bufif0 bufif1 case casex casez config else end endcase endconfig endfunction endgenerate endmodule endprimitive endspecify endtable endtask for forever function generate if ifnone macromodule module primitive repeat specify table task while";CodeMirror.defineMIME("text/x-verilog",{name:"verilog",keywords:e(t),blockKeywords:e(n),atoms:e("null"),hooks:{"`":r,$:r}})}()
;
CodeMirror.defineMode("xml",function(e,t){function u(e,t){function n(n){return t.tokenize=n,n(e,t)}var r=e.next();if(r=="<"){if(e.eat("!"))return e.eat("[")?e.match("CDATA[")?n(l("atom","]]>")):null:e.match("--")?n(l("comment","-->")):e.match("DOCTYPE",!0,!0)?(e.eatWhile(/[\w\._\-]/),n(c(1))):null;if(e.eat("?"))return e.eatWhile(/[\w\._\-]/),t.tokenize=l("meta","?>"),"meta";var i=e.eat("/");s="";var u;while(u=e.eat(/[^\s\u00a0=<>\"\'\/?]/))s+=u;return s?(o=i?"closeTag":"openTag",t.tokenize=a,"tag"):"error"}if(r=="&"){var f;return e.eat("#")?e.eat("x")?f=e.eatWhile(/[a-fA-F\d]/)&&e.eat(";"):f=e.eatWhile(/[\d]/)&&e.eat(";"):f=e.eatWhile(/[\w\.\-:]/)&&e.eat(";"),f?"atom":"error"}return e.eatWhile(/[^&<]/),null}function a(e,t){var n=e.next();return n==">"||n=="/"&&e.eat(">")?(t.tokenize=u,o=n==">"?"endTag":"selfcloseTag","tag"):n=="="?(o="equals",null):/[\'\"]/.test(n)?(t.tokenize=f(n),t.tokenize(e,t)):(e.eatWhile(/[^\s\u00a0=<>\"\']/),"word")}function f(e){return function(t,n){while(!t.eol())if(t.next()==e){n.tokenize=a;break}return"string"}}function l(e,t){return function(n,r){while(!n.eol()){if(n.match(t)){r.tokenize=u;break}n.next()}return e}}function c(e){return function(t,n){var r;while((r=t.next())!=null){if(r=="<")return n.tokenize=c(e+1),n.tokenize(t,n);if(r==">"){if(e==1){n.tokenize=u;break}return n.tokenize=c(e-1),n.tokenize(t,n)}}return"meta"}}function d(){for(var e=arguments.length-1;e>=0;e--)h.cc.push(arguments[e])}function v(){return d.apply(null,arguments),!0}function m(e,t){var n=r.doNotIndent.hasOwnProperty(e)||h.context&&h.context.noIndent;h.context={prev:h.context,tagName:e,indent:h.indented,startOfLine:t,noIndent:n}}function g(){h.context&&(h.context=h.context.prev)}function y(e){if(e=="openTag")return h.tagName=s,v(S,b(h.startOfLine));if(e=="closeTag"){var t=!1;return h.context?h.context.tagName!=s&&(r.implicitlyClosed.hasOwnProperty(h.context.tagName.toLowerCase())&&g(),t=!h.context||h.context.tagName!=s):t=!0,t&&(p="error"),v(w(t))}return v()}function b(e){return function(t){var n=h.tagName;return h.tagName=null,t=="selfcloseTag"||t=="endTag"&&r.autoSelfClosers.hasOwnProperty(n.toLowerCase())?(E(n.toLowerCase()),v()):t=="endTag"?(E(n.toLowerCase()),m(n,e),v()):v()}}function w(e){return function(t){return e&&(p="error"),t=="endTag"?(g(),v()):(p="error",v(arguments.callee))}}function E(e){var t;for(;;){if(!h.context)return;t=h.context.tagName.toLowerCase();if(!r.contextGrabbers.hasOwnProperty(t)||!r.contextGrabbers[t].hasOwnProperty(e))return;g()}}function S(e){return e=="word"?(p="attribute",v(x,S)):e=="endTag"||e=="selfcloseTag"?d():(p="error",v(S))}function x(e){return e=="equals"?v(T,S):(r.allowMissing?e=="word"&&(p="attribute"):p="error",e=="endTag"||e=="selfcloseTag"?d():v())}function T(e){return e=="string"?v(N):e=="word"&&r.allowUnquoted?(p="string",v()):(p="error",e=="endTag"||e=="selfCloseTag"?d():v())}function N(e){return e=="string"?v(N):d()}var n=e.indentUnit,r=t.htmlMode?{autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0}:{autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1},i=t.alignCDATA,s,o,h,p;return{startState:function(){return{tokenize:u,cc:[],indented:0,startOfLine:!0,tagName:null,context:null}},token:function(e,t){e.sol()&&(t.startOfLine=!0,t.indented=e.indentation());if(e.eatSpace())return null;p=o=s=null;var n=t.tokenize(e,t);t.type=o;if((n||o)&&n!="comment"){h=t;for(;;){var r=t.cc.pop()||y;if(r(o||n))break}}return t.startOfLine=!1,p||n},indent:function(e,t,r){var s=e.context;if(e.tokenize!=a&&e.tokenize!=u||s&&s.noIndent)return r?r.match(/^(\s*)/)[0].length:0;if(i&&/<!\[CDATA\[/.test(t))return 0;s&&/^<\//.test(t)&&(s=s.prev);while(s&&!s.startOfLine)s=s.prev;return s?s.indent+n:0},electricChars:"/",configuration:t.htmlMode?"html":"xml"}}),CodeMirror.defineMIME("text/xml","xml"),CodeMirror.defineMIME("application/xml","xml"),CodeMirror.mimeModes.hasOwnProperty("text/html")||CodeMirror.defineMIME("text/html",{name:"xml",htmlMode:!0})
;
CodeMirror.defineMode("xquery",function(){function r(e,r,i){return t=e,n=i,r}function i(e,t,n){return t.tokenize=n,n(e,t)}function s(t,n){var s=t.next(),l=!1,v=y(t);if(s=="<"){if(t.match("!--",!0))return i(t,n,c);if(t.match("![CDATA",!1))return n.tokenize=h,r("tag","tag");if(t.match("?",!1))return i(t,n,p);var g=t.eat("/");t.eatSpace();var b="",S;while(S=t.eat(/[^\s\u00a0=<>\"\'\/?]/))b+=S;return i(t,n,f(b,g))}if(s=="{")return w(n,{type:"codeblock"}),r("",null);if(s=="}")return E(n),r("",null);if(d(n))return s==">"?r("tag","tag"):s=="/"&&t.eat(">")?(E(n),r("tag","tag")):r("word","variable");if(/\d/.test(s))return t.match(/^\d*(?:\.\d*)?(?:E[+\-]?\d+)?/),r("number","atom");if(s==="("&&t.eat(":"))return w(n,{type:"comment"}),i(t,n,o);if(!!v||s!=='"'&&s!=="'"){if(s==="$")return i(t,n,a);if(s===":"&&t.eat("="))return r("operator","keyword");if(s==="(")return w(n,{type:"paren"}),r("",null);if(s===")")return E(n),r("",null);if(s==="[")return w(n,{type:"bracket"}),r("",null);if(s==="]")return E(n),r("",null);var x=e.propertyIsEnumerable(s)&&e[s];if(v&&s==='"')while(t.next()!=='"');if(v&&s==="'")while(t.next()!=="'");x||t.eatWhile(/[\w\$_-]/);var T=t.eat(":");!t.eat(":")&&T&&t.eatWhile(/[\w\$_-]/),t.match(/^[ \t]*\(/,!1)&&(l=!0);var N=t.current();return x=e.propertyIsEnumerable(N)&&e[N],l&&!x&&(x={type:"function_call",style:"variable def"}),m(n)?(E(n),r("word","variable",N)):((N=="element"||N=="attribute"||x.type=="axis_specifier")&&w(n,{type:"xmlconstructor"}),x?r(x.type,x.style,N):r("word","variable",N))}return i(t,n,u(s))}function o(e,t){var n=!1,i=!1,s=0,o;while(o=e.next()){if(o==")"&&n){if(!(s>0)){E(t);break}s--}else o==":"&&i&&s++;n=o==":",i=o=="("}return r("comment","comment")}function u(e,t){return function(n,i){var o;if(g(i)&&n.current()==e)return E(i),t&&(i.tokenize=t),r("string","string");w(i,{type:"string",name:e,tokenize:u(e,t)});if(n.match("{",!1)&&v(i))return i.tokenize=s,r("string","string");while(o=n.next()){if(o==e){E(i),t&&(i.tokenize=t);break}if(n.match("{",!1)&&v(i))return i.tokenize=s,r("string","string")}return r("string","string")}}function a(e,t){var n=/[\w\$_-]/;if(e.eat('"')){while(e.next()!=='"');e.eat(":")}else e.eatWhile(n),e.match(":=",!1)||e.eat(":");return e.eatWhile(n),t.tokenize=s,r("variable","variable")}function f(e,t){return function(n,i){return n.eatSpace(),t&&n.eat(">")?(E(i),i.tokenize=s,r("tag","tag")):(n.eat("/")||w(i,{type:"tag",name:e,tokenize:s}),n.eat(">")?(i.tokenize=s,r("tag","tag")):(i.tokenize=l,r("tag","tag")))}}function l(e,t){var n=e.next();if(n=="/"&&e.eat(">"))return v(t)&&E(t),d(t)&&E(t),r("tag","tag");if(n==">")return v(t)&&E(t),r("tag","tag");if(n=="=")return r("",null);if(n=='"'||n=="'")return i(e,t,u(n,l));v(t)||w(t,{type:"attribute",name:name,tokenize:l}),e.eat(/[a-zA-Z_:]/),e.eatWhile(/[-a-zA-Z0-9_:.]/),e.eatSpace();if(e.match(">",!1)||e.match("/",!1))E(t),t.tokenize=s;return r("attribute","attribute")}function c(e,t){var n;while(n=e.next())if(n=="-"&&e.match("->",!0))return t.tokenize=s,r("comment","comment")}function h(e,t){var n;while(n=e.next())if(n=="]"&&e.match("]",!0))return t.tokenize=s,r("comment","comment")}function p(e,t){var n;while(n=e.next())if(n=="?"&&e.match(">",!0))return t.tokenize=s,r("comment","comment meta")}function d(e){return b(e,"tag")}function v(e){return b(e,"attribute")}function m(e){return b(e,"xmlconstructor")}function g(e){return b(e,"string")}function y(e){return e.current()==='"'?e.match(/^[^\"]+\"\:/,!1):e.current()==="'"?e.match(/^[^\"]+\'\:/,!1):!1}function b(e,t){return e.stack.length&&e.stack[e.stack.length-1].type==t}function w(e,t){e.stack.push(t)}function E(e){e.stack.pop();var t=e.stack.length&&e.stack[e.stack.length-1].tokenize;e.tokenize=t||s}var e=function(){function e(e){return{type:e,style:"keyword"}}var t=e("keyword a"),n=e("keyword b"),r=e("keyword c"),i=e("operator"),s={type:"atom",style:"atom"},o={type:"punctuation",style:null},u={type:"axis_specifier",style:"qualifier"},a={"if":t,"switch":t,"while":t,"for":t,"else":n,then:n,"try":n,"finally":n,"catch":n,element:r,attribute:r,let:r,"implements":r,"import":r,module:r,namespace:r,"return":r,"super":r,"this":r,"throws":r,where:r,"private":r,",":o,"null":s,"fn:false()":s,"fn:true()":s},f=["after","ancestor","ancestor-or-self","and","as","ascending","assert","attribute","before","by","case","cast","child","comment","declare","default","define","descendant","descendant-or-self","descending","document","document-node","element","else","eq","every","except","external","following","following-sibling","follows","for","function","if","import","in","instance","intersect","item","let","module","namespace","node","node","of","only","or","order","parent","precedes","preceding","preceding-sibling","processing-instruction","ref","return","returns","satisfies","schema","schema-element","self","some","sortby","stable","text","then","to","treat","typeswitch","union","variable","version","where","xquery","empty-sequence"];for(var l=0,c=f.length;l<c;l++)a[f[l]]=e(f[l]);var h=["xs:string","xs:float","xs:decimal","xs:double","xs:integer","xs:boolean","xs:date","xs:dateTime","xs:time","xs:duration","xs:dayTimeDuration","xs:time","xs:yearMonthDuration","numeric","xs:hexBinary","xs:base64Binary","xs:anyURI","xs:QName","xs:byte","xs:boolean","xs:anyURI","xf:yearMonthDuration"];for(var l=0,c=h.length;l<c;l++)a[h[l]]=s;var p=["eq","ne","lt","le","gt","ge",":=","=",">",">=","<","<=",".","|","?","and","or","div","idiv","mod","*","/","+","-"];for(var l=0,c=p.length;l<c;l++)a[p[l]]=i;var d=["self::","attribute::","child::","descendant::","descendant-or-self::","parent::","ancestor::","ancestor-or-self::","following::","preceding::","following-sibling::","preceding-sibling::"];for(var l=0,c=d.length;l<c;l++)a[d[l]]=u;return a}(),t,n;return{startState:function(){return{tokenize:s,cc:[],stack:[]}},token:function(e,t){if(e.eatSpace())return null;var n=t.tokenize(e,t);return n}}}),CodeMirror.defineMIME("application/xquery","xquery")
;
CodeMirror.defineMode("yaml",function(){var e=["true","false","on","off","yes","no"],t=new RegExp("\\b(("+e.join(")|(")+"))$","i");return{token:function(e,n){var r=e.peek(),i=n.escaped;n.escaped=!1;if(r=="#")return e.skipToEnd(),"comment";if(n.literal&&e.indentation()>n.keyCol)return e.skipToEnd(),"string";n.literal&&(n.literal=!1);if(e.sol()){n.keyCol=0,n.pair=!1,n.pairStart=!1;if(e.match(/---/))return"def";if(e.match(/\.\.\./))return"def";if(e.match(/\s*-\s+/))return"meta"}if(!n.pair&&e.match(/^\s*([a-z0-9\._-])+(?=\s*:)/i))return n.pair=!0,n.keyCol=e.indentation(),"atom";if(n.pair&&e.match(/^:\s*/))return n.pairStart=!0,"meta";if(e.match(/^(\{|\}|\[|\])/))return r=="{"?n.inlinePairs++:r=="}"?n.inlinePairs--:r=="["?n.inlineList++:n.inlineList--,"meta";if(n.inlineList>0&&!i&&r==",")return e.next(),"meta";if(n.inlinePairs>0&&!i&&r==",")return n.keyCol=0,n.pair=!1,n.pairStart=!1,e.next(),"meta";if(n.pairStart){if(e.match(/^\s*(\||\>)\s*/))return n.literal=!0,"meta";if(e.match(/^\s*(\&|\*)[a-z0-9\._-]+\b/i))return"variable-2";if(n.inlinePairs==0&&e.match(/^\s*-?[0-9\.\,]+\s?$/))return"number";if(n.inlinePairs>0&&e.match(/^\s*-?[0-9\.\,]+\s?(?=(,|}))/))return"number";if(e.match(t))return"keyword"}return n.pairStart=!1,n.escaped=r=="\\",e.next(),null},startState:function(){return{pair:!1,pairStart:!1,keyCol:0,inlinePairs:0,inlineList:0,literal:!1,escaped:!1}}}}),CodeMirror.defineMIME("text/x-yaml","yaml")
;
(function(){"use strict";var e=[{keys:["Left"],type:"keyToKey",toKeys:["h"]},{keys:["Right"],type:"keyToKey",toKeys:["l"]},{keys:["Up"],type:"keyToKey",toKeys:["k"]},{keys:["Down"],type:"keyToKey",toKeys:["j"]},{keys:["Space"],type:"keyToKey",toKeys:["l"]},{keys:["Backspace"],type:"keyToKey",toKeys:["h"]},{keys:["Ctrl-Space"],type:"keyToKey",toKeys:["W"]},{keys:["Ctrl-Backspace"],type:"keyToKey",toKeys:["B"]},{keys:["Shift-Space"],type:"keyToKey",toKeys:["w"]},{keys:["Shift-Backspace"],type:"keyToKey",toKeys:["b"]},{keys:["Ctrl-n"],type:"keyToKey",toKeys:["j"]},{keys:["Ctrl-p"],type:"keyToKey",toKeys:["k"]},{keys:["Ctrl-["],type:"keyToKey",toKeys:["Esc"]},{keys:["Ctrl-c"],type:"keyToKey",toKeys:["Esc"]},{keys:["s"],type:"keyToKey",toKeys:["c","l"]},{keys:["S"],type:"keyToKey",toKeys:["c","c"]},{keys:["Home"],type:"keyToKey",toKeys:["0"]},{keys:["End"],type:"keyToKey",toKeys:["$"]},{keys:["PageUp"],type:"keyToKey",toKeys:["Ctrl-b"]},{keys:["PageDown"],type:"keyToKey",toKeys:["Ctrl-f"]},{keys:["h"],type:"motion",motion:"moveByCharacters",motionArgs:{forward:!1}},{keys:["l"],type:"motion",motion:"moveByCharacters",motionArgs:{forward:!0}},{keys:["j"],type:"motion",motion:"moveByLines",motionArgs:{forward:!0,linewise:!0}},{keys:["k"],type:"motion",motion:"moveByLines",motionArgs:{forward:!1,linewise:!0}},{keys:["w"],type:"motion",motion:"moveByWords",motionArgs:{forward:!0,wordEnd:!1}},{keys:["W"],type:"motion",motion:"moveByWords",motionArgs:{forward:!0,wordEnd:!1,bigWord:!0}},{keys:["e"],type:"motion",motion:"moveByWords",motionArgs:{forward:!0,wordEnd:!0,inclusive:!0}},{keys:["E"],type:"motion",motion:"moveByWords",motionArgs:{forward:!0,wordEnd:!0,bigWord:!0,inclusive:!0}},{keys:["b"],type:"motion",motion:"moveByWords",motionArgs:{forward:!1,wordEnd:!1}},{keys:["B"],type:"motion",motion:"moveByWords",motionArgs:{forward:!1,wordEnd:!1,bigWord:!0}},{keys:["g","e"],type:"motion",motion:"moveByWords",motionArgs:{forward:!1,wordEnd:!0,inclusive:!0}},{keys:["g","E"],type:"motion",motion:"moveByWords",motionArgs:{forward:!1,wordEnd:!0,bigWord:!0,inclusive:!0}},{keys:["{"],type:"motion",motion:"moveByParagraph",motionArgs:{forward:!1}},{keys:["}"],type:"motion",motion:"moveByParagraph",motionArgs:{forward:!0}},{keys:["Ctrl-f"],type:"motion",motion:"moveByPage",motionArgs:{forward:!0}},{keys:["Ctrl-b"],type:"motion",motion:"moveByPage",motionArgs:{forward:!1}},{keys:["g","g"],type:"motion",motion:"moveToLineOrEdgeOfDocument",motionArgs:{forward:!1,explicitRepeat:!0,linewise:!0}},{keys:["G"],type:"motion",motion:"moveToLineOrEdgeOfDocument",motionArgs:{forward:!0,explicitRepeat:!0,linewise:!0}},{keys:["0"],type:"motion",motion:"moveToStartOfLine"},{keys:["^"],type:"motion",motion:"moveToFirstNonWhiteSpaceCharacter"},{keys:["$"],type:"motion",motion:"moveToEol",motionArgs:{inclusive:!0}},{keys:["%"],type:"motion",motion:"moveToMatchedSymbol",motionArgs:{inclusive:!0}},{keys:["f","character"],type:"motion",motion:"moveToCharacter",motionArgs:{forward:!0,inclusive:!0}},{keys:["F","character"],type:"motion",motion:"moveToCharacter",motionArgs:{forward:!1}},{keys:["t","character"],type:"motion",motion:"moveTillCharacter",motionArgs:{forward:!0,inclusive:!0}},{keys:["T","character"],type:"motion",motion:"moveTillCharacter",motionArgs:{forward:!1}},{keys:["'","character"],type:"motion",motion:"goToMark"},{keys:["`","character"],type:"motion",motion:"goToMark"},{keys:["|"],type:"motion",motion:"moveToColumn",motionArgs:{}},{keys:["d"],type:"operator",operator:"delete"},{keys:["y"],type:"operator",operator:"yank"},{keys:["c"],type:"operator",operator:"change",operatorArgs:{enterInsertMode:!0}},{keys:[">"],type:"operator",operator:"indent",operatorArgs:{indentRight:!0}},{keys:["<"],type:"operator",operator:"indent",operatorArgs:{indentRight:!1}},{keys:["g","~"],type:"operator",operator:"swapcase"},{keys:["n"],type:"motion",motion:"findNext"},{keys:["N"],type:"motion",motion:"findPrev"},{keys:["x"],type:"operatorMotion",operator:"delete",motion:"moveByCharacters",motionArgs:{forward:!0},operatorMotionArgs:{visualLine:!1}},{keys:["X"],type:"operatorMotion",operator:"delete",motion:"moveByCharacters",motionArgs:{forward:!1},operatorMotionArgs:{visualLine:!0}},{keys:["D"],type:"operatorMotion",operator:"delete",motion:"moveToEol",motionArgs:{inclusive:!0},operatorMotionArgs:{visualLine:!0}},{keys:["Y"],type:"operatorMotion",operator:"yank",motion:"moveToEol",motionArgs:{inclusive:!0},operatorMotionArgs:{visualLine:!0}},{keys:["C"],type:"operatorMotion",operator:"change",operatorArgs:{enterInsertMode:!0},motion:"moveToEol",motionArgs:{inclusive:!0},operatorMotionArgs:{visualLine:!0}},{keys:["~"],type:"operatorMotion",operator:"swapcase",motion:"moveByCharacters",motionArgs:{forward:!0}},{keys:["a"],type:"action",action:"enterInsertMode",actionArgs:{insertAt:"charAfter"}},{keys:["A"],type:"action",action:"enterInsertMode",actionArgs:{insertAt:"eol"}},{keys:["i"],type:"action",action:"enterInsertMode"},{keys:["I"],type:"action",action:"enterInsertMode",motion:"moveToFirstNonWhiteSpaceCharacter"},{keys:["o"],type:"action",action:"newLineAndEnterInsertMode",actionArgs:{after:!0}},{keys:["O"],type:"action",action:"newLineAndEnterInsertMode",actionArgs:{after:!1}},{keys:["v"],type:"action",action:"toggleVisualMode"},{keys:["V"],type:"action",action:"toggleVisualMode",actionArgs:{linewise:!0}},{keys:["J"],type:"action",action:"joinLines"},{keys:["p"],type:"action",action:"paste",actionArgs:{after:!0}},{keys:["P"],type:"action",action:"paste",actionArgs:{after:!1}},{keys:["r","character"],type:"action",action:"replace"},{keys:["u"],type:"action",action:"undo"},{keys:["Ctrl-r"],type:"action",action:"redo"},{keys:["m","character"],type:"action",action:"setMark"},{keys:['"',"character"],type:"action",action:"setRegister"},{keys:[",","/"],type:"action",action:"clearSearchHighlight"},{keys:["z","z"],type:"action",action:"scrollToCursor",actionArgs:{position:"center"}},{keys:["z","."],type:"action",action:"scrollToCursor",actionArgs:{position:"center"},motion:"moveToFirstNonWhiteSpaceCharacter"},{keys:["z","t"],type:"action",action:"scrollToCursor",actionArgs:{position:"top"}},{keys:["z","Enter"],type:"action",action:"scrollToCursor",actionArgs:{position:"top"},motion:"moveToFirstNonWhiteSpaceCharacter"},{keys:["z","-"],type:"action",action:"scrollToCursor",actionArgs:{position:"bottom"}},{keys:["z","b"],type:"action",action:"scrollToCursor",actionArgs:{position:"bottom"},motion:"moveToFirstNonWhiteSpaceCharacter"},{keys:["a","character"],type:"motion",motion:"textObjectManipulation"},{keys:["i","character"],type:"motion",motion:"textObjectManipulation",motionArgs:{textObjectInner:!0}},{keys:["/"],type:"search",searchArgs:{forward:!0,querySrc:"prompt"}},{keys:["?"],type:"search",searchArgs:{forward:!1,querySrc:"prompt"}},{keys:["*"],type:"search",searchArgs:{forward:!0,querySrc:"wordUnderCursor"}},{keys:["#"],type:"search",searchArgs:{forward:!1,querySrc:"wordUnderCursor"}},{keys:[":"],type:"ex"}],t=function(){function a(e,t){var n=[];for(var r=e;r<e+t;r++)n.push(String.fromCharCode(r));return n}function g(e){return r.test(e)}function y(e,t){return t>=0&&t<e.lineCount()}function b(e){return/^[a-z]$/.test(e)}function w(e){return"()[]{}".indexOf(e)!=-1}function E(e){return i.test(e)}function S(e){return/^[A-Z]$/.test(e)}function x(e){return/^[\w]$/.test(e)}function T(e){return s.test(e)}function N(e){return/^\s*$/.test(e)}function C(e,t,n){return e>=t&&e<=n}function k(e,t){for(var n=0;n<t.length;n++)if(t[n]==e)return!0;return!1}function A(){return L||(L={searchQuery:null,searchIsReversed:!1,registerController:new P({})}),L}function O(e){return e.vimState||(e.vimState={inputState:new _,lastHPos:-1,lastMotion:null,marks:{},visualMode:!1,visualLine:!1}),e.vimState}function _(){this.reset()}function D(e,t){this.clear(),e&&this.set(e,t)}function P(e){this.registers=e,this.unamedRegister=e['"']=new D}function q(e,t,n){var r=Math.min(Math.max(0,t.line),e.lineCount()-1),i=G(e,r)-1;i=n?i+1:i;var s=Math.min(Math.max(0,t.ch),i);return{line:r,ch:s}}function R(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}function U(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function z(e,t,n){return{line:e.line+t,ch:e.ch+n}}function W(e,t){if(e.length!=t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!=t[n])return!1;return!0}function X(e,t){for(var n=0;n<e.length;n++)if(e[n]!=t[n]&&t[n]!="character")return!1;return!0}function V(e,t){for(var n=0;n<e.length;n++)if(e[n]!=t[n])return!1;return!0}function $(e,t,n){return function(){for(var r=0;r<n;r++)t(e)}}function J(e){return{line:e.line,ch:e.ch}}function K(e,t){return e.ch==t.ch&&e.line==t.line}function Q(e,t){return e.line<t.line?!0:e.line==t.line&&e.ch<t.ch?!0:!1}function G(e,t){return e.getLine(t).length}function Y(e){return e.split("").reverse().join("")}function Z(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function et(e){return e.replace(/([.?*+$\[\]\/\\(){}|\-])/g,"\\$1")}function tt(e,t){t.visualMode=!1,t.visualLine=!1;var n=e.getCursor("anchor"),r=e.getCursor("head");K(n,r)||e.setCursor(q(e,r))}function nt(e,t,n){var r=e.getRange(t,n),i=r.split("\n");i.length>1&&N(i.pop())&&(n.line--,n.ch=G(e,n.line))}function rt(e,t,n){t.ch=0,n.ch=0,n.line++}function it(e){if(!e)return 0;var t=e.search(/\S/);return t==-1?e.length:t}function st(e,t,n,r,i){var s=e.getCursor(),o=e.getLine(s.line),u=s.ch,a=o.substring(u),f;i?f=a.search(/\w/):f=a.search(/\S/);if(f==-1)return null;u+=f,a=o.substring(u);var l=o.substring(0,u),c;r?c=/^\S+/:/\w/.test(o.charAt(u))?c=/^\w+/:c=/^[^\w\s]+/;var h=c.exec(a),p=u,d=u+h[0].length-1,v=c.exec(Y(l));return v&&(p-=v[0].length),t&&d++,{start:{line:s.line,ch:p},end:{line:s.line,ch:d}}}function ot(e,t,n,r){var i=t.line,s=t.ch,a=e.getLine(i),f=n?1:-1,l=r?u:o;for(;;){var c=f>0?a.length:-1,h=c,p=c;while(s!=c){var d=!1;for(var v=0;v<l.length&&!d;++v)if(l[v].test(a.charAt(s))){h=s;while(s!=c&&l[v].test(a.charAt(s)))s+=f;p=s,d=h!=p;if(h==t.ch&&i==t.line&&p==h+f)continue;return{from:Math.min(h,p+1),to:Math.max(h,p),line:i}}d||(s+=f)}i+=f;if(!y(e,i))return null;a=e.getLine(i),s=f>0?0:a.length}throw"The impossible happened."}function ut(e,t,n,r,i){var s=e.getCursor();for(var o=0;o<t;o++){var u=s.ch,a=s.line,f,l=!1;while(!l){f=ot(e,s,n,i),l=!0;if(!f)return n?{line:s.line,ch:G(e,s.line)}:{line:s.line,ch:0};s.line=f.line,n&&r?s.ch=f.to-1:n&&!r?C(s.ch,f.from,f.to)&&f.line==a?(l=!1,s.ch=f.to-1):s.ch=f.from:!n&&r?C(s.ch,f.from,f.to)&&f.line==a?(l=!1,s.ch=f.from):s.ch=f.to:!n&&!r&&(s.ch=f.from)}}return s}function at(e,t,n,r){var i=e.getCursor(),s=i.ch,o;for(var u=0;u<t;u++){var a=e.getLine(i.line);o=ct(s,a,r,n,!0);if(o==-1)return i;s=o}return{line:e.getCursor().line,ch:o}}function ft(e,t){var n=e.getCursor().line;return q(e,{line:n,ch:t-1})}function lt(e,t,n,r){if(!k(n,v))return;t.marks[n]&&t.marks[n].clear(),t.marks[n]=e.setBookmark(r)}function ct(e,t,n,r,i){var s;return r?(s=t.indexOf(n,e+1),s!=-1&&!i&&(s-=1)):(s=t.lastIndexOf(n,e-1),s!=-1&&!i&&(s+=1)),s}function ht(e,t,n){var r=t.line;n=n?n:e.getLine(r).charAt(t.ch);var i=k(n,["(","[","{"]),s={"(":")",")":"(","[":"]","]":"[","{":"}","}":"{"}[n];if(!s)return t;var o={"(":1,"{":1,"[":1}[n]||-1,u=1,a=n,f=t.ch,l=e.getLine(r);while(a&&u>0){f+=o,a=l.charAt(f);if(!a){r+=o,l=e.getLine(r)||"";if(o>0)f=0;else{var c=l.length;f=c>0?c-1:0}a=l.charAt(f)}a===n?u++:a===s&&u--}return a?{line:r,ch:f}:t}function pt(e,t,n){var r=e.getCursor(),i=ht(e,r,t),s=ht(e,i);return s.ch+=n?1:0,i.ch+=n?0:1,{start:s,end:i}}function dt(e,t,n){for(var r=n?n:e.length;r>=0;--r)if(t.test(e.charAt(r)))return r;return-1}function vt(e,t,n){var r=e.getCursor(),i=e.getLine(r.line),s=i.split(""),o,u,a,f,l=s.indexOf(t);r.ch<l?r.ch=l:l<r.ch&&s[r.ch]==t&&(u=r.ch,--r.ch);if(s[r.ch]==t&&!u)o=r.ch+1;else for(a=r.ch;a>-1&&!o;a--)s[a]==t&&(o=a+1);if(o&&!u)for(a=o,f=s.length;a<f&&!u;a++)s[a]==t&&(u=a);return!o||!u?{start:r,end:r}:(n&&(--o,++u),{start:{line:r.line,ch:o},end:{line:r.line,ch:u}})}function mt(){this.marked=null}function gt(e){var t=O(e);return t.searchState_||(t.searchState_=new mt)}function yt(e,t,n,r,i){e.openDialog?e.openDialog(t,r,{bottom:!0,value:i}):r(prompt(n,""))}function bt(e){var t=!1,n=[];for(var r=0;r<e.length;r++){var i=e.charAt(r);!t&&i=="/"&&n.push(r),t=i=="\\"}return n}function wt(e,t,n,r){var i=bt(t),s,o;if(!i.length)s=t;else{s=t.substring(0,i[0]);var u=t.substring(i[0]);o=u.indexOf("i")!=-1}if(!s)return null;r&&(n=/^[^A-Z]*$/.test(s));try{var a=new RegExp(s,n||o?"i":undefined);return a}catch(f){Et(e,"Invalid regex: "+s)}}function Et(e,t){e.openConfirm?e.openConfirm('<span style="color: red">'+t+'</span> <button type="button">OK</button>',function(){},{bottom:!0}):alert(t)}function St(e,t){var n="";return e&&(n+='<span style="font-family: monospace">'+e+"</span>"),n+='<input type="text"/> <span style="color: #888">',t&&(n+='<span style="color: #888">',n+=t,n+="</span>"),n}function Tt(e,t,n,r,i){var s=(n||"")+" "+(r||"");yt(e,St(n,r),s,t,i)}function Nt(e,t){if(e instanceof RegExp&&t instanceof RegExp){var n=["global","multiline","ignoreCase","source"];for(var r=0;r<n.length;r++){var i=n[r];if(e[i]!==t[i])return!1}return!0}return!1}function Ct(e,t,n,r){e.operation(function(){var i=gt(e);if(!t)return;var s=wt(e,t,!!n,!!r);if(!s)return;if(Nt(s,i.getQuery()))return;Ot(e),Lt(e,s),i.setQuery(s)})}function kt(e){return{token:function(t){var n=t.match(e,!1);if(n){if(!t.sol()){t.backUp(1);if(!e.exec(t.next()+n[0]))return t.next(),null}return t.match(e),"searching"}while(!t.eol()){t.next();if(t.match(e,!1))break}},query:e}}function Lt(e,t){if(e.addOverlay){var n=gt(e).getOverlay();if(!n||t!=n.query)n&&e.removeOverlay(n),n=kt(t),e.addOverlay(n),gt(e).setOverlay(n)}else if(e.lineCount()<2e3){var r=[];for(var i=e.getSearchCursor(t);i.findNext();)r.push(e.markText(i.from(),i.to(),{className:"cm-searching"}));gt(e).setMarked(r)}}function At(e,t,n){return e.operation(function(){var r=gt(e),i=r.getQuery();if(!i)return;r.getMarked()||Lt(e,i);var s=e.getCursor();t=r.isReversed()?!t:t,t||(s.ch+=1);var o=e.getSearchCursor(i,s);for(var u=0;u<n;u++)if(!o.find(t)){o=e.getSearchCursor(i,t?{line:e.lineCount()-1}:{line:0,ch:0});if(!o.find(t))return}return o.from()})}function Ot(e){e.addOverlay?(e.removeOverlay(gt(e).getOverlay()),gt(e).setOverlay(null)):e.operation(function(){var t=gt(e);if(!t.getQuery())return;var n=t.getMarked();if(!n)return;for(var r=0;r<n.length;++r)n[r].clear();t.setMarked(null)})}function Mt(e,t,n){return typeof e!="number"&&(e=e.line),t instanceof Array?k(e,t):n?e>=t&&e<=n:e==t}function Dt(e){var t=0,n=[];while(t<e.length){if(e.charAt(t)!="<"){n.push(e.charAt(t)),t++;continue}var r=++t;while(e.charAt(t++)!=">");var i=e.substring(r,t-1),s=/^C-(.+)$/.exec(i);if(s){var o;switch(s[1]){case"BS":o="Backspace";break;case"CR":o="Enter";break;case"Del":o="Delete";break;default:o=s[1]}n.push("Ctrl-"+o)}}return n}function Bt(){function e(e,t,r){S(t)&&(r=="Shift"?r=null:t=t.toLowerCase()),r&&(t=r+"-"+t),n.handleKey(e,t)}function t(t,n){return function(r){e(r,t,n)}}function s(e,n){for(var r=0;r<e.length;r++){var s=e[r];!n&&k(s,p)&&(s="'"+s+"'"),n?i[n+"-"+s]=t(e[r],n):i[s]=t(e[r])}}var r=["Shift","Ctrl"],i={nofallthrough:!0,style:"fat-cursor"};return s(f),s(f,"Shift"),s(f,"Ctrl"),s(p),s(p,"Ctrl"),s(c),s(c,"Ctrl"),s(d),s(d,"Ctrl"),i}function jt(e){e.setCursor(e.getCursor().line,e.getCursor().ch-1,!0),e.setOption("keyMap","vim")}var r=/[A-Za-z]/,i=/[\d]/,s=/\s/,o=[/\w/,/[^\w\s]/],u=[/\S/],f=a(65,26),l=a(97,26),c=a(48,10),h="~`!@#$%^&*()_-+=[{}]\\|/?.,<>:;\"'",p=h.split(""),d=["Left","Right","Up","Down","Space","Backspace","Esc","Home","End","PageUp","PageDown","Enter"],v=f.concat(l).concat(c).concat(["<",">"]),m=f.concat(l).concat(c).concat('-"'.split("")),L,M={buildKeyMap:function(){},getRegisterController:function(){return A().registerController},clearVimGlobalState_:function(){L=null},map:function(e,t){Ht.map(e,t)},maybeInitState:function(e){O(e)},handleKey:function(t,n){var r,i=O(t);if(n=="Esc"){i.inputState.reset(),i.visualMode&&tt(t,i);return}i.visualMode&&K(t.getCursor("head"),t.getCursor("anchor"))&&tt(t,i),!i.visualMode&&!K(t.getCursor("head"),t.getCursor("anchor"))&&(i.visualMode=!0,i.visualLine=!1);if(n!="0"||n=="0"&&i.inputState.getRepeat()===0)r=H.matchCommand(n,e,i);if(!r){E(n)&&i.inputState.pushRepeatDigit(n);return}if(r.type=="keyToKey")for(var s=0;s<r.toKeys.length;s++)this.handleKey(t,r.toKeys[s]);else H.processCommand(t,i,r)}};_.prototype.reset=function(){this.prefixRepeat=[],this.motionRepeat=[],this.operator=null,this.operatorArgs=null,this.motion=null,this.motionArgs=null,this.keyBuffer=[],this.registerName=null},_.prototype.pushRepeatDigit=function(e){this.operator?this.motionRepeat=this.motionRepeat.concat(e):this.prefixRepeat=this.prefixRepeat.concat(e)},_.prototype.getRepeat=function(){var e=0;if(this.prefixRepeat.length>0||this.motionRepeat.length>0)e=1,this.prefixRepeat.length>0&&(e*=parseInt(this.prefixRepeat.join(""),10)),this.motionRepeat.length>0&&(e*=parseInt(this.motionRepeat.join(""),10));return e},D.prototype={set:function(e,t){this.text=e,this.linewise=!!t},append:function(e,t){t||this.linewise?(this.text+="\n"+e,this.linewise=!0):this.text+=e},clear:function(){this.text="",this.linewise=!1},toString:function(){return this.text}},P.prototype={pushText:function(e,t,n,r){var i=this.isValidRegister(e)?this.getRegister(e):null;if(!i){switch(t){case"yank":this.registers[0]=new D(n,r);break;case"delete":case"change":n.indexOf("\n")==-1?this.registers["-"]=new D(n,r):(this.shiftNumericRegisters_(),this.registers[1]=new D(n,r))}this.unamedRegister.set(n,r);return}var s=S(e);s?(i.append(n,r),this.unamedRegister.append(n,r)):(i.set(n,r),this.unamedRegister.set(n,r))},getRegister:function(e){return this.isValidRegister(e)?(e=e.toLowerCase(),this.registers[e]||(this.registers[e]=new D),this.registers[e]):this.unamedRegister},isValidRegister:function(e){return e&&k(e,m)},shiftNumericRegisters_:function(){for(var e=9;e>=2;e--)this.registers[e]=this.getRegister(""+(e-1))}};var H={matchCommand:function(e,t,n){var r=n.inputState,i=r.keyBuffer.concat(e);for(var s=0;s<t.length;s++){var o=t[s];if(X(i,o.keys)){if(i.length<o.keys.length)return r.keyBuffer.push(e),null;if(r.operator&&o.type=="action")continue;return o.keys[i.length-1]=="character"&&(r.selectedCharacter=i[i.length-1]),r.keyBuffer=[],o}}return r.keyBuffer=[],null},processCommand:function(e,t,n){switch(n.type){case"motion":this.processMotion(e,t,n);break;case"operator":this.processOperator(e,t,n);break;case"operatorMotion":this.processOperatorMotion(e,t,n);break;case"action":this.processAction(e,t,n);break;case"search":this.processSearch(e,t,n);break;case"ex":case"keyToEx":this.processEx(e,t,n);break;default:}},processMotion:function(e,t,n){t.inputState.motion=n.motion,t.inputState.motionArgs=U(n.motionArgs),this.evalInput(e,t)},processOperator:function(e,t,n){var r=t.inputState;if(r.operator){if(r.operator==n.operator){r.motion="expandToLine",r.motionArgs={linewise:!0},this.evalInput(e,t);return}r.reset()}r.operator=n.operator,r.operatorArgs=U(n.operatorArgs),t.visualMode&&this.evalInput(e,t)},processOperatorMotion:function(e,t,n){var r=t.visualMode,i=U(n.operatorMotionArgs);i&&r&&i.visualLine&&(t.visualLine=!0),this.processOperator(e,t,n),r||this.processMotion(e,t,n)},processAction:function(e,t,n){var r=t.inputState,i=r.getRepeat(),s=!!i,o=U(n.actionArgs)||{};r.selectedCharacter&&(o.selectedCharacter=r.selectedCharacter),n.operator&&this.processOperator(e,t,n),n.motion&&this.processMotion(e,t,n),(n.motion||n.operator)&&this.evalInput(e,t),o.repeat=i||1,o.repeatIsExplicit=s,o.registerName=r.registerName,r.reset(),t.lastMotion=null,F[n.action](e,o,t)},processSearch:function(e,t,n){function s(n,r,i){Ct(e,n,r,i),H.processMotion(e,t,{type:"motion",motion:"findNext"})}function o(e){s(e,!0,!0)}if(!e.getSearchCursor)return;var r=n.searchArgs.forward;gt(e).setReversed(!r);var i=r?"/":"?";switch(n.searchArgs.querySrc){case"prompt":Tt(e,o,i,xt);break;case"wordUnderCursor":var u=st(e,!1,!0,!1,!0),a=!0;u||(u=st(e,!1,!0,!1,!1),a=!1);if(!u)return;var f=e.getLine(u.start.line).substring(u.start.ch,u.end.ch+1);a?f="\\b"+f+"\\b":f=et(f),e.setCursor(u.start),s(f,!0,!1)}},processEx:function(e,t,n){function r(t){Ht.processCommand(e,t)}n.type=="keyToEx"?Ht.processCommand(e,n.exArgs.input):t.visualMode?Tt(e,r,":",undefined,"'<,'>"):Tt(e,r,":")},evalInput:function(e,t){var n=t.inputState,r=n.motion,i=n.motionArgs||{},s=n.operator,o=n.operatorArgs||{},u=n.registerName,a=e.getCursor("head"),f=e.getCursor("anchor"),l=J(a),c=J(l),h,p;i.repeat!==undefined?p=n.motionArgs.repeat:p=n.getRepeat();if(p>0&&i.explicitRepeat)i.repeatIsExplicit=!0;else if(i.noRepeat||!i.explicitRepeat&&p===0)p=1,i.repeatIsExplicit=!1;n.selectedCharacter&&(i.selectedCharacter=o.selectedCharacter=n.selectedCharacter),i.repeat=p,n.reset();if(r){var d=B[r](e,i,t);t.lastMotion=B[r];if(!d)return;d instanceof Array?(l=d[0],h=d[1]):h=d,h||(h={ch:l.ch,line:l.line}),t.visualMode?(Q(f,a)&&(K(f,h)||Q(h,f))?f.ch+=1:Q(a,f)&&(K(f,h)||Q(f,h))&&(f.ch-=1),a=h,t.visualLine&&(Q(f,a)?(f.ch=0,a.ch=G(e,a.line)):(a.ch=0,f.ch=G(e,f.line))),e.setSelection(f,a),lt(e,t,"<",Q(f,a)?f:a),lt(e,t,">",Q(f,a)?a:f)):s||(h=q(e,h),e.setCursor(h.line,h.ch))}if(s){var v=!1;t.lastMotion=null,o.repeat=p,t.visualMode&&(l=f,h=a,i.inclusive=!0);if(Q(h,l)){var m=l;l=h,h=m,v=!0}i.inclusive&&(!t.visualMode||!v)&&h.ch++;var g=i.linewise||t.visualMode&&t.visualLine;g?rt(e,l,h):i.forward&&nt(e,l,h),o.registerName=u,o.linewise=g,j[s](e,o,t,l,h,c),t.visualMode&&tt(e,t),o.enterInsertMode&&F.enterInsertMode(e)}}},B={expandToLine:function(e,t){var n=e.getCursor();return{line:n.line+t.repeat-1,ch:Infinity}},findNext:function(e,t,n){return At(e,!1,t.repeat)},findPrev:function(e,t,n){return At(e,!0,t.repeat)},goToMark:function(e,t,n){var r=n.marks[t.selectedCharacter];return r?r.find():null},moveByCharacters:function(e,t){var n=e.getCursor(),r=t.repeat,i=t.forward?n.ch+r:n.ch-r;return{line:n.line,ch:i}},moveByLines:function(e,t,n){var r=e.getCursor().ch;switch(n.lastMotion){case this.moveByLines:case this.moveToColumn:case this.moveToEol:r=n.lastHPos;break;default:n.lastHPos=r}var i=e.getCursor(),s=t.repeat,o=t.forward?i.line+s:i.line-s;return o<0||o>e.lineCount()-1?null:{line:o,ch:r}},moveByPage:function(e,t){var n=e.getCursor(),r=t.repeat;e.moveV(t.forward?r:-r,"page");var i=e.getCursor();return e.setCursor(n),i},moveByParagraph:function(e,t){var n=e.getCursor().line,r=t.repeat,i=t.forward?1:-1;for(var s=0;s<r;s++){if(!t.forward&&n===0||t.forward&&n==e.lineCount()-1)break;n+=i;while(n!==0&&n!=e.lineCount-1&&e.getLine(n))n+=i}return{line:n,ch:0}},moveByWords:function(e,t){return ut(e,t.repeat,!!t.forward,!!t.wordEnd,!!t.bigWord)},moveTillCharacter:function(e,t){var n=t.repeat,r=at(e,n,t.forward,t.selectedCharacter),i=t.forward?-1:1;return r.ch+=i,r},moveToCharacter:function(e,t){var n=t.repeat;return at(e,n,t.forward,t.selectedCharacter)},moveToColumn:function(e,t,n){var r=t.repeat;return n.lastHPos=r-1,ft(e,r)},moveToEol:function(e,t,n){var r=e.getCursor();return n.lastHPos=Infinity,{line:r.line+t.repeat-1,ch:Infinity}},moveToFirstNonWhiteSpaceCharacter:function(e){var t=e.getCursor(),n=e.getLine(t.line);return{line:t.line,ch:it(e.getLine(t.line))}},moveToMatchedSymbol:function(e,t){var n=e.getCursor(),r=e.getLine(n.line).charAt(n.ch);return w(r)?ht(e,e.getCursor(),t.symbol):n},moveToStartOfLine:function(e){var t=e.getCursor();return{line:t.line,ch:0}},moveToLineOrEdgeOfDocument:function(e,t){var n=t.forward?e.lineCount()-1:0;return t.repeatIsExplicit&&(n=t.repeat-1),{line:n,ch:it(e.getLine(n))}},textObjectManipulation:function(e,t){var n=t.selectedCharacter,r=!t.textObjectInner;if(!I[n])return null;var i=I[n](e,r),s=i.start,o=i.end;return[s,o]}},j={change:function(e,t,n,r,i){A().registerController.pushText(t.registerName,"change",e.getRange(r,i),t.linewise),t.linewise?(r.ch=it(e.getLine(r.line)),e.replaceRange("\n",r,i)):e.replaceRange("",r,i),e.setCursor(r)},"delete":function(e,t,n,r,i){A().registerController.pushText(t.registerName,"delete",e.getRange(r,i),t.linewise),e.replaceRange("",r,i),t.linewise?e.setCursor(B.moveToFirstNonWhiteSpaceCharacter(e)):e.setCursor(r)},indent:function(e,t,n,r,i){var s=r.line,o=i.line,u=n.visualMode?t.repeat:1;t.linewise&&o--;for(var a=s;a<=o;a++)for(var f=0;f<u;f++)e.indentLine(a,t.indentRight);e.setCursor(r),e.setCursor(B.moveToFirstNonWhiteSpaceCharacter(e))},swapcase:function(e,t,n,r,i,s){var o=e.getRange(r,i),u="";for(var a=0;a<o.length;a++){var f=o.charAt(a);u+=S(f)?f.toLowerCase():f.toUpperCase()}e.replaceRange(u,r,i),e.setCursor(s)},yank:function(e,t,n,r,i,s){A().registerController.pushText(t.registerName,"yank",e.getRange(r,i),t.linewise),e.setCursor(s)}},F={clearSearchHighlight:Ot,scrollToCursor:function(e,t){var n=e.getCursor().line,r=window.getComputedStyle(e.getScrollerElement()).getPropertyValue("height"),i=parseInt(r),s=e.charCoords({line:n,ch:0},"local").top,o=parseInt(i)/2;switch(t.position){case"center":s=s-i/2+10;break;case"bottom":s-=i;break;case"top":}e.scrollTo(null,s),e.scrollIntoView()},enterInsertMode:function(e,t){var n=t?t.insertAt:null;if(n=="eol"){var r=e.getCursor();r={line:r.line,ch:G(e,r.line)},e.setCursor(r)}else n=="charAfter"&&e.setCursor(z(e.getCursor(),0,1));e.setOption("keyMap","vim-insert")},toggleVisualMode:function(e,t,n){var r=t.repeat,i=e.getCursor(),s;n.visualMode?(i=e.getCursor("anchor"),s=e.getCursor("head"),!n.visualLine&&t.linewise?(n.visualLine=!0,i.ch=Q(i,s)?0:G(e,i.line),s.ch=Q(i,s)?G(e,s.line):0,e.setSelection(i,s)):n.visualLine&&!t.linewise?n.visualLine=!1:tt(e,n)):(n.visualMode=!0,n.visualLine=!!t.linewise,n.visualLine?(i.ch=0,s=q(e,{line:i.line+r-1,ch:G(e,i.line)},!0)):s=q(e,{line:i.line,ch:i.ch+r},!0),!t.repeatIsExplicit&&!n.visualLine?(e.setCursor(s),e.setSelection(s,i)):e.setSelection(i,s)),lt(e,n,"<",Q(i,s)?i:s),lt(e,n,">",Q(i,s)?s:i)},joinLines:function(e,t,n){var r,i;if(n.visualMode)r=e.getCursor("anchor"),i=e.getCursor("head"),i.ch=G(e,i.line)-1;else{var s=Math.max(t.repeat,2);r=e.getCursor(),i=q(e,{line:r.line+s-1,ch:Infinity})}var o=0;e.operation(function(){for(var t=r.line;t<i.line;t++){o=G(e,r.line);var n={line:r.line+1,ch:G(e,r.line+1)},s=e.getRange(r,n);s=s.replace(/\n\s*/g," "),e.replaceRange(s,r,n)}var u={line:r.line,ch:o};e.setCursor(u)})},newLineAndEnterInsertMode:function(e,t){var n=e.getCursor();if(n.line===0&&!t.after)e.replaceRange("\n",{line:0,ch:0}),e.setCursor(0,0);else{n.line=t.after?n.line:n.line-1,n.ch=G(e,n.line),e.setCursor(n);var r=CodeMirror.commands.newlineAndIndentContinueComment||CodeMirror.commands.newlineAndIndent;r(e)}this.enterInsertMode(e)},paste:function(e,t,n){var r=e.getCursor(),i=A().registerController.getRegister(t.registerName);if(!i.text)return;for(var s="",o=0;o<t.repeat;o++)s+=i.text;var u=i.linewise;u?t.after?(s="\n"+s.slice(0,s.length-1),r.ch=G(e,r.line)):r.ch=0:r.ch+=t.after?1:0,e.replaceRange(s,r);var a,f;u&&t.after?a={line:r.line+1,ch:it(e.getLine(r.line+1))}:u&&!t.after?a={line:r.line,ch:it(e.getLine(r.line))}:!u&&t.after?(f=e.indexFromPos(r),a=e.posFromIndex(f+s.length-1)):(f=e.indexFromPos(r),a=e.posFromIndex(f+s.length)),e.setCursor(a)},undo:function(e,t){$(e,CodeMirror.commands.undo,t.repeat)()},redo:function(e,t){$(e,CodeMirror.commands.redo,t.repeat)()},setRegister:function(e,t,n){n.inputState.registerName=t.selectedCharacter},setMark:function(e,t,n){var r=t.selectedCharacter;lt(e,n,r,e.getCursor())},replace:function(e,t){var n=t.selectedCharacter,r=e.getCursor(),i=e.getLine(r.line),s=r.ch+t.repeat;if(s>i.length)return;var o={line:r.line,ch:s},u="";for(var a=0;a<o.ch-r.ch;a++)u+=n;e.replaceRange(u,r,o),e.setCursor(z(o,0,-1))}},I={w:function(e,t){return st(e,t,!0,!1)},W:function(e,t){return st(e,t,!0,!0)},"{":function(e,t){return pt(e,"}",t)},"(":function(e,t){return pt(e,")",t)},"[":function(e,t){return pt(e,"]",t)},"'":function(e,t){return vt(e,"'",t)},'"':function(e,t){return vt(e,'"',t)}};mt.prototype={getQuery:function(){return A().query},setQuery:function(e){A().query=e},getMarked:function(){return this.marked},setMarked:function(e){this.marked=e},getOverlay:function(){return this.searchOverlay},setOverlay:function(e){this.searchOverlay=e},isReversed:function(){return A().isReversed},setReversed:function(e){A().isReversed=e}};var xt="(Javascript regexp)",_t=[{name:"map",type:"builtIn"},{name:"write",shortName:"w",type:"builtIn"},{name:"undo",shortName:"u",type:"builtIn"},{name:"redo",shortName:"red",type:"builtIn"},{name:"substitute",shortName:"s",type:"builtIn"}];t.ExCommandDispatcher=function(){this.buildCommandMap_()},t.ExCommandDispatcher.prototype={processCommand:function(e,t){var r=new CodeMirror.StringStream(t),i={};i.input=t;try{this.parseInput_(e,r,i)}catch(s){Et(e,s);return}var o;if(!i.commandName)i.line!==undefined&&(o="move");else{var u=this.matchCommand_(i.commandName);if(u){o=u.name,this.parseCommandArgs_(r,i,u);if(u.type=="exToKey"){for(var a=0;a<u.toKeys.length;a++)n.handleKey(e,u.toKeys[a]);return}if(u.type=="exToEx"){this.processCommand(e,u.toInput);return}}}if(!o){Et(e,'Not an editor command ":'+t+'"');return}Pt[o](e,i)},parseInput_:function(e,t,n){t.eatWhile(":"),t.eat("%")?(n.line=0,n.lineEnd=e.lineCount()-1):(n.line=this.parseLineSpec_(e,t),n.line!==undefined&&t.eat(",")&&(n.lineEnd=this.parseLineSpec_(e,t)));var r=t.match(/^(\w+)/);return r?n.commandName=r[1]:n.commandName=t.match(/.*/)[0],n},parseLineSpec_:function(e,t){var n=t.match(/^(\d+)/);if(n)return parseInt(n[1],10)-1;switch(t.next()){case".":return e.getCursor().line;case"$":return e.lineCount()-1;case"'":var r=O(e).marks[t.next()];if(r&&r.find())return r.find().line;throw"Mark not set";default:return t.backUp(1),e.getCursor().line}},parseCommandArgs_:function(e,t,n){if(e.eol())return;t.argString=e.match(/.*/)[0];var r=n.argDelimiter||/\s+/,i=Z(t.argString).split(r);i.length&&i[0]&&(t.args=i)},matchCommand_:function(e){for(var t=e.length;t>0;t--){var n=e.substring(0,t);if(this.commandMap_[n]){var r=this.commandMap_[n];if(r.name.indexOf(e)===0)return r}}return null},buildCommandMap_:function(){this.commandMap_={};for(var e=0;e<_t.length;e++){var t=_t[e],n=t.shortName||t.name;this.commandMap_[n]=t}},map:function(t,n){if(t!=":"&&t.charAt(0)==":"){var r=t.substring(1);n!=":"&&n.charAt(0)==":"?this.commandMap_[r]={name:r,type:"exToEx",toInput:n.substring(1)}:this.commandMap_[r]={name:r,type:"exToKey",toKeys:Dt(n)}}else n!=":"&&n.charAt(0)==":"?e.unshift({keys:Dt(t),type:"keyToEx",exArgs:{input:n.substring(1)}}):e.unshift({keys:Dt(t),type:"keyToKey",toKeys:Dt(n)})}};var Pt={map:function(e,t){var n=t.args;if(!n||n.length<2){e&&Et(e,"Invalid mapping: "+t.input);return}Ht.map(n[0],n[1],e)},move:function(e,t){H.processMotion(e,O(e),{motion:"moveToLineOrEdgeOfDocument",motionArgs:{forward:!1,explicitRepeat:!0,linewise:!0,repeat:t.line}})},substitute:function(e,t){function d(){for(var t=e.getSearchCursor(l,p);t.findNext()&&Mt(t.from(),c,h);){var n=e.getRange(t.from(),t.to()),r=n.replace(l,s);t.replace(r)}var i=O(e);i.visualMode&&tt(e,i)}var n=t.argString,r=bt(n);if(r[0]!==0){Et(e,"Substitutions should be of the form :s/pattern/replace/");return}var i=n.substring(r[0]+1,r[1]),s="",o,u;r[1]&&(s=n.substring(r[1]+1,r[2]));if(r[2]){var a=n.substring(r[2]+1).split(" ");o=a[0],u=parseInt(a[1])}o&&(i=i+"/"+o),i&&Ct(e,i,!0,!0);var f=gt(e),l=f.getQuery(),c=t.line||0,h=t.lineEnd||c;u&&(c=h,h=c+u-1);var p=q(e,{line:c,ch:0});e.compoundChange?e.compoundChange(d):e.operation(d)},redo:CodeMirror.commands.redo,undo:CodeMirror.commands.undo,write:function(e){CodeMirror.commands.save?CodeMirror.commands.save(e):e.save()}},Ht=new t.ExCommandDispatcher;return CodeMirror.keyMap.vim=Bt(),CodeMirror.keyMap["vim-insert"]={Esc:jt,"Ctrl-[":jt,"Ctrl-C":jt,"Ctrl-N":"autocomplete","Ctrl-P":"autocomplete",Enter:function(e){var t=CodeMirror.commands.newlineAndIndentContinueComment||CodeMirror.commands.newlineAndIndent;t(e)},fallthrough:["default"]},M},n=t();CodeMirror.Vim=n})()
;
(function(){function t(t){e.push(t),e.length>50&&e.shift()}function n(){return e[e.length-1]||""}function r(){return e.length>1&&e.pop(),n()}var e=[];CodeMirror.keyMap.emacs={"Ctrl-X":function(e){e.setOption("keyMap","emacs-Ctrl-X")},"Ctrl-W":function(e){t(e.getSelection()),e.replaceSelection("")},"Ctrl-Alt-W":function(e){t(e.getSelection()),e.replaceSelection("")},"Alt-W":function(e){t(e.getSelection())},"Ctrl-Y":function(e){e.replaceSelection(n())},"Alt-Y":function(e){e.replaceSelection(r())},"Ctrl-/":"undo","Shift-Ctrl--":"undo","Shift-Alt-,":"goDocStart","Shift-Alt-.":"goDocEnd","Ctrl-S":"findNext","Ctrl-R":"findPrev","Ctrl-G":"clearSearch","Shift-Alt-5":"replace","Ctrl-Z":"undo","Cmd-Z":"undo","Alt-/":"autocomplete","Alt-V":"goPageUp","Ctrl-J":"newlineAndIndent",Enter:!1,Tab:"indentAuto",fallthrough:["basic","emacsy"]},CodeMirror.keyMap["emacs-Ctrl-X"]={"Ctrl-S":"save","Ctrl-W":"save",S:"saveAll",F:"open",U:"undo",K:"close",auto:"emacs",nofallthrough:!0}})()
;
!function(e){"use strict";e(function(){e.support.transition=function(){var e=function(){var e=document.createElement("bootstrap"),t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"},n;for(n in t)if(e.style[n]!==undefined)return t[n]}();return e&&{end:e}}()})}(window.jQuery),!function(e){"use strict";var t='[data-dismiss="alert"]',n=function(n){e(n).on("click",t,this.close)};n.prototype.close=function(t){function s(){i.trigger("closed").remove()}var n=e(this),r=n.attr("data-target"),i;r||(r=n.attr("href"),r=r&&r.replace(/.*(?=#[^\s]*$)/,"")),i=e(r),t&&t.preventDefault(),i.length||(i=n.hasClass("alert")?n:n.parent()),i.trigger(t=e.Event("close"));if(t.isDefaultPrevented())return;i.removeClass("in"),e.support.transition&&i.hasClass("fade")?i.on(e.support.transition.end,s):s()},e.fn.alert=function(t){return this.each(function(){var r=e(this),i=r.data("alert");i||r.data("alert",i=new n(this)),typeof t=="string"&&i[t].call(r)})},e.fn.alert.Constructor=n,e(document).on("click.alert.data-api",t,n.prototype.close)}(window.jQuery),!function(e){"use strict";var t=function(t,n){this.$element=e(t),this.options=e.extend({},e.fn.button.defaults,n)};t.prototype.setState=function(e){var t="disabled",n=this.$element,r=n.data(),i=n.is("input")?"val":"html";e+="Text",r.resetText||n.data("resetText",n[i]()),n[i](r[e]||this.options[e]),setTimeout(function(){e=="loadingText"?n.addClass(t).attr(t,t):n.removeClass(t).removeAttr(t)},0)},t.prototype.toggle=function(){var e=this.$element.closest('[data-toggle="buttons-radio"]');e&&e.find(".active").removeClass("active"),this.$element.toggleClass("active")},e.fn.button=function(n){return this.each(function(){var r=e(this),i=r.data("button"),s=typeof n=="object"&&n;i||r.data("button",i=new t(this,s)),n=="toggle"?i.toggle():n&&i.setState(n)})},e.fn.button.defaults={loadingText:"loading..."},e.fn.button.Constructor=t,e(document).on("click.button.data-api","[data-toggle^=button]",function(t){var n=e(t.target);n.hasClass("btn")||(n=n.closest(".btn")),n.button("toggle")})}(window.jQuery),!function(e){"use strict";var t=function(t,n){this.$element=e(t),this.options=n,this.options.slide&&this.slide(this.options.slide),this.options.pause=="hover"&&this.$element.on("mouseenter",e.proxy(this.pause,this)).on("mouseleave",e.proxy(this.cycle,this))};t.prototype={cycle:function(t){return t||(this.paused=!1),this.options.interval&&!this.paused&&(this.interval=setInterval(e.proxy(this.next,this),this.options.interval)),this},to:function(t){var n=this.$element.find(".item.active"),r=n.parent().children(),i=r.index(n),s=this;if(t>r.length-1||t<0)return;return this.sliding?this.$element.one("slid",function(){s.to(t)}):i==t?this.pause().cycle():this.slide(t>i?"next":"prev",e(r[t]))},pause:function(t){return t||(this.paused=!0),this.$element.find(".next, .prev").length&&e.support.transition.end&&(this.$element.trigger(e.support.transition.end),this.cycle()),clearInterval(this.interval),this.interval=null,this},next:function(){if(this.sliding)return;return this.slide("next")},prev:function(){if(this.sliding)return;return this.slide("prev")},slide:function(t,n){var r=this.$element.find(".item.active"),i=n||r[t](),s=this.interval,o=t=="next"?"left":"right",u=t=="next"?"first":"last",a=this,f;this.sliding=!0,s&&this.pause(),i=i.length?i:this.$element.find(".item")[u](),f=e.Event("slide",{relatedTarget:i[0]});if(i.hasClass("active"))return;if(e.support.transition&&this.$element.hasClass("slide")){this.$element.trigger(f);if(f.isDefaultPrevented())return;i.addClass(t),i[0].offsetWidth,r.addClass(o),i.addClass(o),this.$element.one(e.support.transition.end,function(){i.removeClass([t,o].join(" ")).addClass("active"),r.removeClass(["active",o].join(" ")),a.sliding=!1,setTimeout(function(){a.$element.trigger("slid")},0)})}else{this.$element.trigger(f);if(f.isDefaultPrevented())return;r.removeClass("active"),i.addClass("active"),this.sliding=!1,this.$element.trigger("slid")}return s&&this.cycle(),this}},e.fn.carousel=function(n){return this.each(function(){var r=e(this),i=r.data("carousel"),s=e.extend({},e.fn.carousel.defaults,typeof n=="object"&&n),o=typeof n=="string"?n:s.slide;i||r.data("carousel",i=new t(this,s)),typeof n=="number"?i.to(n):o?i[o]():s.interval&&i.cycle()})},e.fn.carousel.defaults={interval:5e3,pause:"hover"},e.fn.carousel.Constructor=t,e(document).on("click.carousel.data-api","[data-slide]",function(t){var n=e(this),r,i=e(n.attr("data-target")||(r=n.attr("href"))&&r.replace(/.*(?=#[^\s]+$)/,"")),s=e.extend({},i.data(),n.data());i.carousel(s),t.preventDefault()})}(window.jQuery),!function(e){"use strict";var t=function(t,n){this.$element=e(t),this.options=e.extend({},e.fn.collapse.defaults,n),this.options.parent&&(this.$parent=e(this.options.parent)),this.options.toggle&&this.toggle()};t.prototype={constructor:t,dimension:function(){var e=this.$element.hasClass("width");return e?"width":"height"},show:function(){var t,n,r,i;if(this.transitioning)return;t=this.dimension(),n=e.camelCase(["scroll",t].join("-")),r=this.$parent&&this.$parent.find("> .accordion-group > .in");if(r&&r.length){i=r.data("collapse");if(i&&i.transitioning)return;r.collapse("hide"),i||r.data("collapse",null)}this.$element[t](0),this.transition("addClass",e.Event("show"),"shown"),e.support.transition&&this.$element[t](this.$element[0][n])},hide:function(){var t;if(this.transitioning)return;t=this.dimension(),this.reset(this.$element[t]()),this.transition("removeClass",e.Event("hide"),"hidden"),this.$element[t](0)},reset:function(e){var t=this.dimension();return this.$element.removeClass("collapse")[t](e||"auto")[0].offsetWidth,this.$element[e!==null?"addClass":"removeClass"]("collapse"),this},transition:function(t,n,r){var i=this,s=function(){n.type=="show"&&i.reset(),i.transitioning=0,i.$element.trigger(r)};this.$element.trigger(n);if(n.isDefaultPrevented())return;this.transitioning=1,this.$element[t]("in"),e.support.transition&&this.$element.hasClass("collapse")?this.$element.one(e.support.transition.end,s):s()},toggle:function(){this[this.$element.hasClass("in")?"hide":"show"]()}},e.fn.collapse=function(n){return this.each(function(){var r=e(this),i=r.data("collapse"),s=typeof n=="object"&&n;i||r.data("collapse",i=new t(this,s)),typeof n=="string"&&i[n]()})},e.fn.collapse.defaults={toggle:!0},e.fn.collapse.Constructor=t,e(document).on("click.collapse.data-api","[data-toggle=collapse]",function(t){var n=e(this),r,i=n.attr("data-target")||t.preventDefault()||(r=n.attr("href"))&&r.replace(/.*(?=#[^\s]+$)/,""),s=e(i).data("collapse")?"toggle":n.data();n[e(i).hasClass("in")?"addClass":"removeClass"]("collapsed"),e(i).collapse(s)})}(window.jQuery),!function(e){"use strict";function r(){e(t).each(function(){i(e(this)).removeClass("open")})}function i(t){var n=t.attr("data-target"),r;return n||(n=t.attr("href"),n=n&&/#/.test(n)&&n.replace(/.*(?=#[^\s]*$)/,"")),r=e(n),r.length||(r=t.parent()),r}var t="[data-toggle=dropdown]",n=function(t){var n=e(t).on("click.dropdown.data-api",this.toggle);e("html").on("click.dropdown.data-api",function(){n.parent().removeClass("open")})};n.prototype={constructor:n,toggle:function(t){var n=e(this),s,o;if(n.is(".disabled, :disabled"))return;return s=i(n),o=s.hasClass("open"),r(),o||(s.toggleClass("open"),n.focus()),!1},keydown:function(t){var n,r,s,o,u,a;if(!/(38|40|27)/.test(t.keyCode))return;n=e(this),t.preventDefault(),t.stopPropagation();if(n.is(".disabled, :disabled"))return;o=i(n),u=o.hasClass("open");if(!u||u&&t.keyCode==27)return n.click();r=e("[role=menu] li:not(.divider) a",o);if(!r.length)return;a=r.index(r.filter(":focus")),t.keyCode==38&&a>0&&a--,t.keyCode==40&&a<r.length-1&&a++,~a||(a=0),r.eq(a).focus()}},e.fn.dropdown=function(t){return this.each(function(){var r=e(this),i=r.data("dropdown");i||r.data("dropdown",i=new n(this)),typeof t=="string"&&i[t].call(r)})},e.fn.dropdown.Constructor=n,e(document).on("click.dropdown.data-api touchstart.dropdown.data-api",r).on("click.dropdown touchstart.dropdown.data-api",".dropdown form",function(e){e.stopPropagation()}).on("click.dropdown.data-api touchstart.dropdown.data-api",t,n.prototype.toggle).on("keydown.dropdown.data-api touchstart.dropdown.data-api",t+", [role=menu]",n.prototype.keydown)}(window.jQuery),!function(e){"use strict";var t=function(t,n){this.options=n,this.$element=e(t).delegate('[data-dismiss="modal"]',"click.dismiss.modal",e.proxy(this.hide,this)),this.options.remote&&this.$element.find(".modal-body").load(this.options.remote)};t.prototype={constructor:t,toggle:function(){return this[this.isShown?"hide":"show"]()},show:function(){var t=this,n=e.Event("show");this.$element.trigger(n);if(this.isShown||n.isDefaultPrevented())return;this.isShown=!0,this.escape(),this.backdrop(function(){var n=e.support.transition&&t.$element.hasClass("fade");t.$element.parent().length||t.$element.appendTo(document.body),t.$element.show(),n&&t.$element[0].offsetWidth,t.$element.addClass("in").attr("aria-hidden",!1),t.enforceFocus(),n?t.$element.one(e.support.transition.end,function(){t.$element.focus().trigger("shown")}):t.$element.focus().trigger("shown")})},hide:function(t){t&&t.preventDefault();var n=this;t=e.Event("hide"),this.$element.trigger(t);if(!this.isShown||t.isDefaultPrevented())return;this.isShown=!1,this.escape(),e(document).off("focusin.modal"),this.$element.removeClass("in").attr("aria-hidden",!0),e.support.transition&&this.$element.hasClass("fade")?this.hideWithTransition():this.hideModal()},enforceFocus:function(){var t=this;e(document).on("focusin.modal",function(e){t.$element[0]!==e.target&&!t.$element.has(e.target).length&&t.$element.focus()})},escape:function(){var e=this;this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.modal",function(t){t.which==27&&e.hide()}):this.isShown||this.$element.off("keyup.dismiss.modal")},hideWithTransition:function(){var t=this,n=setTimeout(function(){t.$element.off(e.support.transition.end),t.hideModal()},500);this.$element.one(e.support.transition.end,function(){clearTimeout(n),t.hideModal()})},hideModal:function(e){this.$element.hide().trigger("hidden"),this.backdrop()},removeBackdrop:function(){this.$backdrop.remove(),this.$backdrop=null},backdrop:function(t){var n=this,r=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var i=e.support.transition&&r;this.$backdrop=e('<div class="modal-backdrop '+r+'" />').appendTo(document.body),this.$backdrop.click(this.options.backdrop=="static"?e.proxy(this.$element[0].focus,this.$element[0]):e.proxy(this.hide,this)),i&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),i?this.$backdrop.one(e.support.transition.end,t):t()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),e.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(e.support.transition.end,e.proxy(this.removeBackdrop,this)):this.removeBackdrop()):t&&t()}},e.fn.modal=function(n){return this.each(function(){var r=e(this),i=r.data("modal"),s=e.extend({},e.fn.modal.defaults,r.data(),typeof n=="object"&&n);i||r.data("modal",i=new t(this,s)),typeof n=="string"?i[n]():s.show&&i.show()})},e.fn.modal.defaults={backdrop:!0,keyboard:!0,show:!0},e.fn.modal.Constructor=t,e(document).on("click.modal.data-api",'[data-toggle="modal"]',function(t){var n=e(this),r=n.attr("href"),i=e(n.attr("data-target")||r&&r.replace(/.*(?=#[^\s]+$)/,"")),s=i.data("modal")?"toggle":e.extend({remote:!/#/.test(r)&&r},i.data(),n.data());t.preventDefault(),i.modal(s).one("hide",function(){n.focus()})})}(window.jQuery),!function(e){"use strict";var t=function(e,t){this.init("tooltip",e,t)};t.prototype={constructor:t,init:function(t,n,r){var i,s;this.type=t,this.$element=e(n),this.options=this.getOptions(r),this.enabled=!0,this.options.trigger=="click"?this.$element.on("click."+this.type,this.options.selector,e.proxy(this.toggle,this)):this.options.trigger!="manual"&&(i=this.options.trigger=="hover"?"mouseenter":"focus",s=this.options.trigger=="hover"?"mouseleave":"blur",this.$element.on(i+"."+this.type,this.options.selector,e.proxy(this.enter,this)),this.$element.on(s+"."+this.type,this.options.selector,e.proxy(this.leave,this))),this.options.selector?this._options=e.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},getOptions:function(t){return t=e.extend({},e.fn[this.type].defaults,t,this.$element.data()),t.delay&&typeof t.delay=="number"&&(t.delay={show:t.delay,hide:t.delay}),t},enter:function(t){var n=e(t.currentTarget)[this.type](this._options).data(this.type);if(!n.options.delay||!n.options.delay.show)return n.show();clearTimeout(this.timeout),n.hoverState="in",this.timeout=setTimeout(function(){n.hoverState=="in"&&n.show()},n.options.delay.show)},leave:function(t){var n=e(t.currentTarget)[this.type](this._options).data(this.type);this.timeout&&clearTimeout(this.timeout);if(!n.options.delay||!n.options.delay.hide)return n.hide();n.hoverState="out",this.timeout=setTimeout(function(){n.hoverState=="out"&&n.hide()},n.options.delay.hide)},show:function(){var e,t,n,r,i,s,o;if(this.hasContent()&&this.enabled){e=this.tip(),this.setContent(),this.options.animation&&e.addClass("fade"),s=typeof this.options.placement=="function"?this.options.placement.call(this,e[0],this.$element[0]):this.options.placement,t=/in/.test(s),e.detach().css({top:0,left:0,display:"block"}).insertAfter(this.$element),n=this.getPosition(t),r=e[0].offsetWidth,i=e[0].offsetHeight;switch(t?s.split(" ")[1]:s){case"bottom":o={top:n.top+n.height,left:n.left+n.width/2-r/2};break;case"top":o={top:n.top-i,left:n.left+n.width/2-r/2};break;case"left":o={top:n.top+n.height/2-i/2,left:n.left-r};break;case"right":o={top:n.top+n.height/2-i/2,left:n.left+n.width}}e.offset(o).addClass(s).addClass("in")}},setContent:function(){var e=this.tip(),t=this.getTitle();e.find(".tooltip-inner")[this.options.html?"html":"text"](t),e.removeClass("fade in top bottom left right")},hide:function(){function r(){var t=setTimeout(function(){n.off(e.support.transition.end).detach()},500);n.one(e.support.transition.end,function(){clearTimeout(t),n.detach()})}var t=this,n=this.tip();return n.removeClass("in"),e.support.transition&&this.$tip.hasClass("fade")?r():n.detach(),this},fixTitle:function(){var e=this.$element;(e.attr("title")||typeof e.attr("data-original-title")!="string")&&e.attr("data-original-title",e.attr("title")||"").removeAttr("title")},hasContent:function(){return this.getTitle()},getPosition:function(t){return e.extend({},t?{top:0,left:0}:this.$element.offset(),{width:this.$element[0].offsetWidth,height:this.$element[0].offsetHeight})},getTitle:function(){var e,t=this.$element,n=this.options;return e=t.attr("data-original-title")||(typeof n.title=="function"?n.title.call(t[0]):n.title),e},tip:function(){return this.$tip=this.$tip||e(this.options.template)},validate:function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},toggleEnabled:function(){this.enabled=!this.enabled},toggle:function(t){var n=e(t.currentTarget)[this.type](this._options).data(this.type);n[n.tip().hasClass("in")?"hide":"show"]()},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}},e.fn.tooltip=function(n){return this.each(function(){var r=e(this),i=r.data("tooltip"),s=typeof n=="object"&&n;i||r.data("tooltip",i=new t(this,s)),typeof n=="string"&&i[n]()})},e.fn.tooltip.Constructor=t,e.fn.tooltip.defaults={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover",title:"",delay:0,html:!1}}(window.jQuery),!function(e){"use strict";var t=function(e,t){this.init("popover",e,t)};t.prototype=e.extend({},e.fn.tooltip.Constructor.prototype,{constructor:t,setContent:function(){var e=this.tip(),t=this.getTitle(),n=this.getContent();e.find(".popover-title")[this.options.html?"html":"text"](t),e.find(".popover-content > *")[this.options.html?"html":"text"](n),e.removeClass("fade top bottom left right in")},hasContent:function(){return this.getTitle()||this.getContent()},getContent:function(){var e,t=this.$element,n=this.options;return e=t.attr("data-content")||(typeof n.content=="function"?n.content.call(t[0]):n.content),e},tip:function(){return this.$tip||(this.$tip=e(this.options.template)),this.$tip},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}}),e.fn.popover=function(n){return this.each(function(){var r=e(this),i=r.data("popover"),s=typeof n=="object"&&n;i||r.data("popover",i=new t(this,s)),typeof n=="string"&&i[n]()})},e.fn.popover.Constructor=t,e.fn.popover.defaults=e.extend({},e.fn.tooltip.defaults,{placement:"right",trigger:"click",content:"",template:'<div class="popover"><div class="arrow"></div><div class="popover-inner"><h3 class="popover-title"></h3><div class="popover-content"><p></p></div></div></div>'})}(window.jQuery),!function(e){"use strict";function t(t,n){var r=e.proxy(this.process,this),i=e(t).is("body")?e(window):e(t),s;this.options=e.extend({},e.fn.scrollspy.defaults,n),this.$scrollElement=i.on("scroll.scroll-spy.data-api",r),this.selector=(this.options.target||(s=e(t).attr("href"))&&s.replace(/.*(?=#[^\s]+$)/,"")||"")+" .nav li > a",this.$body=e("body"),this.refresh(),this.process()}t.prototype={constructor:t,refresh:function(){var t=this,n;this.offsets=e([]),this.targets=e([]),n=this.$body.find(this.selector).map(function(){var t=e(this),n=t.data("target")||t.attr("href"),r=/^#\w/.test(n)&&e(n);return r&&r.length&&[[r.position().top,n]]||null}).sort(function(e,t){return e[0]-t[0]}).each(function(){t.offsets.push(this[0]),t.targets.push(this[1])})},process:function(){var e=this.$scrollElement.scrollTop()+this.options.offset,t=this.$scrollElement[0].scrollHeight||this.$body[0].scrollHeight,n=t-this.$scrollElement.height(),r=this.offsets,i=this.targets,s=this.activeTarget,o;if(e>=n)return s!=(o=i.last()[0])&&this.activate(o);for(o=r.length;o--;)s!=i[o]&&e>=r[o]&&(!r[o+1]||e<=r[o+1])&&this.activate(i[o])},activate:function(t){var n,r;this.activeTarget=t,e(this.selector).parent(".active").removeClass("active"),r=this.selector+'[data-target="'+t+'"],'+this.selector+'[href="'+t+'"]',n=e(r).parent("li").addClass("active"),n.parent(".dropdown-menu").length&&(n=n.closest("li.dropdown").addClass("active")),n.trigger("activate")}},e.fn.scrollspy=function(n){return this.each(function(){var r=e(this),i=r.data("scrollspy"),s=typeof n=="object"&&n;i||r.data("scrollspy",i=new t(this,s)),typeof n=="string"&&i[n]()})},e.fn.scrollspy.Constructor=t,e.fn.scrollspy.defaults={offset:10},e(window).on("load",function(){e('[data-spy="scroll"]').each(function(){var t=e(this);t.scrollspy(t.data())})})}(window.jQuery),!function(e){"use strict";var t=function(t){this.element=e(t)};t.prototype={constructor:t,show:function(){var t=this.element,n=t.closest("ul:not(.dropdown-menu)"),r=t.attr("data-target"),i,s,o;r||(r=t.attr("href"),r=r&&r.replace(/.*(?=#[^\s]*$)/,""));if(t.parent("li").hasClass("active"))return;i=n.find(".active:last a")[0],o=e.Event("show",{relatedTarget:i}),t.trigger(o);if(o.isDefaultPrevented())return;s=e(r),this.activate(t.parent("li"),n),this.activate(s,s.parent(),function(){t.trigger({type:"shown",relatedTarget:i})})},activate:function(t,n,r){function o(){i.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),t.addClass("active"),s?(t[0].offsetWidth,t.addClass("in")):t.removeClass("fade"),t.parent(".dropdown-menu")&&t.closest("li.dropdown").addClass("active"),r&&r()}var i=n.find("> .active"),s=r&&e.support.transition&&i.hasClass("fade");s?i.one(e.support.transition.end,o):o(),i.removeClass("in")}},e.fn.tab=function(n){return this.each(function(){var r=e(this),i=r.data("tab");i||r.data("tab",i=new t(this)),typeof n=="string"&&i[n]()})},e.fn.tab.Constructor=t,e(document).on("click.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(t){t.preventDefault(),e(this).tab("show")})}(window.jQuery),!function(e){"use strict";var t=function(t,n){this.$element=e(t),this.options=e.extend({},e.fn.typeahead.defaults,n),this.matcher=this.options.matcher||this.matcher,this.sorter=this.options.sorter||this.sorter,this.highlighter=this.options.highlighter||this.highlighter,this.updater=this.options.updater||this.updater,this.$menu=e(this.options.menu).appendTo("body"),this.source=this.options.source,this.shown=!1,this.listen()};t.prototype={constructor:t,select:function(){var e=this.$menu.find(".active").attr("data-value");return this.$element.val(this.updater(e)).change(),this.hide()},updater:function(e){return e},show:function(){var t=e.extend({},this.$element.offset(),{height:this.$element[0].offsetHeight});return this.$menu.css({top:t.top+t.height,left:t.left}),this.$menu.show(),this.shown=!0,this},hide:function(){return this.$menu.hide(),this.shown=!1,this},lookup:function(t){var n;return this.query=this.$element.val(),!this.query||this.query.length<this.options.minLength?this.shown?this.hide():this:(n=e.isFunction(this.source)?this.source(this.query,e.proxy(this.process,this)):this.source,n?this.process(n):this)},process:function(t){var n=this;return t=e.grep(t,function(e){return n.matcher(e)}),t=this.sorter(t),t.length?this.render(t.slice(0,this.options.items)).show():this.shown?this.hide():this},matcher:function(e){return~e.toLowerCase().indexOf(this.query.toLowerCase())},sorter:function(e){var t=[],n=[],r=[],i;while(i=e.shift())i.toLowerCase().indexOf(this.query.toLowerCase())?~i.indexOf(this.query)?n.push(i):r.push(i):t.push(i);return t.concat(n,r)},highlighter:function(e){var t=this.query.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&");return e.replace(new RegExp("("+t+")","ig"),function(e,t){return"<strong>"+t+"</strong>"})},render:function(t){var n=this;return t=e(t).map(function(t,r){return t=e(n.options.item).attr("data-value",r),t.find("a").html(n.highlighter(r)),t[0]}),t.first().addClass("active"),this.$menu.html(t),this},next:function(t){var n=this.$menu.find(".active").removeClass("active"),r=n.next();r.length||(r=e(this.$menu.find("li")[0])),r.addClass("active")},prev:function(e){var t=this.$menu.find(".active").removeClass("active"),n=t.prev();n.length||(n=this.$menu.find("li").last()),n.addClass("active")},listen:function(){this.$element.on("blur",e.proxy(this.blur,this)).on("keypress",e.proxy(this.keypress,this)).on("keyup",e.proxy(this.keyup,this)),this.eventSupported("keydown")&&this.$element.on("keydown",e.proxy(this.keydown,this)),this.$menu.on("click",e.proxy(this.click,this)).on("mouseenter","li",e.proxy(this.mouseenter,this))},eventSupported:function(e){var t=e in this.$element;return t||(this.$element.setAttribute(e,"return;"),t=typeof this.$element[e]=="function"),t},move:function(e){if(!this.shown)return;switch(e.keyCode){case 9:case 13:case 27:e.preventDefault();break;case 38:e.preventDefault(),this.prev();break;case 40:e.preventDefault(),this.next()}e.stopPropagation()},keydown:function(t){this.suppressKeyPressRepeat=!~e.inArray(t.keyCode,[40,38,9,13,27]),this.move(t)},keypress:function(e){if(this.suppressKeyPressRepeat)return;this.move(e)},keyup:function(e){switch(e.keyCode){case 40:case 38:case 16:case 17:case 18:break;case 9:case 13:if(!this.shown)return;this.select();break;case 27:if(!this.shown)return;this.hide();break;default:this.lookup()}e.stopPropagation(),e.preventDefault()},blur:function(e){var t=this;setTimeout(function(){t.hide()},150)},click:function(e){e.stopPropagation(),e.preventDefault(),this.select()},mouseenter:function(t){this.$menu.find(".active").removeClass("active"),e(t.currentTarget).addClass("active")}},e.fn.typeahead=function(n){return this.each(function(){var r=e(this),i=r.data("typeahead"),s=typeof n=="object"&&n;i||r.data("typeahead",i=new t(this,s)),typeof n=="string"&&i[n]()})},e.fn.typeahead.defaults={source:[],items:8,menu:'<ul class="typeahead dropdown-menu"></ul>',item:'<li><a href="#"></a></li>',minLength:1},e.fn.typeahead.Constructor=t,e(document).on("focus.typeahead.data-api",'[data-provide="typeahead"]',function(t){var n=e(this);if(n.data("typeahead"))return;t.preventDefault(),n.typeahead(n.data())})}(window.jQuery),!function(e){"use strict";var t=function(t,n){this.options=e.extend({},e.fn.affix.defaults,n),this.$window=e(window).on("scroll.affix.data-api",e.proxy(this.checkPosition,this)).on("click.affix.data-api",e.proxy(function(){setTimeout(e.proxy(this.checkPosition,this),1)},this)),this.$element=e(t),this.checkPosition()};t.prototype.checkPosition=function(){if(!this.$element.is(":visible"))return;var t=e(document).height(),n=this.$window.scrollTop(),r=this.$element.offset(),i=this.options.offset,s=i.bottom,o=i.top,u="affix affix-top affix-bottom",a;typeof i!="object"&&(s=o=i),typeof o=="function"&&(o=i.top()),typeof s=="function"&&(s=i.bottom()),a=this.unpin!=null&&n+this.unpin<=r.top?!1:s!=null&&r.top+this.$element.height()>=t-s?"bottom":o!=null&&n<=o?"top":!1;if(this.affixed===a)return;this.affixed=a,this.unpin=a=="bottom"?r.top-n:null,this.$element.removeClass(u).addClass("affix"+(a?"-"+a:""))},e.fn.affix=function(n){return this.each(function(){var r=e(this),i=r.data("affix"),s=typeof n=="object"&&n;i||r.data("affix",i=new t(this,s)),typeof n=="string"&&i[n]()})},e.fn.affix.Constructor=t,e.fn.affix.defaults={offset:0},e(window).on("load",function(){e('[data-spy="affix"]').each(function(){var t=e(this),n=t.data();n.offset=n.offset||{},n.offsetBottom&&(n.offset.bottom=n.offsetBottom),n.offsetTop&&(n.offset.top=n.offsetTop),t.affix(n)})})}(window.jQuery)
;
Meteor.startup(function(){document.body.appendChild(Spark.render(Meteor._def_template(null,Handlebars.json_ast_to_func([["{",[[0,"renderPage"]]]]))))})
;
Meteor._def_template("edit",Handlebars.json_ast_to_func(['<div class="container code"> \n        <div class="navbar navbar-inverse navbar-fixed-top"> \n            <div class="navbar-inner"> \n                <div class="contianer">\n                <ul class="nav">\n                    <li class="brand">VOKALPad</li>\n                </ul>\n                <div class="btn-toolbar pull-right">\n                    ',[">","languages"],'\n                    <div class="btn-group" data-toggle="buttons-radio">\n                        <button class="btn active" class-toggle="btn-down" data-toggle="button" id="default">Default</button>\n                        <button class="btn" class-toggle="btn-down" data-toggle="button" id="vim">Vim</button>\n                        <button class="btn" class-toggle="btn-down" data-toggle="button" id="emacs">Emacs</button>\n                    </div>\n                </div>\n                </div>\n            </div>\n        </div>\n        <div class="row"> \n            <div class="span12 edit">\n            </div>\n        </div>\n    </div>\n    <div class="watermark">\n    </div>']))
;
Meteor._def_template("hello",Handlebars.json_ast_to_func(['<div class="container">\n        <div class="row">\n            <div class="span12 pad-top">\n                <div class="center_horizontal">\n                    <button id="random" class="btn btn-success btn-large">Create Random Document</button>\n                </div>\n                <div class="center_horizontal">\n                    <form class="form-inline">\n                    <input type="text" class="input-medium" id="name" placeholder="Document Name" />\n                    <button id="go" class="btn btn-primary btn-medium">Create Document</button>\n                    </form>\n                </div>\n            </div>\n        </div>\n    </div>']))
;
Meteor._def_template("languages",Handlebars.json_ast_to_func(['<div class="dropdown btn-group">\n    <a class="btn dropdown-toggle" data-toggle="dropdown" href="#">\n        Syntax\n        <span class="caret"></span>\n    </a>\n    <ul class="dropdown-menu" role="menu" aria-labelledby="dLabel">\n        <li><a class="syntax-type" data="text/x-c++src" >C / C++ / Obj-C</a></li>\n        <li><a class="syntax-type" data="text/x-csharp" >C#</a></li>\n        <li><a class="syntax-type" data="text/x-go" >Go</a></li>\n        <li><a class="syntax-type" data="text/x-java" >Java</a></li>\n        <li><a class="syntax-type" data="text/javascript" >JavaScript</a></li>\n        <li><a class="syntax-type" data="text/x-python" >Python</a></li>\n        <li><a class="syntax-type" data="text/x-ruby" >Ruby</a></li>\n        <li><a class="syntax-type" data="text" >Plain Text</a></li>\n    </ul>\n</div>']))
;
CodeFile=new Meteor.Collection("code_files"),Meteor.isClient&&(Meteor.Router.add({"/p/:id":function(e){return Meteor.call("setupFile",e),Session.set("currentFile",e),"edit"},"*":"hello"}),Template.hello.rendered=function(){var e=function(){var e="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",t=10,n="";for(var r=0;r<t;r++){var i=Math.floor(Math.random()*e.length);n+=e.substring(i,i+1)}return n};$("#random").click(function(){window.location="/p/"+e()}),$("#go").click(function(){Meteor.Router.to("/p/"+$("#name").val())})},Template.edit.rendered=function(){var e=Session.get("currentFile"),t=CodeFile.find({id:e}),n=CodeMirror(this.find(".edit"),{lineNumbers:!0,indentUnit:4,indentWithTabs:!1,smartIndent:!0,theme:"solarized dark",extraKeys:{Tab:function(e){e.replaceSelection("    ","end")}}});$(".CodeMirror-scroll div:first-child").css("min-height","200px"),$(".dropdown-toggle").dropdown(),$(".brand").click(function(){window.location="/"}),$(".syntax-type").click(function(){CodeFile.update({id:e},{$set:{syntax:$(this).attr("data")}})}),$('.btn-group > .btn, .btn[data-toggle="button"]').click(function(){if($(this).attr("class-toggle")!=undefined&&!$(this).hasClass("disabled")){var e=$(this).parent(".btn-group");e.attr("data-toggle")=="buttons-radio"&&(e.find(".btn").each(function(){$(this).removeClass($(this).attr("class-toggle"))}),$(this).addClass($(this).attr("class-toggle")));if(e.attr("data-toggle")=="buttons-checkbox"||$(this).attr("data-toggle")=="button")$(this).hasClass("active")?$(this).removeClass($(this).attr("class-toggle")):$(this).addClass($(this).attr("class-toggle"))}}),$("#default").click(function(){n.setOption("keyMap","default")}),$("#vim").click(function(){n.setOption("keyMap","vim")}),$("#emacs").click(function(){n.setOption("keyMap","emacs")}),handle=t.observe({added:function(e,t){n.setValue(e.contents),n.clearHistory(),e.syntax!=undefined&&n.setOption("mode",e.syntax)},changed:function(e,t,r){e.contents!=n.getValue()&&(history=n.getHistory(),cursor=n.getCursor(),yoffset=window.pageYOffset,scroll=n.getScrollInfo(),n.setValue(e.contents),n.scrollTo(scroll.left,0),window.scrollTo(0,yoffset),n.setCursor(cursor),n.setHistory(history)),e.syntax!=undefined&&e.syntax!=r.syntax&&n.setOption("mode",e.syntax)}}),n.on("change",function(t,r){if(r["origin"]=="setValue")return;CodeFile.update({id:e},{$set:{contents:n.getValue()}})})}),Meteor.isServer&&(Meteor.Router.add({"/p/:id/raw":function(e){return Meteor.call("setupFile",e),Session.set("currentFile",e),file=CodeFile.findOne({id:e}),file.contents}}),Meteor.methods({setupFile:function(e){CodeFile.findOne({id:e})===undefined&&(console.log("Creating "+e),CodeFile.insert({id:e,contents:"Hello World"}))}}))